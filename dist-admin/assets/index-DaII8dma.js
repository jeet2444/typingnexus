function Xg(n,r){for(var s=0;s<r.length;s++){const l=r[s];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in n)){const u=Object.getOwnPropertyDescriptor(l,c);u&&Object.defineProperty(n,c,u.get?u:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function s(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(c){if(c.ep)return;c.ep=!0;const u=s(c);fetch(c.href,u)}})();function ef(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _o={exports:{}},Rs={},No={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh;function Zg(){if(rh)return xe;rh=1;var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function b(S){return S===null||typeof S!="object"?null:(S=w&&S[w]||S["@@iterator"],typeof S=="function"?S:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,T={};function N(S,C,K){this.props=S,this.context=C,this.refs=T,this.updater=K||k}N.prototype.isReactComponent={},N.prototype.setState=function(S,C){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,C,"setState")},N.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function R(){}R.prototype=N.prototype;function _(S,C,K){this.props=S,this.context=C,this.refs=T,this.updater=K||k}var P=_.prototype=new R;P.constructor=_,x(P,N.prototype),P.isPureReactComponent=!0;var M=Array.isArray,V=Object.prototype.hasOwnProperty,q={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function Z(S,C,K){var ae,se={},he=null,pe=null;if(C!=null)for(ae in C.ref!==void 0&&(pe=C.ref),C.key!==void 0&&(he=""+C.key),C)V.call(C,ae)&&!ne.hasOwnProperty(ae)&&(se[ae]=C[ae]);var ye=arguments.length-2;if(ye===1)se.children=K;else if(1<ye){for(var ie=Array(ye),Le=0;Le<ye;Le++)ie[Le]=arguments[Le+2];se.children=ie}if(S&&S.defaultProps)for(ae in ye=S.defaultProps,ye)se[ae]===void 0&&(se[ae]=ye[ae]);return{$$typeof:n,type:S,key:he,ref:pe,props:se,_owner:q.current}}function be(S,C){return{$$typeof:n,type:S.type,key:C,ref:S.ref,props:S.props,_owner:S._owner}}function Fe(S){return typeof S=="object"&&S!==null&&S.$$typeof===n}function ve(S){var C={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(K){return C[K]})}var Se=/\/+/g;function Ae(S,C){return typeof S=="object"&&S!==null&&S.key!=null?ve(""+S.key):C.toString(36)}function me(S,C,K,ae,se){var he=typeof S;(he==="undefined"||he==="boolean")&&(S=null);var pe=!1;if(S===null)pe=!0;else switch(he){case"string":case"number":pe=!0;break;case"object":switch(S.$$typeof){case n:case r:pe=!0}}if(pe)return pe=S,se=se(pe),S=ae===""?"."+Ae(pe,0):ae,M(se)?(K="",S!=null&&(K=S.replace(Se,"$&/")+"/"),me(se,C,K,"",function(Le){return Le})):se!=null&&(Fe(se)&&(se=be(se,K+(!se.key||pe&&pe.key===se.key?"":(""+se.key).replace(Se,"$&/")+"/")+S)),C.push(se)),1;if(pe=0,ae=ae===""?".":ae+":",M(S))for(var ye=0;ye<S.length;ye++){he=S[ye];var ie=ae+Ae(he,ye);pe+=me(he,C,K,ie,se)}else if(ie=b(S),typeof ie=="function")for(S=ie.call(S),ye=0;!(he=S.next()).done;)he=he.value,ie=ae+Ae(he,ye++),pe+=me(he,C,K,ie,se);else if(he==="object")throw C=String(S),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.");return pe}function G(S,C,K){if(S==null)return S;var ae=[],se=0;return me(S,ae,"","",function(he){return C.call(K,he,se++)}),ae}function ge(S){if(S._status===-1){var C=S._result;C=C(),C.then(function(K){(S._status===0||S._status===-1)&&(S._status=1,S._result=K)},function(K){(S._status===0||S._status===-1)&&(S._status=2,S._result=K)}),S._status===-1&&(S._status=0,S._result=C)}if(S._status===1)return S._result.default;throw S._result}var fe={current:null},F={transition:null},W={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:F,ReactCurrentOwner:q};return xe.Children={map:G,forEach:function(S,C,K){G(S,function(){C.apply(this,arguments)},K)},count:function(S){var C=0;return G(S,function(){C++}),C},toArray:function(S){return G(S,function(C){return C})||[]},only:function(S){if(!Fe(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},xe.Component=N,xe.Fragment=s,xe.Profiler=c,xe.PureComponent=_,xe.StrictMode=l,xe.Suspense=g,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,xe.cloneElement=function(S,C,K){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var ae=x({},S.props),se=S.key,he=S.ref,pe=S._owner;if(C!=null){if(C.ref!==void 0&&(he=C.ref,pe=q.current),C.key!==void 0&&(se=""+C.key),S.type&&S.type.defaultProps)var ye=S.type.defaultProps;for(ie in C)V.call(C,ie)&&!ne.hasOwnProperty(ie)&&(ae[ie]=C[ie]===void 0&&ye!==void 0?ye[ie]:C[ie])}var ie=arguments.length-2;if(ie===1)ae.children=K;else if(1<ie){ye=Array(ie);for(var Le=0;Le<ie;Le++)ye[Le]=arguments[Le+2];ae.children=ye}return{$$typeof:n,type:S.type,key:se,ref:he,props:ae,_owner:pe}},xe.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:u,_context:S},S.Consumer=S},xe.createElement=Z,xe.createFactory=function(S){var C=Z.bind(null,S);return C.type=S,C},xe.createRef=function(){return{current:null}},xe.forwardRef=function(S){return{$$typeof:p,render:S}},xe.isValidElement=Fe,xe.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:ge}},xe.memo=function(S,C){return{$$typeof:m,type:S,compare:C===void 0?null:C}},xe.startTransition=function(S){var C=F.transition;F.transition={};try{S()}finally{F.transition=C}},xe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},xe.useCallback=function(S,C){return fe.current.useCallback(S,C)},xe.useContext=function(S){return fe.current.useContext(S)},xe.useDebugValue=function(){},xe.useDeferredValue=function(S){return fe.current.useDeferredValue(S)},xe.useEffect=function(S,C){return fe.current.useEffect(S,C)},xe.useId=function(){return fe.current.useId()},xe.useImperativeHandle=function(S,C,K){return fe.current.useImperativeHandle(S,C,K)},xe.useInsertionEffect=function(S,C){return fe.current.useInsertionEffect(S,C)},xe.useLayoutEffect=function(S,C){return fe.current.useLayoutEffect(S,C)},xe.useMemo=function(S,C){return fe.current.useMemo(S,C)},xe.useReducer=function(S,C,K){return fe.current.useReducer(S,C,K)},xe.useRef=function(S){return fe.current.useRef(S)},xe.useState=function(S){return fe.current.useState(S)},xe.useSyncExternalStore=function(S,C,K){return fe.current.useSyncExternalStore(S,C,K)},xe.useTransition=function(){return fe.current.useTransition()},xe.version="18.2.0",xe}var nh;function ac(){return nh||(nh=1,No.exports=Zg()),No.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh;function em(){if(sh)return Rs;sh=1;var n=ac(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(p,g,m){var v,w={},b=null,k=null;m!==void 0&&(b=""+m),g.key!==void 0&&(b=""+g.key),g.ref!==void 0&&(k=g.ref);for(v in g)l.call(g,v)&&!u.hasOwnProperty(v)&&(w[v]=g[v]);if(p&&p.defaultProps)for(v in g=p.defaultProps,g)w[v]===void 0&&(w[v]=g[v]);return{$$typeof:r,type:p,key:b,ref:k,props:w,_owner:c.current}}return Rs.Fragment=s,Rs.jsx=h,Rs.jsxs=h,Rs}var ah;function tm(){return ah||(ah=1,_o.exports=em()),_o.exports}var a=tm(),D=ac();const Ms=ef(D),rm=Xg({__proto__:null,default:Ms},[D]);var di={},So={exports:{}},xt={},Co={exports:{}},Eo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih;function nm(){return ih||(ih=1,(function(n){function r(F,W){var S=F.length;F.push(W);e:for(;0<S;){var C=S-1>>>1,K=F[C];if(0<c(K,W))F[C]=W,F[S]=K,S=C;else break e}}function s(F){return F.length===0?null:F[0]}function l(F){if(F.length===0)return null;var W=F[0],S=F.pop();if(S!==W){F[0]=S;e:for(var C=0,K=F.length,ae=K>>>1;C<ae;){var se=2*(C+1)-1,he=F[se],pe=se+1,ye=F[pe];if(0>c(he,S))pe<K&&0>c(ye,he)?(F[C]=ye,F[pe]=S,C=pe):(F[C]=he,F[se]=S,C=se);else if(pe<K&&0>c(ye,S))F[C]=ye,F[pe]=S,C=pe;else break e}}return W}function c(F,W){var S=F.sortIndex-W.sortIndex;return S!==0?S:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();n.unstable_now=function(){return h.now()-p}}var g=[],m=[],v=1,w=null,b=3,k=!1,x=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(F){for(var W=s(m);W!==null;){if(W.callback===null)l(m);else if(W.startTime<=F)l(m),W.sortIndex=W.expirationTime,r(g,W);else break;W=s(m)}}function M(F){if(T=!1,P(F),!x)if(s(g)!==null)x=!0,ge(V);else{var W=s(m);W!==null&&fe(M,W.startTime-F)}}function V(F,W){x=!1,T&&(T=!1,R(Z),Z=-1),k=!0;var S=b;try{for(P(W),w=s(g);w!==null&&(!(w.expirationTime>W)||F&&!ve());){var C=w.callback;if(typeof C=="function"){w.callback=null,b=w.priorityLevel;var K=C(w.expirationTime<=W);W=n.unstable_now(),typeof K=="function"?w.callback=K:w===s(g)&&l(g),P(W)}else l(g);w=s(g)}if(w!==null)var ae=!0;else{var se=s(m);se!==null&&fe(M,se.startTime-W),ae=!1}return ae}finally{w=null,b=S,k=!1}}var q=!1,ne=null,Z=-1,be=5,Fe=-1;function ve(){return!(n.unstable_now()-Fe<be)}function Se(){if(ne!==null){var F=n.unstable_now();Fe=F;var W=!0;try{W=ne(!0,F)}finally{W?Ae():(q=!1,ne=null)}}else q=!1}var Ae;if(typeof _=="function")Ae=function(){_(Se)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,G=me.port2;me.port1.onmessage=Se,Ae=function(){G.postMessage(null)}}else Ae=function(){N(Se,0)};function ge(F){ne=F,q||(q=!0,Ae())}function fe(F,W){Z=N(function(){F(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){x||k||(x=!0,ge(V))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return s(g)},n.unstable_next=function(F){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var S=b;b=W;try{return F()}finally{b=S}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var S=b;b=F;try{return W()}finally{b=S}},n.unstable_scheduleCallback=function(F,W,S){var C=n.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?C+S:C):S=C,F){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=S+K,F={id:v++,callback:W,priorityLevel:F,startTime:S,expirationTime:K,sortIndex:-1},S>C?(F.sortIndex=S,r(m,F),s(g)===null&&F===s(m)&&(T?(R(Z),Z=-1):T=!0,fe(M,S-C))):(F.sortIndex=K,r(g,F),x||k||(x=!0,ge(V))),F},n.unstable_shouldYield=ve,n.unstable_wrapCallback=function(F){var W=b;return function(){var S=b;b=W;try{return F.apply(this,arguments)}finally{b=S}}}})(Eo)),Eo}var lh;function sm(){return lh||(lh=1,Co.exports=nm()),Co.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh;function am(){if(oh)return xt;oh=1;var n=ac(),r=sm();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,c={};function u(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(c[e]=t,e=0;e<t.length;e++)l.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function b(e){return g.call(w,e)?!0:g.call(v,e)?!1:m.test(e)?w[e]=!0:(v[e]=!0,!1)}function k(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function x(e,t,i,o){if(t===null||typeof t>"u"||k(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function T(e,t,i,o,d,f,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=y}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){N[e]=new T(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];N[t]=new T(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){N[e]=new T(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){N[e]=new T(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){N[e]=new T(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){N[e]=new T(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){N[e]=new T(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){N[e]=new T(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){N[e]=new T(e,5,!1,e.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(R,_);N[t]=new T(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(R,_);N[t]=new T(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(R,_);N[t]=new T(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){N[e]=new T(e,1,!1,e.toLowerCase(),null,!1,!1)}),N.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){N[e]=new T(e,1,!1,e.toLowerCase(),null,!0,!0)});function P(e,t,i,o){var d=N.hasOwnProperty(t)?N[t]:null;(d!==null?d.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(x(t,i,d,o)&&(i=null),o||d===null?b(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):d.mustUseProperty?e[d.propertyName]=i===null?d.type===3?!1:"":i:(t=d.attributeName,o=d.attributeNamespace,i===null?e.removeAttribute(t):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var M=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),q=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),Fe=Symbol.for("react.provider"),ve=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),F=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var S=Object.assign,C;function K(e){if(C===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);C=t&&t[1]||""}return`
`+C+e}var ae=!1;function se(e,t){if(!e||ae)return"";ae=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(L){var o=L}Reflect.construct(e,[],t)}else{try{t.call()}catch(L){o=L}e.call(t.prototype)}else{try{throw Error()}catch(L){o=L}e()}}catch(L){if(L&&o&&typeof L.stack=="string"){for(var d=L.stack.split(`
`),f=o.stack.split(`
`),y=d.length-1,j=f.length-1;1<=y&&0<=j&&d[y]!==f[j];)j--;for(;1<=y&&0<=j;y--,j--)if(d[y]!==f[j]){if(y!==1||j!==1)do if(y--,j--,0>j||d[y]!==f[j]){var E=`
`+d[y].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=y&&0<=j);break}}}finally{ae=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?K(e):""}function he(e){switch(e.tag){case 5:return K(e.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return e=se(e.type,!1),e;case 11:return e=se(e.type.render,!1),e;case 1:return e=se(e.type,!0),e;default:return""}}function pe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ne:return"Fragment";case q:return"Portal";case be:return"Profiler";case Z:return"StrictMode";case Ae:return"Suspense";case me:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ve:return(e.displayName||"Context")+".Consumer";case Fe:return(e._context.displayName||"Context")+".Provider";case Se:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return t=e.displayName||null,t!==null?t:pe(e.type)||"Memo";case ge:t=e._payload,e=e._init;try{return pe(e(t))}catch{}}return null}function ye(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(t);case 8:return t===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ie(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Le(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jt(e){var t=Le(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(y){o=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qt(e){e._valueTracker||(e._valueTracker=Jt(e))}function Xs(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=Le(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function cn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gn(e,t){var i=t.checked;return S({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Zs(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=ie(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ea(e,t){t=t.checked,t!=null&&P(e,"checked",t,!1)}function $(e,t){ea(e,t);var i=ie(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Et(e,t.type,i):t.hasOwnProperty("defaultValue")&&Et(e,t.type,ie(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function je(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Et(e,t,i){(t!=="number"||cn(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Pe=Array.isArray;function _e(e,t,i,o){if(e=e.options,t){t={};for(var d=0;d<i.length;d++)t["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=t.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&o&&(e[i].defaultSelected=!0)}else{for(i=""+ie(i),t=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function Dt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return S({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ht(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(s(92));if(Pe(i)){if(1<i.length)throw Error(s(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:ie(i)}}function Mt(e,t){var i=ie(t.value),o=ie(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function ta(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ra(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function na(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ra(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var un,Jn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,d){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,d)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(un=un||document.createElement("div"),un.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=un.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yt(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var pr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rp=["Webkit","ms","Moz","O"];Object.keys(pr).forEach(function(e){rp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pr[t]=pr[e]})});function mc(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||pr.hasOwnProperty(e)&&pr[e]?(""+t).trim():t+"px"}function yc(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,d=mc(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,d):e[i]=d}}var np=S({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Li(e,t){if(t){if(np[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Di(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mi=null;function Ui(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $i=null,dn=null,hn=null;function xc(e){if(e=ys(e)){if(typeof $i!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Sa(t),$i(e.stateNode,e.type,t))}}function vc(e){dn?hn?hn.push(e):hn=[e]:dn=e}function bc(){if(dn){var e=dn,t=hn;if(hn=dn=null,xc(e),t)for(e=0;e<t.length;e++)xc(t[e])}}function wc(e,t){return e(t)}function jc(){}var zi=!1;function kc(e,t,i){if(zi)return e(t,i);zi=!0;try{return wc(e,t,i)}finally{zi=!1,(dn!==null||hn!==null)&&(jc(),bc())}}function Qn(e,t){var i=e.stateNode;if(i===null)return null;var o=Sa(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var Bi=!1;if(p)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){Bi=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{Bi=!1}function sp(e,t,i,o,d,f,y,j,E){var L=Array.prototype.slice.call(arguments,3);try{t.apply(i,L)}catch(z){this.onError(z)}}var Xn=!1,sa=null,aa=!1,Fi=null,ap={onError:function(e){Xn=!0,sa=e}};function ip(e,t,i,o,d,f,y,j,E){Xn=!1,sa=null,sp.apply(ap,arguments)}function lp(e,t,i,o,d,f,y,j,E){if(ip.apply(this,arguments),Xn){if(Xn){var L=sa;Xn=!1,sa=null}else throw Error(s(198));aa||(aa=!0,Fi=L)}}function Ur(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function _c(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nc(e){if(Ur(e)!==e)throw Error(s(188))}function op(e){var t=e.alternate;if(!t){if(t=Ur(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,o=t;;){var d=i.return;if(d===null)break;var f=d.alternate;if(f===null){if(o=d.return,o!==null){i=o;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===i)return Nc(d),e;if(f===o)return Nc(d),t;f=f.sibling}throw Error(s(188))}if(i.return!==o.return)i=d,o=f;else{for(var y=!1,j=d.child;j;){if(j===i){y=!0,i=d,o=f;break}if(j===o){y=!0,o=d,i=f;break}j=j.sibling}if(!y){for(j=f.child;j;){if(j===i){y=!0,i=f,o=d;break}if(j===o){y=!0,o=f,i=d;break}j=j.sibling}if(!y)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function Sc(e){return e=op(e),e!==null?Cc(e):null}function Cc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cc(e);if(t!==null)return t;e=e.sibling}return null}var Ec=r.unstable_scheduleCallback,Tc=r.unstable_cancelCallback,cp=r.unstable_shouldYield,up=r.unstable_requestPaint,He=r.unstable_now,dp=r.unstable_getCurrentPriorityLevel,Hi=r.unstable_ImmediatePriority,Ac=r.unstable_UserBlockingPriority,ia=r.unstable_NormalPriority,hp=r.unstable_LowPriority,Pc=r.unstable_IdlePriority,la=null,Xt=null;function fp(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(la,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:mp,pp=Math.log,gp=Math.LN2;function mp(e){return e>>>=0,e===0?32:31-(pp(e)/gp|0)|0}var oa=64,ca=4194304;function Zn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ua(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,d=e.suspendedLanes,f=e.pingedLanes,y=i&268435455;if(y!==0){var j=y&~d;j!==0?o=Zn(j):(f&=y,f!==0&&(o=Zn(f)))}else y=i&~d,y!==0?o=Zn(y):f!==0&&(o=Zn(f));if(o===0)return 0;if(t!==0&&t!==o&&(t&d)===0&&(d=o&-o,f=t&-t,d>=f||d===16&&(f&4194240)!==0))return t;if((o&4)!==0&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-Ut(t),d=1<<i,o|=e[i],t&=~d;return o}function yp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xp(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var y=31-Ut(f),j=1<<y,E=d[y];E===-1?((j&i)===0||(j&o)!==0)&&(d[y]=yp(j,t)):E<=t&&(e.expiredLanes|=j),f&=~j}}function Vi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rc(){var e=oa;return oa<<=1,(oa&4194240)===0&&(oa=64),e}function Wi(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function es(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=i}function vp(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var d=31-Ut(i),f=1<<d;t[d]=0,o[d]=-1,e[d]=-1,i&=~f}}function qi(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-Ut(i),d=1<<o;d&t|e[o]&t&&(e[o]|=t),i&=~d}}var Ne=0;function Ic(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Oc,Ki,Lc,Dc,Mc,Gi=!1,da=[],gr=null,mr=null,yr=null,ts=new Map,rs=new Map,xr=[],bp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uc(e,t){switch(e){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":ts.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(t.pointerId)}}function ns(e,t,i,o,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:f,targetContainers:[d]},t!==null&&(t=ys(t),t!==null&&Ki(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function wp(e,t,i,o,d){switch(t){case"focusin":return gr=ns(gr,e,t,i,o,d),!0;case"dragenter":return mr=ns(mr,e,t,i,o,d),!0;case"mouseover":return yr=ns(yr,e,t,i,o,d),!0;case"pointerover":var f=d.pointerId;return ts.set(f,ns(ts.get(f)||null,e,t,i,o,d)),!0;case"gotpointercapture":return f=d.pointerId,rs.set(f,ns(rs.get(f)||null,e,t,i,o,d)),!0}return!1}function $c(e){var t=$r(e.target);if(t!==null){var i=Ur(t);if(i!==null){if(t=i.tag,t===13){if(t=_c(i),t!==null){e.blockedOn=t,Mc(e.priority,function(){Lc(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ha(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Qi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);Mi=o,i.target.dispatchEvent(o),Mi=null}else return t=ys(i),t!==null&&Ki(t),e.blockedOn=i,!1;t.shift()}return!0}function zc(e,t,i){ha(e)&&i.delete(t)}function jp(){Gi=!1,gr!==null&&ha(gr)&&(gr=null),mr!==null&&ha(mr)&&(mr=null),yr!==null&&ha(yr)&&(yr=null),ts.forEach(zc),rs.forEach(zc)}function ss(e,t){e.blockedOn===t&&(e.blockedOn=null,Gi||(Gi=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jp)))}function as(e){function t(d){return ss(d,e)}if(0<da.length){ss(da[0],e);for(var i=1;i<da.length;i++){var o=da[i];o.blockedOn===e&&(o.blockedOn=null)}}for(gr!==null&&ss(gr,e),mr!==null&&ss(mr,e),yr!==null&&ss(yr,e),ts.forEach(t),rs.forEach(t),i=0;i<xr.length;i++)o=xr[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<xr.length&&(i=xr[0],i.blockedOn===null);)$c(i),i.blockedOn===null&&xr.shift()}var fn=M.ReactCurrentBatchConfig,fa=!0;function kp(e,t,i,o){var d=Ne,f=fn.transition;fn.transition=null;try{Ne=1,Ji(e,t,i,o)}finally{Ne=d,fn.transition=f}}function _p(e,t,i,o){var d=Ne,f=fn.transition;fn.transition=null;try{Ne=4,Ji(e,t,i,o)}finally{Ne=d,fn.transition=f}}function Ji(e,t,i,o){if(fa){var d=Qi(e,t,i,o);if(d===null)fl(e,t,o,pa,i),Uc(e,o);else if(wp(d,e,t,i,o))o.stopPropagation();else if(Uc(e,o),t&4&&-1<bp.indexOf(e)){for(;d!==null;){var f=ys(d);if(f!==null&&Oc(f),f=Qi(e,t,i,o),f===null&&fl(e,t,o,pa,i),f===d)break;d=f}d!==null&&o.stopPropagation()}else fl(e,t,o,null,i)}}var pa=null;function Qi(e,t,i,o){if(pa=null,e=Ui(o),e=$r(e),e!==null)if(t=Ur(e),t===null)e=null;else if(i=t.tag,i===13){if(e=_c(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pa=e,null}function Bc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dp()){case Hi:return 1;case Ac:return 4;case ia:case hp:return 16;case Pc:return 536870912;default:return 16}default:return 16}}var vr=null,Yi=null,ga=null;function Fc(){if(ga)return ga;var e,t=Yi,i=t.length,o,d="value"in vr?vr.value:vr.textContent,f=d.length;for(e=0;e<i&&t[e]===d[e];e++);var y=i-e;for(o=1;o<=y&&t[i-o]===d[f-o];o++);return ga=d.slice(e,1<o?1-o:void 0)}function ma(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ya(){return!0}function Hc(){return!1}function wt(e){function t(i,o,d,f,y){this._reactName=i,this._targetInst=d,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(i=e[j],this[j]=i?i(f):f[j]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ya:Hc,this.isPropagationStopped=Hc,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),t}var pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=wt(pn),is=S({},pn,{view:0,detail:0}),Np=wt(is),Zi,el,ls,xa=S({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ls&&(ls&&e.type==="mousemove"?(Zi=e.screenX-ls.screenX,el=e.screenY-ls.screenY):el=Zi=0,ls=e),Zi)},movementY:function(e){return"movementY"in e?e.movementY:el}}),Vc=wt(xa),Sp=S({},xa,{dataTransfer:0}),Cp=wt(Sp),Ep=S({},is,{relatedTarget:0}),tl=wt(Ep),Tp=S({},pn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ap=wt(Tp),Pp=S({},pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rp=wt(Pp),Ip=S({},pn,{data:0}),Wc=wt(Ip),Op={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dp[e])?!!t[e]:!1}function rl(){return Mp}var Up=S({},is,{key:function(e){if(e.key){var t=Op[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ma(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rl,charCode:function(e){return e.type==="keypress"?ma(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ma(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$p=wt(Up),zp=S({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qc=wt(zp),Bp=S({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rl}),Fp=wt(Bp),Hp=S({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vp=wt(Hp),Wp=S({},xa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qp=wt(Wp),Kp=[9,13,27,32],nl=p&&"CompositionEvent"in window,os=null;p&&"documentMode"in document&&(os=document.documentMode);var Gp=p&&"TextEvent"in window&&!os,Kc=p&&(!nl||os&&8<os&&11>=os),Gc=" ",Jc=!1;function Qc(e,t){switch(e){case"keyup":return Kp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gn=!1;function Jp(e,t){switch(e){case"compositionend":return Yc(t);case"keypress":return t.which!==32?null:(Jc=!0,Gc);case"textInput":return e=t.data,e===Gc&&Jc?null:e;default:return null}}function Qp(e,t){if(gn)return e==="compositionend"||!nl&&Qc(e,t)?(e=Fc(),ga=Yi=vr=null,gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kc&&t.locale!=="ko"?null:t.data;default:return null}}var Yp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yp[e.type]:t==="textarea"}function Zc(e,t,i,o){vc(o),t=ka(t,"onChange"),0<t.length&&(i=new Xi("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var cs=null,us=null;function Xp(e){yu(e,0)}function va(e){var t=bn(e);if(Xs(t))return e}function Zp(e,t){if(e==="change")return t}var eu=!1;if(p){var sl;if(p){var al="oninput"in document;if(!al){var tu=document.createElement("div");tu.setAttribute("oninput","return;"),al=typeof tu.oninput=="function"}sl=al}else sl=!1;eu=sl&&(!document.documentMode||9<document.documentMode)}function ru(){cs&&(cs.detachEvent("onpropertychange",nu),us=cs=null)}function nu(e){if(e.propertyName==="value"&&va(us)){var t=[];Zc(t,us,e,Ui(e)),kc(Xp,t)}}function eg(e,t,i){e==="focusin"?(ru(),cs=t,us=i,cs.attachEvent("onpropertychange",nu)):e==="focusout"&&ru()}function tg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return va(us)}function rg(e,t){if(e==="click")return va(t)}function ng(e,t){if(e==="input"||e==="change")return va(t)}function sg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:sg;function ds(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var d=i[o];if(!g.call(t,d)||!$t(e[d],t[d]))return!1}return!0}function su(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function au(e,t){var i=su(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=su(i)}}function iu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lu(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=cn(e.document)}return t}function il(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ag(e){var t=lu(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&iu(i.ownerDocument.documentElement,i)){if(o!==null&&il(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=i.textContent.length,f=Math.min(o.start,d);o=o.end===void 0?f:Math.min(o.end,d),!e.extend&&f>o&&(d=o,o=f,f=d),d=au(i,f);var y=au(i,o);d&&y&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),f>o?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ig=p&&"documentMode"in document&&11>=document.documentMode,mn=null,ll=null,hs=null,ol=!1;function ou(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ol||mn==null||mn!==cn(o)||(o=mn,"selectionStart"in o&&il(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),hs&&ds(hs,o)||(hs=o,o=ka(ll,"onSelect"),0<o.length&&(t=new Xi("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=mn)))}function ba(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var yn={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionend:ba("Transition","TransitionEnd")},cl={},cu={};p&&(cu=document.createElement("div").style,"AnimationEvent"in window||(delete yn.animationend.animation,delete yn.animationiteration.animation,delete yn.animationstart.animation),"TransitionEvent"in window||delete yn.transitionend.transition);function wa(e){if(cl[e])return cl[e];if(!yn[e])return e;var t=yn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in cu)return cl[e]=t[i];return e}var uu=wa("animationend"),du=wa("animationiteration"),hu=wa("animationstart"),fu=wa("transitionend"),pu=new Map,gu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(e,t){pu.set(e,t),u(t,[e])}for(var ul=0;ul<gu.length;ul++){var dl=gu[ul],lg=dl.toLowerCase(),og=dl[0].toUpperCase()+dl.slice(1);br(lg,"on"+og)}br(uu,"onAnimationEnd"),br(du,"onAnimationIteration"),br(hu,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(fu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cg=new Set("cancel close invalid load scroll toggle".split(" ").concat(fs));function mu(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,lp(o,t,void 0,e),e.currentTarget=null}function yu(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],d=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var y=o.length-1;0<=y;y--){var j=o[y],E=j.instance,L=j.currentTarget;if(j=j.listener,E!==f&&d.isPropagationStopped())break e;mu(d,j,L),f=E}else for(y=0;y<o.length;y++){if(j=o[y],E=j.instance,L=j.currentTarget,j=j.listener,E!==f&&d.isPropagationStopped())break e;mu(d,j,L),f=E}}}if(aa)throw e=Fi,aa=!1,Fi=null,e}function Re(e,t){var i=t[vl];i===void 0&&(i=t[vl]=new Set);var o=e+"__bubble";i.has(o)||(xu(t,e,2,!1),i.add(o))}function hl(e,t,i){var o=0;t&&(o|=4),xu(i,e,o,t)}var ja="_reactListening"+Math.random().toString(36).slice(2);function ps(e){if(!e[ja]){e[ja]=!0,l.forEach(function(i){i!=="selectionchange"&&(cg.has(i)||hl(i,!1,e),hl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ja]||(t[ja]=!0,hl("selectionchange",!1,t))}}function xu(e,t,i,o){switch(Bc(t)){case 1:var d=kp;break;case 4:d=_p;break;default:d=Ji}i=d.bind(null,t,i,e),d=void 0,!Bi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(t,i,{capture:!0,passive:d}):e.addEventListener(t,i,!0):d!==void 0?e.addEventListener(t,i,{passive:d}):e.addEventListener(t,i,!1)}function fl(e,t,i,o,d){var f=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var j=o.stateNode.containerInfo;if(j===d||j.nodeType===8&&j.parentNode===d)break;if(y===4)for(y=o.return;y!==null;){var E=y.tag;if((E===3||E===4)&&(E=y.stateNode.containerInfo,E===d||E.nodeType===8&&E.parentNode===d))return;y=y.return}for(;j!==null;){if(y=$r(j),y===null)return;if(E=y.tag,E===5||E===6){o=f=y;continue e}j=j.parentNode}}o=o.return}kc(function(){var L=f,z=Ui(i),B=[];e:{var U=pu.get(e);if(U!==void 0){var J=Xi,Y=e;switch(e){case"keypress":if(ma(i)===0)break e;case"keydown":case"keyup":J=$p;break;case"focusin":Y="focus",J=tl;break;case"focusout":Y="blur",J=tl;break;case"beforeblur":case"afterblur":J=tl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Cp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Fp;break;case uu:case du:case hu:J=Ap;break;case fu:J=Vp;break;case"scroll":J=Np;break;case"wheel":J=qp;break;case"copy":case"cut":case"paste":J=Rp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=qc}var ee=(t&4)!==0,Ve=!ee&&e==="scroll",I=ee?U!==null?U+"Capture":null:U;ee=[];for(var A=L,O;A!==null;){O=A;var H=O.stateNode;if(O.tag===5&&H!==null&&(O=H,I!==null&&(H=Qn(A,I),H!=null&&ee.push(gs(A,H,O)))),Ve)break;A=A.return}0<ee.length&&(U=new J(U,Y,null,i,z),B.push({event:U,listeners:ee}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",U&&i!==Mi&&(Y=i.relatedTarget||i.fromElement)&&($r(Y)||Y[nr]))break e;if((J||U)&&(U=z.window===z?z:(U=z.ownerDocument)?U.defaultView||U.parentWindow:window,J?(Y=i.relatedTarget||i.toElement,J=L,Y=Y?$r(Y):null,Y!==null&&(Ve=Ur(Y),Y!==Ve||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(J=null,Y=L),J!==Y)){if(ee=Vc,H="onMouseLeave",I="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ee=qc,H="onPointerLeave",I="onPointerEnter",A="pointer"),Ve=J==null?U:bn(J),O=Y==null?U:bn(Y),U=new ee(H,A+"leave",J,i,z),U.target=Ve,U.relatedTarget=O,H=null,$r(z)===L&&(ee=new ee(I,A+"enter",Y,i,z),ee.target=O,ee.relatedTarget=Ve,H=ee),Ve=H,J&&Y)t:{for(ee=J,I=Y,A=0,O=ee;O;O=xn(O))A++;for(O=0,H=I;H;H=xn(H))O++;for(;0<A-O;)ee=xn(ee),A--;for(;0<O-A;)I=xn(I),O--;for(;A--;){if(ee===I||I!==null&&ee===I.alternate)break t;ee=xn(ee),I=xn(I)}ee=null}else ee=null;J!==null&&vu(B,U,J,ee,!1),Y!==null&&Ve!==null&&vu(B,Ve,Y,ee,!0)}}e:{if(U=L?bn(L):window,J=U.nodeName&&U.nodeName.toLowerCase(),J==="select"||J==="input"&&U.type==="file")var te=Zp;else if(Xc(U))if(eu)te=ng;else{te=tg;var le=eg}else(J=U.nodeName)&&J.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(te=rg);if(te&&(te=te(e,L))){Zc(B,te,i,z);break e}le&&le(e,U,L),e==="focusout"&&(le=U._wrapperState)&&le.controlled&&U.type==="number"&&Et(U,"number",U.value)}switch(le=L?bn(L):window,e){case"focusin":(Xc(le)||le.contentEditable==="true")&&(mn=le,ll=L,hs=null);break;case"focusout":hs=ll=mn=null;break;case"mousedown":ol=!0;break;case"contextmenu":case"mouseup":case"dragend":ol=!1,ou(B,i,z);break;case"selectionchange":if(ig)break;case"keydown":case"keyup":ou(B,i,z)}var oe;if(nl)e:{switch(e){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else gn?Qc(e,i)&&(de="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(de="onCompositionStart");de&&(Kc&&i.locale!=="ko"&&(gn||de!=="onCompositionStart"?de==="onCompositionEnd"&&gn&&(oe=Fc()):(vr=z,Yi="value"in vr?vr.value:vr.textContent,gn=!0)),le=ka(L,de),0<le.length&&(de=new Wc(de,e,null,i,z),B.push({event:de,listeners:le}),oe?de.data=oe:(oe=Yc(i),oe!==null&&(de.data=oe)))),(oe=Gp?Jp(e,i):Qp(e,i))&&(L=ka(L,"onBeforeInput"),0<L.length&&(z=new Wc("onBeforeInput","beforeinput",null,i,z),B.push({event:z,listeners:L}),z.data=oe))}yu(B,t)})}function gs(e,t,i){return{instance:e,listener:t,currentTarget:i}}function ka(e,t){for(var i=t+"Capture",o=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Qn(e,i),f!=null&&o.unshift(gs(e,f,d)),f=Qn(e,t),f!=null&&o.push(gs(e,f,d))),e=e.return}return o}function xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vu(e,t,i,o,d){for(var f=t._reactName,y=[];i!==null&&i!==o;){var j=i,E=j.alternate,L=j.stateNode;if(E!==null&&E===o)break;j.tag===5&&L!==null&&(j=L,d?(E=Qn(i,f),E!=null&&y.unshift(gs(i,E,j))):d||(E=Qn(i,f),E!=null&&y.push(gs(i,E,j)))),i=i.return}y.length!==0&&e.push({event:t,listeners:y})}var ug=/\r\n?/g,dg=/\u0000|\uFFFD/g;function bu(e){return(typeof e=="string"?e:""+e).replace(ug,`
`).replace(dg,"")}function _a(e,t,i){if(t=bu(t),bu(e)!==t&&i)throw Error(s(425))}function Na(){}var pl=null,gl=null;function ml(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yl=typeof setTimeout=="function"?setTimeout:void 0,hg=typeof clearTimeout=="function"?clearTimeout:void 0,wu=typeof Promise=="function"?Promise:void 0,fg=typeof queueMicrotask=="function"?queueMicrotask:typeof wu<"u"?function(e){return wu.resolve(null).then(e).catch(pg)}:yl;function pg(e){setTimeout(function(){throw e})}function xl(e,t){var i=t,o=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(o===0){e.removeChild(d),as(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=d}while(i);as(t)}function wr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ju(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var vn=Math.random().toString(36).slice(2),Zt="__reactFiber$"+vn,ms="__reactProps$"+vn,nr="__reactContainer$"+vn,vl="__reactEvents$"+vn,gg="__reactListeners$"+vn,mg="__reactHandles$"+vn;function $r(e){var t=e[Zt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[nr]||i[Zt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=ju(e);e!==null;){if(i=e[Zt])return i;e=ju(e)}return t}e=i,i=e.parentNode}return null}function ys(e){return e=e[Zt]||e[nr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Sa(e){return e[ms]||null}var bl=[],wn=-1;function jr(e){return{current:e}}function Ie(e){0>wn||(e.current=bl[wn],bl[wn]=null,wn--)}function Ce(e,t){wn++,bl[wn]=e.current,e.current=t}var kr={},at=jr(kr),ft=jr(!1),zr=kr;function jn(e,t){var i=e.type.contextTypes;if(!i)return kr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in i)d[f]=t[f];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function pt(e){return e=e.childContextTypes,e!=null}function Ca(){Ie(ft),Ie(at)}function ku(e,t,i){if(at.current!==kr)throw Error(s(168));Ce(at,t),Ce(ft,i)}function _u(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var d in o)if(!(d in t))throw Error(s(108,ye(e)||"Unknown",d));return S({},i,o)}function Ea(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kr,zr=at.current,Ce(at,e),Ce(ft,ft.current),!0}function Nu(e,t,i){var o=e.stateNode;if(!o)throw Error(s(169));i?(e=_u(e,t,zr),o.__reactInternalMemoizedMergedChildContext=e,Ie(ft),Ie(at),Ce(at,e)):Ie(ft),Ce(ft,i)}var sr=null,Ta=!1,wl=!1;function Su(e){sr===null?sr=[e]:sr.push(e)}function yg(e){Ta=!0,Su(e)}function _r(){if(!wl&&sr!==null){wl=!0;var e=0,t=Ne;try{var i=sr;for(Ne=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}sr=null,Ta=!1}catch(d){throw sr!==null&&(sr=sr.slice(e+1)),Ec(Hi,_r),d}finally{Ne=t,wl=!1}}return null}var kn=[],_n=0,Aa=null,Pa=0,Tt=[],At=0,Br=null,ar=1,ir="";function Fr(e,t){kn[_n++]=Pa,kn[_n++]=Aa,Aa=e,Pa=t}function Cu(e,t,i){Tt[At++]=ar,Tt[At++]=ir,Tt[At++]=Br,Br=e;var o=ar;e=ir;var d=32-Ut(o)-1;o&=~(1<<d),i+=1;var f=32-Ut(t)+d;if(30<f){var y=d-d%5;f=(o&(1<<y)-1).toString(32),o>>=y,d-=y,ar=1<<32-Ut(t)+d|i<<d|o,ir=f+e}else ar=1<<f|i<<d|o,ir=e}function jl(e){e.return!==null&&(Fr(e,1),Cu(e,1,0))}function kl(e){for(;e===Aa;)Aa=kn[--_n],kn[_n]=null,Pa=kn[--_n],kn[_n]=null;for(;e===Br;)Br=Tt[--At],Tt[At]=null,ir=Tt[--At],Tt[At]=null,ar=Tt[--At],Tt[At]=null}var jt=null,kt=null,Oe=!1,zt=null;function Eu(e,t){var i=Ot(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Tu(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jt=e,kt=wr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jt=e,kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Br!==null?{id:ar,overflow:ir}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Ot(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,jt=e,kt=null,!0):!1;default:return!1}}function _l(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Nl(e){if(Oe){var t=kt;if(t){var i=t;if(!Tu(e,t)){if(_l(e))throw Error(s(418));t=wr(i.nextSibling);var o=jt;t&&Tu(e,t)?Eu(o,i):(e.flags=e.flags&-4097|2,Oe=!1,jt=e)}}else{if(_l(e))throw Error(s(418));e.flags=e.flags&-4097|2,Oe=!1,jt=e}}}function Au(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jt=e}function Ra(e){if(e!==jt)return!1;if(!Oe)return Au(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ml(e.type,e.memoizedProps)),t&&(t=kt)){if(_l(e))throw Pu(),Error(s(418));for(;t;)Eu(e,t),t=wr(t.nextSibling)}if(Au(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){kt=wr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}kt=null}}else kt=jt?wr(e.stateNode.nextSibling):null;return!0}function Pu(){for(var e=kt;e;)e=wr(e.nextSibling)}function Nn(){kt=jt=null,Oe=!1}function Sl(e){zt===null?zt=[e]:zt.push(e)}var xg=M.ReactCurrentBatchConfig;function Bt(e,t){if(e&&e.defaultProps){t=S({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}var Ia=jr(null),Oa=null,Sn=null,Cl=null;function El(){Cl=Sn=Oa=null}function Tl(e){var t=Ia.current;Ie(Ia),e._currentValue=t}function Al(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function Cn(e,t){Oa=e,Cl=Sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(gt=!0),e.firstContext=null)}function Pt(e){var t=e._currentValue;if(Cl!==e)if(e={context:e,memoizedValue:t,next:null},Sn===null){if(Oa===null)throw Error(s(308));Sn=e,Oa.dependencies={lanes:0,firstContext:e}}else Sn=Sn.next=e;return t}var Hr=null;function Pl(e){Hr===null?Hr=[e]:Hr.push(e)}function Ru(e,t,i,o){var d=t.interleaved;return d===null?(i.next=i,Pl(t)):(i.next=d.next,d.next=i),t.interleaved=i,lr(e,o)}function lr(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Nr=!1;function Rl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Iu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sr(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(we&2)!==0){var d=o.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),o.pending=t,lr(e,i)}return d=o.interleaved,d===null?(t.next=t,Pl(o)):(t.next=d.next,d.next=t),o.interleaved=t,lr(e,i)}function La(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,qi(e,i)}}function Ou(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var d=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?d=f=y:f=f.next=y,i=i.next}while(i!==null);f===null?d=f=t:f=f.next=t}else d=f=t;i={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Da(e,t,i,o){var d=e.updateQueue;Nr=!1;var f=d.firstBaseUpdate,y=d.lastBaseUpdate,j=d.shared.pending;if(j!==null){d.shared.pending=null;var E=j,L=E.next;E.next=null,y===null?f=L:y.next=L,y=E;var z=e.alternate;z!==null&&(z=z.updateQueue,j=z.lastBaseUpdate,j!==y&&(j===null?z.firstBaseUpdate=L:j.next=L,z.lastBaseUpdate=E))}if(f!==null){var B=d.baseState;y=0,z=L=E=null,j=f;do{var U=j.lane,J=j.eventTime;if((o&U)===U){z!==null&&(z=z.next={eventTime:J,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var Y=e,ee=j;switch(U=t,J=i,ee.tag){case 1:if(Y=ee.payload,typeof Y=="function"){B=Y.call(J,B,U);break e}B=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=ee.payload,U=typeof Y=="function"?Y.call(J,B,U):Y,U==null)break e;B=S({},B,U);break e;case 2:Nr=!0}}j.callback!==null&&j.lane!==0&&(e.flags|=64,U=d.effects,U===null?d.effects=[j]:U.push(j))}else J={eventTime:J,lane:U,tag:j.tag,payload:j.payload,callback:j.callback,next:null},z===null?(L=z=J,E=B):z=z.next=J,y|=U;if(j=j.next,j===null){if(j=d.shared.pending,j===null)break;U=j,j=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);if(z===null&&(E=B),d.baseState=E,d.firstBaseUpdate=L,d.lastBaseUpdate=z,t=d.shared.interleaved,t!==null){d=t;do y|=d.lane,d=d.next;while(d!==t)}else f===null&&(d.shared.lanes=0);qr|=y,e.lanes=y,e.memoizedState=B}}function Lu(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],d=o.callback;if(d!==null){if(o.callback=null,o=i,typeof d!="function")throw Error(s(191,d));d.call(o)}}}var Du=new n.Component().refs;function Il(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:S({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ma={isMounted:function(e){return(e=e._reactInternals)?Ur(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=ut(),d=Ar(e),f=or(o,d);f.payload=t,i!=null&&(f.callback=i),t=Sr(e,f,d),t!==null&&(Vt(t,e,d,o),La(t,e,d))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=ut(),d=Ar(e),f=or(o,d);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=Sr(e,f,d),t!==null&&(Vt(t,e,d,o),La(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=ut(),o=Ar(e),d=or(i,o);d.tag=2,t!=null&&(d.callback=t),t=Sr(e,d,o),t!==null&&(Vt(t,e,o,i),La(t,e,o))}};function Mu(e,t,i,o,d,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):t.prototype&&t.prototype.isPureReactComponent?!ds(i,o)||!ds(d,f):!0}function Uu(e,t,i){var o=!1,d=kr,f=t.contextType;return typeof f=="object"&&f!==null?f=Pt(f):(d=pt(t)?zr:at.current,o=t.contextTypes,f=(o=o!=null)?jn(e,d):kr),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ma,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),t}function $u(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&Ma.enqueueReplaceState(t,t.state,null)}function Ol(e,t,i,o){var d=e.stateNode;d.props=i,d.state=e.memoizedState,d.refs=Du,Rl(e);var f=t.contextType;typeof f=="object"&&f!==null?d.context=Pt(f):(f=pt(t)?zr:at.current,d.context=jn(e,f)),d.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Il(e,t,f,i),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Ma.enqueueReplaceState(d,d.state,null),Da(e,i,d,o),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function xs(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(s(309));var o=i.stateNode}if(!o)throw Error(s(147,e));var d=o,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(y){var j=d.refs;j===Du&&(j=d.refs={}),y===null?delete j[f]:j[f]=y},t._stringRef=f,t)}if(typeof e!="string")throw Error(s(284));if(!i._owner)throw Error(s(290,e))}return e}function Ua(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zu(e){var t=e._init;return t(e._payload)}function Bu(e){function t(I,A){if(e){var O=I.deletions;O===null?(I.deletions=[A],I.flags|=16):O.push(A)}}function i(I,A){if(!e)return null;for(;A!==null;)t(I,A),A=A.sibling;return null}function o(I,A){for(I=new Map;A!==null;)A.key!==null?I.set(A.key,A):I.set(A.index,A),A=A.sibling;return I}function d(I,A){return I=Rr(I,A),I.index=0,I.sibling=null,I}function f(I,A,O){return I.index=O,e?(O=I.alternate,O!==null?(O=O.index,O<A?(I.flags|=2,A):O):(I.flags|=2,A)):(I.flags|=1048576,A)}function y(I){return e&&I.alternate===null&&(I.flags|=2),I}function j(I,A,O,H){return A===null||A.tag!==6?(A=xo(O,I.mode,H),A.return=I,A):(A=d(A,O),A.return=I,A)}function E(I,A,O,H){var te=O.type;return te===ne?z(I,A,O.props.children,H,O.key):A!==null&&(A.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===ge&&zu(te)===A.type)?(H=d(A,O.props),H.ref=xs(I,A,O),H.return=I,H):(H=ni(O.type,O.key,O.props,null,I.mode,H),H.ref=xs(I,A,O),H.return=I,H)}function L(I,A,O,H){return A===null||A.tag!==4||A.stateNode.containerInfo!==O.containerInfo||A.stateNode.implementation!==O.implementation?(A=vo(O,I.mode,H),A.return=I,A):(A=d(A,O.children||[]),A.return=I,A)}function z(I,A,O,H,te){return A===null||A.tag!==7?(A=Qr(O,I.mode,H,te),A.return=I,A):(A=d(A,O),A.return=I,A)}function B(I,A,O){if(typeof A=="string"&&A!==""||typeof A=="number")return A=xo(""+A,I.mode,O),A.return=I,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case V:return O=ni(A.type,A.key,A.props,null,I.mode,O),O.ref=xs(I,null,A),O.return=I,O;case q:return A=vo(A,I.mode,O),A.return=I,A;case ge:var H=A._init;return B(I,H(A._payload),O)}if(Pe(A)||W(A))return A=Qr(A,I.mode,O,null),A.return=I,A;Ua(I,A)}return null}function U(I,A,O,H){var te=A!==null?A.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return te!==null?null:j(I,A,""+O,H);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return O.key===te?E(I,A,O,H):null;case q:return O.key===te?L(I,A,O,H):null;case ge:return te=O._init,U(I,A,te(O._payload),H)}if(Pe(O)||W(O))return te!==null?null:z(I,A,O,H,null);Ua(I,O)}return null}function J(I,A,O,H,te){if(typeof H=="string"&&H!==""||typeof H=="number")return I=I.get(O)||null,j(A,I,""+H,te);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case V:return I=I.get(H.key===null?O:H.key)||null,E(A,I,H,te);case q:return I=I.get(H.key===null?O:H.key)||null,L(A,I,H,te);case ge:var le=H._init;return J(I,A,O,le(H._payload),te)}if(Pe(H)||W(H))return I=I.get(O)||null,z(A,I,H,te,null);Ua(A,H)}return null}function Y(I,A,O,H){for(var te=null,le=null,oe=A,de=A=0,et=null;oe!==null&&de<O.length;de++){oe.index>de?(et=oe,oe=null):et=oe.sibling;var ke=U(I,oe,O[de],H);if(ke===null){oe===null&&(oe=et);break}e&&oe&&ke.alternate===null&&t(I,oe),A=f(ke,A,de),le===null?te=ke:le.sibling=ke,le=ke,oe=et}if(de===O.length)return i(I,oe),Oe&&Fr(I,de),te;if(oe===null){for(;de<O.length;de++)oe=B(I,O[de],H),oe!==null&&(A=f(oe,A,de),le===null?te=oe:le.sibling=oe,le=oe);return Oe&&Fr(I,de),te}for(oe=o(I,oe);de<O.length;de++)et=J(oe,I,de,O[de],H),et!==null&&(e&&et.alternate!==null&&oe.delete(et.key===null?de:et.key),A=f(et,A,de),le===null?te=et:le.sibling=et,le=et);return e&&oe.forEach(function(Ir){return t(I,Ir)}),Oe&&Fr(I,de),te}function ee(I,A,O,H){var te=W(O);if(typeof te!="function")throw Error(s(150));if(O=te.call(O),O==null)throw Error(s(151));for(var le=te=null,oe=A,de=A=0,et=null,ke=O.next();oe!==null&&!ke.done;de++,ke=O.next()){oe.index>de?(et=oe,oe=null):et=oe.sibling;var Ir=U(I,oe,ke.value,H);if(Ir===null){oe===null&&(oe=et);break}e&&oe&&Ir.alternate===null&&t(I,oe),A=f(Ir,A,de),le===null?te=Ir:le.sibling=Ir,le=Ir,oe=et}if(ke.done)return i(I,oe),Oe&&Fr(I,de),te;if(oe===null){for(;!ke.done;de++,ke=O.next())ke=B(I,ke.value,H),ke!==null&&(A=f(ke,A,de),le===null?te=ke:le.sibling=ke,le=ke);return Oe&&Fr(I,de),te}for(oe=o(I,oe);!ke.done;de++,ke=O.next())ke=J(oe,I,de,ke.value,H),ke!==null&&(e&&ke.alternate!==null&&oe.delete(ke.key===null?de:ke.key),A=f(ke,A,de),le===null?te=ke:le.sibling=ke,le=ke);return e&&oe.forEach(function(Yg){return t(I,Yg)}),Oe&&Fr(I,de),te}function Ve(I,A,O,H){if(typeof O=="object"&&O!==null&&O.type===ne&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case V:e:{for(var te=O.key,le=A;le!==null;){if(le.key===te){if(te=O.type,te===ne){if(le.tag===7){i(I,le.sibling),A=d(le,O.props.children),A.return=I,I=A;break e}}else if(le.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===ge&&zu(te)===le.type){i(I,le.sibling),A=d(le,O.props),A.ref=xs(I,le,O),A.return=I,I=A;break e}i(I,le);break}else t(I,le);le=le.sibling}O.type===ne?(A=Qr(O.props.children,I.mode,H,O.key),A.return=I,I=A):(H=ni(O.type,O.key,O.props,null,I.mode,H),H.ref=xs(I,A,O),H.return=I,I=H)}return y(I);case q:e:{for(le=O.key;A!==null;){if(A.key===le)if(A.tag===4&&A.stateNode.containerInfo===O.containerInfo&&A.stateNode.implementation===O.implementation){i(I,A.sibling),A=d(A,O.children||[]),A.return=I,I=A;break e}else{i(I,A);break}else t(I,A);A=A.sibling}A=vo(O,I.mode,H),A.return=I,I=A}return y(I);case ge:return le=O._init,Ve(I,A,le(O._payload),H)}if(Pe(O))return Y(I,A,O,H);if(W(O))return ee(I,A,O,H);Ua(I,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,A!==null&&A.tag===6?(i(I,A.sibling),A=d(A,O),A.return=I,I=A):(i(I,A),A=xo(O,I.mode,H),A.return=I,I=A),y(I)):i(I,A)}return Ve}var En=Bu(!0),Fu=Bu(!1),vs={},er=jr(vs),bs=jr(vs),ws=jr(vs);function Vr(e){if(e===vs)throw Error(s(174));return e}function Ll(e,t){switch(Ce(ws,t),Ce(bs,e),Ce(er,vs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:na(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=na(t,e)}Ie(er),Ce(er,t)}function Tn(){Ie(er),Ie(bs),Ie(ws)}function Hu(e){Vr(ws.current);var t=Vr(er.current),i=na(t,e.type);t!==i&&(Ce(bs,e),Ce(er,i))}function Dl(e){bs.current===e&&(Ie(er),Ie(bs))}var De=jr(0);function $a(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ml=[];function Ul(){for(var e=0;e<Ml.length;e++)Ml[e]._workInProgressVersionPrimary=null;Ml.length=0}var za=M.ReactCurrentDispatcher,$l=M.ReactCurrentBatchConfig,Wr=0,Me=null,Je=null,Xe=null,Ba=!1,js=!1,ks=0,vg=0;function it(){throw Error(s(321))}function zl(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!$t(e[i],t[i]))return!1;return!0}function Bl(e,t,i,o,d,f){if(Wr=f,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,za.current=e===null||e.memoizedState===null?kg:_g,e=i(o,d),js){f=0;do{if(js=!1,ks=0,25<=f)throw Error(s(301));f+=1,Xe=Je=null,t.updateQueue=null,za.current=Ng,e=i(o,d)}while(js)}if(za.current=Va,t=Je!==null&&Je.next!==null,Wr=0,Xe=Je=Me=null,Ba=!1,t)throw Error(s(300));return e}function Fl(){var e=ks!==0;return ks=0,e}function tr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Me.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Rt(){if(Je===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=Xe===null?Me.memoizedState:Xe.next;if(t!==null)Xe=t,Je=e;else{if(e===null)throw Error(s(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Xe===null?Me.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function _s(e,t){return typeof t=="function"?t(e):t}function Hl(e){var t=Rt(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=Je,d=o.baseQueue,f=i.pending;if(f!==null){if(d!==null){var y=d.next;d.next=f.next,f.next=y}o.baseQueue=d=f,i.pending=null}if(d!==null){f=d.next,o=o.baseState;var j=y=null,E=null,L=f;do{var z=L.lane;if((Wr&z)===z)E!==null&&(E=E.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),o=L.hasEagerState?L.eagerState:e(o,L.action);else{var B={lane:z,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};E===null?(j=E=B,y=o):E=E.next=B,Me.lanes|=z,qr|=z}L=L.next}while(L!==null&&L!==f);E===null?y=o:E.next=j,$t(o,t.memoizedState)||(gt=!0),t.memoizedState=o,t.baseState=y,t.baseQueue=E,i.lastRenderedState=o}if(e=i.interleaved,e!==null){d=e;do f=d.lane,Me.lanes|=f,qr|=f,d=d.next;while(d!==e)}else d===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Vl(e){var t=Rt(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=i.dispatch,d=i.pending,f=t.memoizedState;if(d!==null){i.pending=null;var y=d=d.next;do f=e(f,y.action),y=y.next;while(y!==d);$t(f,t.memoizedState)||(gt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,o]}function Vu(){}function Wu(e,t){var i=Me,o=Rt(),d=t(),f=!$t(o.memoizedState,d);if(f&&(o.memoizedState=d,gt=!0),o=o.queue,Wl(Gu.bind(null,i,o,e),[e]),o.getSnapshot!==t||f||Xe!==null&&Xe.memoizedState.tag&1){if(i.flags|=2048,Ns(9,Ku.bind(null,i,o,d,t),void 0,null),Ze===null)throw Error(s(349));(Wr&30)!==0||qu(i,t,d)}return d}function qu(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Ku(e,t,i,o){t.value=i,t.getSnapshot=o,Ju(t)&&Qu(e)}function Gu(e,t,i){return i(function(){Ju(t)&&Qu(e)})}function Ju(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!$t(e,i)}catch{return!0}}function Qu(e){var t=lr(e,1);t!==null&&Vt(t,e,1,-1)}function Yu(e){var t=tr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=jg.bind(null,Me,e),[t.memoizedState,e]}function Ns(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function Xu(){return Rt().memoizedState}function Fa(e,t,i,o){var d=tr();Me.flags|=e,d.memoizedState=Ns(1|t,i,void 0,o===void 0?null:o)}function Ha(e,t,i,o){var d=Rt();o=o===void 0?null:o;var f=void 0;if(Je!==null){var y=Je.memoizedState;if(f=y.destroy,o!==null&&zl(o,y.deps)){d.memoizedState=Ns(t,i,f,o);return}}Me.flags|=e,d.memoizedState=Ns(1|t,i,f,o)}function Zu(e,t){return Fa(8390656,8,e,t)}function Wl(e,t){return Ha(2048,8,e,t)}function ed(e,t){return Ha(4,2,e,t)}function td(e,t){return Ha(4,4,e,t)}function rd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nd(e,t,i){return i=i!=null?i.concat([e]):null,Ha(4,4,rd.bind(null,t,e),i)}function ql(){}function sd(e,t){var i=Rt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&zl(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function ad(e,t){var i=Rt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&zl(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function id(e,t,i){return(Wr&21)===0?(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=i):($t(i,t)||(i=Rc(),Me.lanes|=i,qr|=i,e.baseState=!0),t)}function bg(e,t){var i=Ne;Ne=i!==0&&4>i?i:4,e(!0);var o=$l.transition;$l.transition={};try{e(!1),t()}finally{Ne=i,$l.transition=o}}function ld(){return Rt().memoizedState}function wg(e,t,i){var o=Ar(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},od(e))cd(t,i);else if(i=Ru(e,t,i,o),i!==null){var d=ut();Vt(i,e,o,d),ud(i,t,o)}}function jg(e,t,i){var o=Ar(e),d={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(od(e))cd(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,j=f(y,i);if(d.hasEagerState=!0,d.eagerState=j,$t(j,y)){var E=t.interleaved;E===null?(d.next=d,Pl(t)):(d.next=E.next,E.next=d),t.interleaved=d;return}}catch{}finally{}i=Ru(e,t,d,o),i!==null&&(d=ut(),Vt(i,e,o,d),ud(i,t,o))}}function od(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function cd(e,t){js=Ba=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function ud(e,t,i){if((i&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,qi(e,i)}}var Va={readContext:Pt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},kg={readContext:Pt,useCallback:function(e,t){return tr().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:Zu,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Fa(4194308,4,rd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Fa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fa(4,2,e,t)},useMemo:function(e,t){var i=tr();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=tr();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=wg.bind(null,Me,e),[o.memoizedState,e]},useRef:function(e){var t=tr();return e={current:e},t.memoizedState=e},useState:Yu,useDebugValue:ql,useDeferredValue:function(e){return tr().memoizedState=e},useTransition:function(){var e=Yu(!1),t=e[0];return e=bg.bind(null,e[1]),tr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=Me,d=tr();if(Oe){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),Ze===null)throw Error(s(349));(Wr&30)!==0||qu(o,t,i)}d.memoizedState=i;var f={value:i,getSnapshot:t};return d.queue=f,Zu(Gu.bind(null,o,f,e),[e]),o.flags|=2048,Ns(9,Ku.bind(null,o,f,i,t),void 0,null),i},useId:function(){var e=tr(),t=Ze.identifierPrefix;if(Oe){var i=ir,o=ar;i=(o&~(1<<32-Ut(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=ks++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=vg++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_g={readContext:Pt,useCallback:sd,useContext:Pt,useEffect:Wl,useImperativeHandle:nd,useInsertionEffect:ed,useLayoutEffect:td,useMemo:ad,useReducer:Hl,useRef:Xu,useState:function(){return Hl(_s)},useDebugValue:ql,useDeferredValue:function(e){var t=Rt();return id(t,Je.memoizedState,e)},useTransition:function(){var e=Hl(_s)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Vu,useSyncExternalStore:Wu,useId:ld,unstable_isNewReconciler:!1},Ng={readContext:Pt,useCallback:sd,useContext:Pt,useEffect:Wl,useImperativeHandle:nd,useInsertionEffect:ed,useLayoutEffect:td,useMemo:ad,useReducer:Vl,useRef:Xu,useState:function(){return Vl(_s)},useDebugValue:ql,useDeferredValue:function(e){var t=Rt();return Je===null?t.memoizedState=e:id(t,Je.memoizedState,e)},useTransition:function(){var e=Vl(_s)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Vu,useSyncExternalStore:Wu,useId:ld,unstable_isNewReconciler:!1};function An(e,t){try{var i="",o=t;do i+=he(o),o=o.return;while(o);var d=i}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:d,digest:null}}function Kl(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Gl(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Sg=typeof WeakMap=="function"?WeakMap:Map;function dd(e,t,i){i=or(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){Ya||(Ya=!0,co=o),Gl(e,t)},i}function hd(e,t,i){i=or(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var d=t.value;i.payload=function(){return o(d)},i.callback=function(){Gl(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){Gl(e,t),typeof o!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),i}function fd(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Sg;var d=new Set;o.set(t,d)}else d=o.get(t),d===void 0&&(d=new Set,o.set(t,d));d.has(i)||(d.add(i),e=zg.bind(null,e,t,i),t.then(e,e))}function pd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gd(e,t,i,o,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=or(-1,1),t.tag=2,Sr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Cg=M.ReactCurrentOwner,gt=!1;function ct(e,t,i,o){t.child=e===null?Fu(t,null,i,o):En(t,e.child,i,o)}function md(e,t,i,o,d){i=i.render;var f=t.ref;return Cn(t,d),o=Bl(e,t,i,o,f,d),i=Fl(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,cr(e,t,d)):(Oe&&i&&jl(t),t.flags|=1,ct(e,t,o,d),t.child)}function yd(e,t,i,o,d){if(e===null){var f=i.type;return typeof f=="function"&&!yo(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,xd(e,t,f,o,d)):(e=ni(i.type,null,o,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&d)===0){var y=f.memoizedProps;if(i=i.compare,i=i!==null?i:ds,i(y,o)&&e.ref===t.ref)return cr(e,t,d)}return t.flags|=1,e=Rr(f,o),e.ref=t.ref,e.return=t,t.child=e}function xd(e,t,i,o,d){if(e!==null){var f=e.memoizedProps;if(ds(f,o)&&e.ref===t.ref)if(gt=!1,t.pendingProps=o=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(gt=!0);else return t.lanes=e.lanes,cr(e,t,d)}return Jl(e,t,i,o,d)}function vd(e,t,i){var o=t.pendingProps,d=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Rn,_t),_t|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(Rn,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=f!==null?f.baseLanes:i,Ce(Rn,_t),_t|=o}else f!==null?(o=f.baseLanes|i,t.memoizedState=null):o=i,Ce(Rn,_t),_t|=o;return ct(e,t,d,i),t.child}function bd(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Jl(e,t,i,o,d){var f=pt(i)?zr:at.current;return f=jn(t,f),Cn(t,d),i=Bl(e,t,i,o,f,d),o=Fl(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,cr(e,t,d)):(Oe&&o&&jl(t),t.flags|=1,ct(e,t,i,d),t.child)}function wd(e,t,i,o,d){if(pt(i)){var f=!0;Ea(t)}else f=!1;if(Cn(t,d),t.stateNode===null)qa(e,t),Uu(t,i,o),Ol(t,i,o,d),o=!0;else if(e===null){var y=t.stateNode,j=t.memoizedProps;y.props=j;var E=y.context,L=i.contextType;typeof L=="object"&&L!==null?L=Pt(L):(L=pt(i)?zr:at.current,L=jn(t,L));var z=i.getDerivedStateFromProps,B=typeof z=="function"||typeof y.getSnapshotBeforeUpdate=="function";B||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(j!==o||E!==L)&&$u(t,y,o,L),Nr=!1;var U=t.memoizedState;y.state=U,Da(t,o,y,d),E=t.memoizedState,j!==o||U!==E||ft.current||Nr?(typeof z=="function"&&(Il(t,i,z,o),E=t.memoizedState),(j=Nr||Mu(t,i,j,o,U,E,L))?(B||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=E),y.props=o,y.state=E,y.context=L,o=j):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{y=t.stateNode,Iu(e,t),j=t.memoizedProps,L=t.type===t.elementType?j:Bt(t.type,j),y.props=L,B=t.pendingProps,U=y.context,E=i.contextType,typeof E=="object"&&E!==null?E=Pt(E):(E=pt(i)?zr:at.current,E=jn(t,E));var J=i.getDerivedStateFromProps;(z=typeof J=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(j!==B||U!==E)&&$u(t,y,o,E),Nr=!1,U=t.memoizedState,y.state=U,Da(t,o,y,d);var Y=t.memoizedState;j!==B||U!==Y||ft.current||Nr?(typeof J=="function"&&(Il(t,i,J,o),Y=t.memoizedState),(L=Nr||Mu(t,i,L,o,U,Y,E)||!1)?(z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(o,Y,E),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(o,Y,E)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||j===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=Y),y.props=o,y.state=Y,y.context=E,o=L):(typeof y.componentDidUpdate!="function"||j===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),o=!1)}return Ql(e,t,i,o,f,d)}function Ql(e,t,i,o,d,f){bd(e,t);var y=(t.flags&128)!==0;if(!o&&!y)return d&&Nu(t,i,!1),cr(e,t,f);o=t.stateNode,Cg.current=t;var j=y&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&y?(t.child=En(t,e.child,null,f),t.child=En(t,null,j,f)):ct(e,t,j,f),t.memoizedState=o.state,d&&Nu(t,i,!0),t.child}function jd(e){var t=e.stateNode;t.pendingContext?ku(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ku(e,t.context,!1),Ll(e,t.containerInfo)}function kd(e,t,i,o,d){return Nn(),Sl(d),t.flags|=256,ct(e,t,i,o),t.child}var Yl={dehydrated:null,treeContext:null,retryLane:0};function Xl(e){return{baseLanes:e,cachePool:null,transitions:null}}function _d(e,t,i){var o=t.pendingProps,d=De.current,f=!1,y=(t.flags&128)!==0,j;if((j=y)||(j=e!==null&&e.memoizedState===null?!1:(d&2)!==0),j?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),Ce(De,d&1),e===null)return Nl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(y=o.children,e=o.fallback,f?(o=t.mode,f=t.child,y={mode:"hidden",children:y},(o&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=y):f=si(y,o,0,null),e=Qr(e,o,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Xl(i),t.memoizedState=Yl,e):Zl(t,y));if(d=e.memoizedState,d!==null&&(j=d.dehydrated,j!==null))return Eg(e,t,y,o,j,d,i);if(f){f=o.fallback,y=t.mode,d=e.child,j=d.sibling;var E={mode:"hidden",children:o.children};return(y&1)===0&&t.child!==d?(o=t.child,o.childLanes=0,o.pendingProps=E,t.deletions=null):(o=Rr(d,E),o.subtreeFlags=d.subtreeFlags&14680064),j!==null?f=Rr(j,f):(f=Qr(f,y,i,null),f.flags|=2),f.return=t,o.return=t,o.sibling=f,t.child=o,o=f,f=t.child,y=e.child.memoizedState,y=y===null?Xl(i):{baseLanes:y.baseLanes|i,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=e.childLanes&~i,t.memoizedState=Yl,o}return f=e.child,e=f.sibling,o=Rr(f,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Zl(e,t){return t=si({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wa(e,t,i,o){return o!==null&&Sl(o),En(t,e.child,null,i),e=Zl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Eg(e,t,i,o,d,f,y){if(i)return t.flags&256?(t.flags&=-257,o=Kl(Error(s(422))),Wa(e,t,y,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=o.fallback,d=t.mode,o=si({mode:"visible",children:o.children},d,0,null),f=Qr(f,d,y,null),f.flags|=2,o.return=t,f.return=t,o.sibling=f,t.child=o,(t.mode&1)!==0&&En(t,e.child,null,y),t.child.memoizedState=Xl(y),t.memoizedState=Yl,f);if((t.mode&1)===0)return Wa(e,t,y,null);if(d.data==="$!"){if(o=d.nextSibling&&d.nextSibling.dataset,o)var j=o.dgst;return o=j,f=Error(s(419)),o=Kl(f,o,void 0),Wa(e,t,y,o)}if(j=(y&e.childLanes)!==0,gt||j){if(o=Ze,o!==null){switch(y&-y){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(o.suspendedLanes|y))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,lr(e,d),Vt(o,e,d,-1))}return mo(),o=Kl(Error(s(421))),Wa(e,t,y,o)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=Bg.bind(null,e),d._reactRetry=t,null):(e=f.treeContext,kt=wr(d.nextSibling),jt=t,Oe=!0,zt=null,e!==null&&(Tt[At++]=ar,Tt[At++]=ir,Tt[At++]=Br,ar=e.id,ir=e.overflow,Br=t),t=Zl(t,o.children),t.flags|=4096,t)}function Nd(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Al(e.return,t,i)}function eo(e,t,i,o,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:d}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=i,f.tailMode=d)}function Sd(e,t,i){var o=t.pendingProps,d=o.revealOrder,f=o.tail;if(ct(e,t,o.children,i),o=De.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nd(e,i,t);else if(e.tag===19)Nd(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ce(De,o),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(i=t.child,d=null;i!==null;)e=i.alternate,e!==null&&$a(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=t.child,t.child=null):(d=i.sibling,i.sibling=null),eo(t,!1,d,i,f);break;case"backwards":for(i=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&$a(e)===null){t.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}eo(t,!0,i,null,f);break;case"together":eo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),qr|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=Rr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Rr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Tg(e,t,i){switch(t.tag){case 3:jd(t),Nn();break;case 5:Hu(t);break;case 1:pt(t.type)&&Ea(t);break;case 4:Ll(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,d=t.memoizedProps.value;Ce(Ia,o._currentValue),o._currentValue=d;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Ce(De,De.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?_d(e,t,i):(Ce(De,De.current&1),e=cr(e,t,i),e!==null?e.sibling:null);Ce(De,De.current&1);break;case 19:if(o=(i&t.childLanes)!==0,(e.flags&128)!==0){if(o)return Sd(e,t,i);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ce(De,De.current),o)break;return null;case 22:case 23:return t.lanes=0,vd(e,t,i)}return cr(e,t,i)}var Cd,to,Ed,Td;Cd=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},to=function(){},Ed=function(e,t,i,o){var d=e.memoizedProps;if(d!==o){e=t.stateNode,Vr(er.current);var f=null;switch(i){case"input":d=Gn(e,d),o=Gn(e,o),f=[];break;case"select":d=S({},d,{value:void 0}),o=S({},o,{value:void 0}),f=[];break;case"textarea":d=Dt(e,d),o=Dt(e,o),f=[];break;default:typeof d.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Na)}Li(i,o);var y;i=null;for(L in d)if(!o.hasOwnProperty(L)&&d.hasOwnProperty(L)&&d[L]!=null)if(L==="style"){var j=d[L];for(y in j)j.hasOwnProperty(y)&&(i||(i={}),i[y]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(c.hasOwnProperty(L)?f||(f=[]):(f=f||[]).push(L,null));for(L in o){var E=o[L];if(j=d!=null?d[L]:void 0,o.hasOwnProperty(L)&&E!==j&&(E!=null||j!=null))if(L==="style")if(j){for(y in j)!j.hasOwnProperty(y)||E&&E.hasOwnProperty(y)||(i||(i={}),i[y]="");for(y in E)E.hasOwnProperty(y)&&j[y]!==E[y]&&(i||(i={}),i[y]=E[y])}else i||(f||(f=[]),f.push(L,i)),i=E;else L==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,j=j?j.__html:void 0,E!=null&&j!==E&&(f=f||[]).push(L,E)):L==="children"?typeof E!="string"&&typeof E!="number"||(f=f||[]).push(L,""+E):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(c.hasOwnProperty(L)?(E!=null&&L==="onScroll"&&Re("scroll",e),f||j===E||(f=[])):(f=f||[]).push(L,E))}i&&(f=f||[]).push("style",i);var L=f;(t.updateQueue=L)&&(t.flags|=4)}},Td=function(e,t,i,o){i!==o&&(t.flags|=4)};function Ss(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags&14680064,o|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function Ag(e,t,i){var o=t.pendingProps;switch(kl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return pt(t.type)&&Ca(),lt(t),null;case 3:return o=t.stateNode,Tn(),Ie(ft),Ie(at),Ul(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ra(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,zt!==null&&(fo(zt),zt=null))),to(e,t),lt(t),null;case 5:Dl(t);var d=Vr(ws.current);if(i=t.type,e!==null&&t.stateNode!=null)Ed(e,t,i,o,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(s(166));return lt(t),null}if(e=Vr(er.current),Ra(t)){o=t.stateNode,i=t.type;var f=t.memoizedProps;switch(o[Zt]=t,o[ms]=f,e=(t.mode&1)!==0,i){case"dialog":Re("cancel",o),Re("close",o);break;case"iframe":case"object":case"embed":Re("load",o);break;case"video":case"audio":for(d=0;d<fs.length;d++)Re(fs[d],o);break;case"source":Re("error",o);break;case"img":case"image":case"link":Re("error",o),Re("load",o);break;case"details":Re("toggle",o);break;case"input":Zs(o,f),Re("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!f.multiple},Re("invalid",o);break;case"textarea":ht(o,f),Re("invalid",o)}Li(i,f),d=null;for(var y in f)if(f.hasOwnProperty(y)){var j=f[y];y==="children"?typeof j=="string"?o.textContent!==j&&(f.suppressHydrationWarning!==!0&&_a(o.textContent,j,e),d=["children",j]):typeof j=="number"&&o.textContent!==""+j&&(f.suppressHydrationWarning!==!0&&_a(o.textContent,j,e),d=["children",""+j]):c.hasOwnProperty(y)&&j!=null&&y==="onScroll"&&Re("scroll",o)}switch(i){case"input":Qt(o),je(o,f,!0);break;case"textarea":Qt(o),ta(o);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(o.onclick=Na)}o=d,t.updateQueue=o,o!==null&&(t.flags|=4)}else{y=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ra(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=y.createElement(i,{is:o.is}):(e=y.createElement(i),i==="select"&&(y=e,o.multiple?y.multiple=!0:o.size&&(y.size=o.size))):e=y.createElementNS(e,i),e[Zt]=t,e[ms]=o,Cd(e,t,!1,!1),t.stateNode=e;e:{switch(y=Di(i,o),i){case"dialog":Re("cancel",e),Re("close",e),d=o;break;case"iframe":case"object":case"embed":Re("load",e),d=o;break;case"video":case"audio":for(d=0;d<fs.length;d++)Re(fs[d],e);d=o;break;case"source":Re("error",e),d=o;break;case"img":case"image":case"link":Re("error",e),Re("load",e),d=o;break;case"details":Re("toggle",e),d=o;break;case"input":Zs(e,o),d=Gn(e,o),Re("invalid",e);break;case"option":d=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},d=S({},o,{value:void 0}),Re("invalid",e);break;case"textarea":ht(e,o),d=Dt(e,o),Re("invalid",e);break;default:d=o}Li(i,d),j=d;for(f in j)if(j.hasOwnProperty(f)){var E=j[f];f==="style"?yc(e,E):f==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&Jn(e,E)):f==="children"?typeof E=="string"?(i!=="textarea"||E!=="")&&Yt(e,E):typeof E=="number"&&Yt(e,""+E):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(c.hasOwnProperty(f)?E!=null&&f==="onScroll"&&Re("scroll",e):E!=null&&P(e,f,E,y))}switch(i){case"input":Qt(e),je(e,o,!1);break;case"textarea":Qt(e),ta(e);break;case"option":o.value!=null&&e.setAttribute("value",""+ie(o.value));break;case"select":e.multiple=!!o.multiple,f=o.value,f!=null?_e(e,!!o.multiple,f,!1):o.defaultValue!=null&&_e(e,!!o.multiple,o.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Na)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)Td(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(s(166));if(i=Vr(ws.current),Vr(er.current),Ra(t)){if(o=t.stateNode,i=t.memoizedProps,o[Zt]=t,(f=o.nodeValue!==i)&&(e=jt,e!==null))switch(e.tag){case 3:_a(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_a(o.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[Zt]=t,t.stateNode=o}return lt(t),null;case 13:if(Ie(De),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&kt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Pu(),Nn(),t.flags|=98560,f=!1;else if(f=Ra(t),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Zt]=t}else Nn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),f=!1}else zt!==null&&(fo(zt),zt=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(De.current&1)!==0?Qe===0&&(Qe=3):mo())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return Tn(),to(e,t),e===null&&ps(t.stateNode.containerInfo),lt(t),null;case 10:return Tl(t.type._context),lt(t),null;case 17:return pt(t.type)&&Ca(),lt(t),null;case 19:if(Ie(De),f=t.memoizedState,f===null)return lt(t),null;if(o=(t.flags&128)!==0,y=f.rendering,y===null)if(o)Ss(f,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(y=$a(e),y!==null){for(t.flags|=128,Ss(f,!1),o=y.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)f=i,e=o,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,e=y.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ce(De,De.current&1|2),t.child}e=e.sibling}f.tail!==null&&He()>In&&(t.flags|=128,o=!0,Ss(f,!1),t.lanes=4194304)}else{if(!o)if(e=$a(y),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Ss(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Oe)return lt(t),null}else 2*He()-f.renderingStartTime>In&&i!==1073741824&&(t.flags|=128,o=!0,Ss(f,!1),t.lanes=4194304);f.isBackwards?(y.sibling=t.child,t.child=y):(i=f.last,i!==null?i.sibling=y:t.child=y,f.last=y)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=He(),t.sibling=null,i=De.current,Ce(De,o?i&1|2:i&1),t):(lt(t),null);case 22:case 23:return go(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(_t&1073741824)!==0&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function Pg(e,t){switch(kl(t),t.tag){case 1:return pt(t.type)&&Ca(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tn(),Ie(ft),Ie(at),Ul(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Dl(t),null;case 13:if(Ie(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Nn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(De),null;case 4:return Tn(),null;case 10:return Tl(t.type._context),null;case 22:case 23:return go(),null;case 24:return null;default:return null}}var Ka=!1,ot=!1,Rg=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Pn(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){ze(e,t,o)}else i.current=null}function ro(e,t,i){try{i()}catch(o){ze(e,t,o)}}var Ad=!1;function Ig(e,t){if(pl=fa,e=lu(),il(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var d=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var y=0,j=-1,E=-1,L=0,z=0,B=e,U=null;t:for(;;){for(var J;B!==i||d!==0&&B.nodeType!==3||(j=y+d),B!==f||o!==0&&B.nodeType!==3||(E=y+o),B.nodeType===3&&(y+=B.nodeValue.length),(J=B.firstChild)!==null;)U=B,B=J;for(;;){if(B===e)break t;if(U===i&&++L===d&&(j=y),U===f&&++z===o&&(E=y),(J=B.nextSibling)!==null)break;B=U,U=B.parentNode}B=J}i=j===-1||E===-1?null:{start:j,end:E}}else i=null}i=i||{start:0,end:0}}else i=null;for(gl={focusedElem:e,selectionRange:i},fa=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var Y=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var ee=Y.memoizedProps,Ve=Y.memoizedState,I=t.stateNode,A=I.getSnapshotBeforeUpdate(t.elementType===t.type?ee:Bt(t.type,ee),Ve);I.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(H){ze(t,t.return,H)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return Y=Ad,Ad=!1,Y}function Cs(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&ro(t,i,f)}d=d.next}while(d!==o)}}function Ga(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function no(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Pd(e){var t=e.alternate;t!==null&&(e.alternate=null,Pd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[ms],delete t[vl],delete t[gg],delete t[mg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rd(e){return e.tag===5||e.tag===3||e.tag===4}function Id(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function so(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Na));else if(o!==4&&(e=e.child,e!==null))for(so(e,t,i),e=e.sibling;e!==null;)so(e,t,i),e=e.sibling}function ao(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(ao(e,t,i),e=e.sibling;e!==null;)ao(e,t,i),e=e.sibling}var tt=null,Ft=!1;function Cr(e,t,i){for(i=i.child;i!==null;)Od(e,t,i),i=i.sibling}function Od(e,t,i){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(la,i)}catch{}switch(i.tag){case 5:ot||Pn(i,t);case 6:var o=tt,d=Ft;tt=null,Cr(e,t,i),tt=o,Ft=d,tt!==null&&(Ft?(e=tt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):tt.removeChild(i.stateNode));break;case 18:tt!==null&&(Ft?(e=tt,i=i.stateNode,e.nodeType===8?xl(e.parentNode,i):e.nodeType===1&&xl(e,i),as(e)):xl(tt,i.stateNode));break;case 4:o=tt,d=Ft,tt=i.stateNode.containerInfo,Ft=!0,Cr(e,t,i),tt=o,Ft=d;break;case 0:case 11:case 14:case 15:if(!ot&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){d=o=o.next;do{var f=d,y=f.destroy;f=f.tag,y!==void 0&&((f&2)!==0||(f&4)!==0)&&ro(i,t,y),d=d.next}while(d!==o)}Cr(e,t,i);break;case 1:if(!ot&&(Pn(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(j){ze(i,t,j)}Cr(e,t,i);break;case 21:Cr(e,t,i);break;case 22:i.mode&1?(ot=(o=ot)||i.memoizedState!==null,Cr(e,t,i),ot=o):Cr(e,t,i);break;default:Cr(e,t,i)}}function Ld(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Rg),t.forEach(function(o){var d=Fg.bind(null,e,o);i.has(o)||(i.add(o),o.then(d,d))})}}function Ht(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];try{var f=e,y=t,j=y;e:for(;j!==null;){switch(j.tag){case 5:tt=j.stateNode,Ft=!1;break e;case 3:tt=j.stateNode.containerInfo,Ft=!0;break e;case 4:tt=j.stateNode.containerInfo,Ft=!0;break e}j=j.return}if(tt===null)throw Error(s(160));Od(f,y,d),tt=null,Ft=!1;var E=d.alternate;E!==null&&(E.return=null),d.return=null}catch(L){ze(d,t,L)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dd(t,e),t=t.sibling}function Dd(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(t,e),rr(e),o&4){try{Cs(3,e,e.return),Ga(3,e)}catch(ee){ze(e,e.return,ee)}try{Cs(5,e,e.return)}catch(ee){ze(e,e.return,ee)}}break;case 1:Ht(t,e),rr(e),o&512&&i!==null&&Pn(i,i.return);break;case 5:if(Ht(t,e),rr(e),o&512&&i!==null&&Pn(i,i.return),e.flags&32){var d=e.stateNode;try{Yt(d,"")}catch(ee){ze(e,e.return,ee)}}if(o&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,y=i!==null?i.memoizedProps:f,j=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{j==="input"&&f.type==="radio"&&f.name!=null&&ea(d,f),Di(j,y);var L=Di(j,f);for(y=0;y<E.length;y+=2){var z=E[y],B=E[y+1];z==="style"?yc(d,B):z==="dangerouslySetInnerHTML"?Jn(d,B):z==="children"?Yt(d,B):P(d,z,B,L)}switch(j){case"input":$(d,f);break;case"textarea":Mt(d,f);break;case"select":var U=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var J=f.value;J!=null?_e(d,!!f.multiple,J,!1):U!==!!f.multiple&&(f.defaultValue!=null?_e(d,!!f.multiple,f.defaultValue,!0):_e(d,!!f.multiple,f.multiple?[]:"",!1))}d[ms]=f}catch(ee){ze(e,e.return,ee)}}break;case 6:if(Ht(t,e),rr(e),o&4){if(e.stateNode===null)throw Error(s(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(ee){ze(e,e.return,ee)}}break;case 3:if(Ht(t,e),rr(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{as(t.containerInfo)}catch(ee){ze(e,e.return,ee)}break;case 4:Ht(t,e),rr(e);break;case 13:Ht(t,e),rr(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(oo=He())),o&4&&Ld(e);break;case 22:if(z=i!==null&&i.memoizedState!==null,e.mode&1?(ot=(L=ot)||z,Ht(t,e),ot=L):Ht(t,e),rr(e),o&8192){if(L=e.memoizedState!==null,(e.stateNode.isHidden=L)&&!z&&(e.mode&1)!==0)for(Q=e,z=e.child;z!==null;){for(B=Q=z;Q!==null;){switch(U=Q,J=U.child,U.tag){case 0:case 11:case 14:case 15:Cs(4,U,U.return);break;case 1:Pn(U,U.return);var Y=U.stateNode;if(typeof Y.componentWillUnmount=="function"){o=U,i=U.return;try{t=o,Y.props=t.memoizedProps,Y.state=t.memoizedState,Y.componentWillUnmount()}catch(ee){ze(o,i,ee)}}break;case 5:Pn(U,U.return);break;case 22:if(U.memoizedState!==null){$d(B);continue}}J!==null?(J.return=U,Q=J):$d(B)}z=z.sibling}e:for(z=null,B=e;;){if(B.tag===5){if(z===null){z=B;try{d=B.stateNode,L?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(j=B.stateNode,E=B.memoizedProps.style,y=E!=null&&E.hasOwnProperty("display")?E.display:null,j.style.display=mc("display",y))}catch(ee){ze(e,e.return,ee)}}}else if(B.tag===6){if(z===null)try{B.stateNode.nodeValue=L?"":B.memoizedProps}catch(ee){ze(e,e.return,ee)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===e)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===e)break e;for(;B.sibling===null;){if(B.return===null||B.return===e)break e;z===B&&(z=null),B=B.return}z===B&&(z=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:Ht(t,e),rr(e),o&4&&Ld(e);break;case 21:break;default:Ht(t,e),rr(e)}}function rr(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Rd(i)){var o=i;break e}i=i.return}throw Error(s(160))}switch(o.tag){case 5:var d=o.stateNode;o.flags&32&&(Yt(d,""),o.flags&=-33);var f=Id(e);ao(e,f,d);break;case 3:case 4:var y=o.stateNode.containerInfo,j=Id(e);so(e,j,y);break;default:throw Error(s(161))}}catch(E){ze(e,e.return,E)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Og(e,t,i){Q=e,Md(e)}function Md(e,t,i){for(var o=(e.mode&1)!==0;Q!==null;){var d=Q,f=d.child;if(d.tag===22&&o){var y=d.memoizedState!==null||Ka;if(!y){var j=d.alternate,E=j!==null&&j.memoizedState!==null||ot;j=Ka;var L=ot;if(Ka=y,(ot=E)&&!L)for(Q=d;Q!==null;)y=Q,E=y.child,y.tag===22&&y.memoizedState!==null?zd(d):E!==null?(E.return=y,Q=E):zd(d);for(;f!==null;)Q=f,Md(f),f=f.sibling;Q=d,Ka=j,ot=L}Ud(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,Q=f):Ud(e)}}function Ud(e){for(;Q!==null;){var t=Q;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ot||Ga(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!ot)if(i===null)o.componentDidMount();else{var d=t.elementType===t.type?i.memoizedProps:Bt(t.type,i.memoizedProps);o.componentDidUpdate(d,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&Lu(t,f,o);break;case 3:var y=t.updateQueue;if(y!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Lu(t,y,i)}break;case 5:var j=t.stateNode;if(i===null&&t.flags&4){i=j;var E=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&i.focus();break;case"img":E.src&&(i.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var L=t.alternate;if(L!==null){var z=L.memoizedState;if(z!==null){var B=z.dehydrated;B!==null&&as(B)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}ot||t.flags&512&&no(t)}catch(U){ze(t,t.return,U)}}if(t===e){Q=null;break}if(i=t.sibling,i!==null){i.return=t.return,Q=i;break}Q=t.return}}function $d(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Q=i;break}Q=t.return}}function zd(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Ga(4,t)}catch(E){ze(t,i,E)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var d=t.return;try{o.componentDidMount()}catch(E){ze(t,d,E)}}var f=t.return;try{no(t)}catch(E){ze(t,f,E)}break;case 5:var y=t.return;try{no(t)}catch(E){ze(t,y,E)}}}catch(E){ze(t,t.return,E)}if(t===e){Q=null;break}var j=t.sibling;if(j!==null){j.return=t.return,Q=j;break}Q=t.return}}var Lg=Math.ceil,Ja=M.ReactCurrentDispatcher,io=M.ReactCurrentOwner,It=M.ReactCurrentBatchConfig,we=0,Ze=null,We=null,rt=0,_t=0,Rn=jr(0),Qe=0,Es=null,qr=0,Qa=0,lo=0,Ts=null,mt=null,oo=0,In=1/0,ur=null,Ya=!1,co=null,Er=null,Xa=!1,Tr=null,Za=0,As=0,uo=null,ei=-1,ti=0;function ut(){return(we&6)!==0?He():ei!==-1?ei:ei=He()}function Ar(e){return(e.mode&1)===0?1:(we&2)!==0&&rt!==0?rt&-rt:xg.transition!==null?(ti===0&&(ti=Rc()),ti):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:Bc(e.type)),e)}function Vt(e,t,i,o){if(50<As)throw As=0,uo=null,Error(s(185));es(e,i,o),((we&2)===0||e!==Ze)&&(e===Ze&&((we&2)===0&&(Qa|=i),Qe===4&&Pr(e,rt)),yt(e,o),i===1&&we===0&&(t.mode&1)===0&&(In=He()+500,Ta&&_r()))}function yt(e,t){var i=e.callbackNode;xp(e,t);var o=ua(e,e===Ze?rt:0);if(o===0)i!==null&&Tc(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&Tc(i),t===1)e.tag===0?yg(Fd.bind(null,e)):Su(Fd.bind(null,e)),fg(function(){(we&6)===0&&_r()}),i=null;else{switch(Ic(o)){case 1:i=Hi;break;case 4:i=Ac;break;case 16:i=ia;break;case 536870912:i=Pc;break;default:i=ia}i=Qd(i,Bd.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Bd(e,t){if(ei=-1,ti=0,(we&6)!==0)throw Error(s(327));var i=e.callbackNode;if(On()&&e.callbackNode!==i)return null;var o=ua(e,e===Ze?rt:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=ri(e,o);else{t=o;var d=we;we|=2;var f=Vd();(Ze!==e||rt!==t)&&(ur=null,In=He()+500,Gr(e,t));do try{Ug();break}catch(j){Hd(e,j)}while(!0);El(),Ja.current=f,we=d,We!==null?t=0:(Ze=null,rt=0,t=Qe)}if(t!==0){if(t===2&&(d=Vi(e),d!==0&&(o=d,t=ho(e,d))),t===1)throw i=Es,Gr(e,0),Pr(e,o),yt(e,He()),i;if(t===6)Pr(e,o);else{if(d=e.current.alternate,(o&30)===0&&!Dg(d)&&(t=ri(e,o),t===2&&(f=Vi(e),f!==0&&(o=f,t=ho(e,f))),t===1))throw i=Es,Gr(e,0),Pr(e,o),yt(e,He()),i;switch(e.finishedWork=d,e.finishedLanes=o,t){case 0:case 1:throw Error(s(345));case 2:Jr(e,mt,ur);break;case 3:if(Pr(e,o),(o&130023424)===o&&(t=oo+500-He(),10<t)){if(ua(e,0)!==0)break;if(d=e.suspendedLanes,(d&o)!==o){ut(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=yl(Jr.bind(null,e,mt,ur),t);break}Jr(e,mt,ur);break;case 4:if(Pr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,d=-1;0<o;){var y=31-Ut(o);f=1<<y,y=t[y],y>d&&(d=y),o&=~f}if(o=d,o=He()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Lg(o/1960))-o,10<o){e.timeoutHandle=yl(Jr.bind(null,e,mt,ur),o);break}Jr(e,mt,ur);break;case 5:Jr(e,mt,ur);break;default:throw Error(s(329))}}}return yt(e,He()),e.callbackNode===i?Bd.bind(null,e):null}function ho(e,t){var i=Ts;return e.current.memoizedState.isDehydrated&&(Gr(e,t).flags|=256),e=ri(e,t),e!==2&&(t=mt,mt=i,t!==null&&fo(t)),e}function fo(e){mt===null?mt=e:mt.push.apply(mt,e)}function Dg(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var d=i[o],f=d.getSnapshot;d=d.value;try{if(!$t(f(),d))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pr(e,t){for(t&=~lo,t&=~Qa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Ut(t),o=1<<i;e[i]=-1,t&=~o}}function Fd(e){if((we&6)!==0)throw Error(s(327));On();var t=ua(e,0);if((t&1)===0)return yt(e,He()),null;var i=ri(e,t);if(e.tag!==0&&i===2){var o=Vi(e);o!==0&&(t=o,i=ho(e,o))}if(i===1)throw i=Es,Gr(e,0),Pr(e,t),yt(e,He()),i;if(i===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jr(e,mt,ur),yt(e,He()),null}function po(e,t){var i=we;we|=1;try{return e(t)}finally{we=i,we===0&&(In=He()+500,Ta&&_r())}}function Kr(e){Tr!==null&&Tr.tag===0&&(we&6)===0&&On();var t=we;we|=1;var i=It.transition,o=Ne;try{if(It.transition=null,Ne=1,e)return e()}finally{Ne=o,It.transition=i,we=t,(we&6)===0&&_r()}}function go(){_t=Rn.current,Ie(Rn)}function Gr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,hg(i)),We!==null)for(i=We.return;i!==null;){var o=i;switch(kl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Ca();break;case 3:Tn(),Ie(ft),Ie(at),Ul();break;case 5:Dl(o);break;case 4:Tn();break;case 13:Ie(De);break;case 19:Ie(De);break;case 10:Tl(o.type._context);break;case 22:case 23:go()}i=i.return}if(Ze=e,We=e=Rr(e.current,null),rt=_t=t,Qe=0,Es=null,lo=Qa=qr=0,mt=Ts=null,Hr!==null){for(t=0;t<Hr.length;t++)if(i=Hr[t],o=i.interleaved,o!==null){i.interleaved=null;var d=o.next,f=i.pending;if(f!==null){var y=f.next;f.next=d,o.next=y}i.pending=o}Hr=null}return e}function Hd(e,t){do{var i=We;try{if(El(),za.current=Va,Ba){for(var o=Me.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}Ba=!1}if(Wr=0,Xe=Je=Me=null,js=!1,ks=0,io.current=null,i===null||i.return===null){Qe=1,Es=t,We=null;break}e:{var f=e,y=i.return,j=i,E=t;if(t=rt,j.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var L=E,z=j,B=z.tag;if((z.mode&1)===0&&(B===0||B===11||B===15)){var U=z.alternate;U?(z.updateQueue=U.updateQueue,z.memoizedState=U.memoizedState,z.lanes=U.lanes):(z.updateQueue=null,z.memoizedState=null)}var J=pd(y);if(J!==null){J.flags&=-257,gd(J,y,j,f,t),J.mode&1&&fd(f,L,t),t=J,E=L;var Y=t.updateQueue;if(Y===null){var ee=new Set;ee.add(E),t.updateQueue=ee}else Y.add(E);break e}else{if((t&1)===0){fd(f,L,t),mo();break e}E=Error(s(426))}}else if(Oe&&j.mode&1){var Ve=pd(y);if(Ve!==null){(Ve.flags&65536)===0&&(Ve.flags|=256),gd(Ve,y,j,f,t),Sl(An(E,j));break e}}f=E=An(E,j),Qe!==4&&(Qe=2),Ts===null?Ts=[f]:Ts.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var I=dd(f,E,t);Ou(f,I);break e;case 1:j=E;var A=f.type,O=f.stateNode;if((f.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Er===null||!Er.has(O)))){f.flags|=65536,t&=-t,f.lanes|=t;var H=hd(f,j,t);Ou(f,H);break e}}f=f.return}while(f!==null)}qd(i)}catch(te){t=te,We===i&&i!==null&&(We=i=i.return);continue}break}while(!0)}function Vd(){var e=Ja.current;return Ja.current=Va,e===null?Va:e}function mo(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Ze===null||(qr&268435455)===0&&(Qa&268435455)===0||Pr(Ze,rt)}function ri(e,t){var i=we;we|=2;var o=Vd();(Ze!==e||rt!==t)&&(ur=null,Gr(e,t));do try{Mg();break}catch(d){Hd(e,d)}while(!0);if(El(),we=i,Ja.current=o,We!==null)throw Error(s(261));return Ze=null,rt=0,Qe}function Mg(){for(;We!==null;)Wd(We)}function Ug(){for(;We!==null&&!cp();)Wd(We)}function Wd(e){var t=Jd(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?qd(e):We=t,io.current=null}function qd(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=Ag(i,t,_t),i!==null){We=i;return}}else{if(i=Pg(i,t),i!==null){i.flags&=32767,We=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,We=null;return}}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Qe===0&&(Qe=5)}function Jr(e,t,i){var o=Ne,d=It.transition;try{It.transition=null,Ne=1,$g(e,t,i,o)}finally{It.transition=d,Ne=o}return null}function $g(e,t,i,o){do On();while(Tr!==null);if((we&6)!==0)throw Error(s(327));i=e.finishedWork;var d=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(vp(e,f),e===Ze&&(We=Ze=null,rt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Xa||(Xa=!0,Qd(ia,function(){return On(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=It.transition,It.transition=null;var y=Ne;Ne=1;var j=we;we|=4,io.current=null,Ig(e,i),Dd(i,e),ag(gl),fa=!!pl,gl=pl=null,e.current=i,Og(i),up(),we=j,Ne=y,It.transition=f}else e.current=i;if(Xa&&(Xa=!1,Tr=e,Za=d),f=e.pendingLanes,f===0&&(Er=null),fp(i.stateNode),yt(e,He()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)d=t[i],o(d.value,{componentStack:d.stack,digest:d.digest});if(Ya)throw Ya=!1,e=co,co=null,e;return(Za&1)!==0&&e.tag!==0&&On(),f=e.pendingLanes,(f&1)!==0?e===uo?As++:(As=0,uo=e):As=0,_r(),null}function On(){if(Tr!==null){var e=Ic(Za),t=It.transition,i=Ne;try{if(It.transition=null,Ne=16>e?16:e,Tr===null)var o=!1;else{if(e=Tr,Tr=null,Za=0,(we&6)!==0)throw Error(s(331));var d=we;for(we|=4,Q=e.current;Q!==null;){var f=Q,y=f.child;if((Q.flags&16)!==0){var j=f.deletions;if(j!==null){for(var E=0;E<j.length;E++){var L=j[E];for(Q=L;Q!==null;){var z=Q;switch(z.tag){case 0:case 11:case 15:Cs(8,z,f)}var B=z.child;if(B!==null)B.return=z,Q=B;else for(;Q!==null;){z=Q;var U=z.sibling,J=z.return;if(Pd(z),z===L){Q=null;break}if(U!==null){U.return=J,Q=U;break}Q=J}}}var Y=f.alternate;if(Y!==null){var ee=Y.child;if(ee!==null){Y.child=null;do{var Ve=ee.sibling;ee.sibling=null,ee=Ve}while(ee!==null)}}Q=f}}if((f.subtreeFlags&2064)!==0&&y!==null)y.return=f,Q=y;else e:for(;Q!==null;){if(f=Q,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Cs(9,f,f.return)}var I=f.sibling;if(I!==null){I.return=f.return,Q=I;break e}Q=f.return}}var A=e.current;for(Q=A;Q!==null;){y=Q;var O=y.child;if((y.subtreeFlags&2064)!==0&&O!==null)O.return=y,Q=O;else e:for(y=A;Q!==null;){if(j=Q,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:Ga(9,j)}}catch(te){ze(j,j.return,te)}if(j===y){Q=null;break e}var H=j.sibling;if(H!==null){H.return=j.return,Q=H;break e}Q=j.return}}if(we=d,_r(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(la,e)}catch{}o=!0}return o}finally{Ne=i,It.transition=t}}return!1}function Kd(e,t,i){t=An(i,t),t=dd(e,t,1),e=Sr(e,t,1),t=ut(),e!==null&&(es(e,1,t),yt(e,t))}function ze(e,t,i){if(e.tag===3)Kd(e,e,i);else for(;t!==null;){if(t.tag===3){Kd(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Er===null||!Er.has(o))){e=An(i,e),e=hd(t,e,1),t=Sr(t,e,1),e=ut(),t!==null&&(es(t,1,e),yt(t,e));break}}t=t.return}}function zg(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=ut(),e.pingedLanes|=e.suspendedLanes&i,Ze===e&&(rt&i)===i&&(Qe===4||Qe===3&&(rt&130023424)===rt&&500>He()-oo?Gr(e,0):lo|=i),yt(e,t)}function Gd(e,t){t===0&&((e.mode&1)===0?t=1:(t=ca,ca<<=1,(ca&130023424)===0&&(ca=4194304)));var i=ut();e=lr(e,t),e!==null&&(es(e,t,i),yt(e,i))}function Bg(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Gd(e,i)}function Fg(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(s(314))}o!==null&&o.delete(t),Gd(e,i)}var Jd;Jd=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)gt=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return gt=!1,Tg(e,t,i);gt=(e.flags&131072)!==0}else gt=!1,Oe&&(t.flags&1048576)!==0&&Cu(t,Pa,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;qa(e,t),e=t.pendingProps;var d=jn(t,at.current);Cn(t,i),d=Bl(null,t,o,e,d,i);var f=Fl();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(o)?(f=!0,Ea(t)):f=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Rl(t),d.updater=Ma,t.stateNode=d,d._reactInternals=t,Ol(t,o,e,i),t=Ql(null,t,o,!0,f,i)):(t.tag=0,Oe&&f&&jl(t),ct(null,t,d,i),t=t.child),t;case 16:o=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,d=o._init,o=d(o._payload),t.type=o,d=t.tag=Vg(o),e=Bt(o,e),d){case 0:t=Jl(null,t,o,e,i);break e;case 1:t=wd(null,t,o,e,i);break e;case 11:t=md(null,t,o,e,i);break e;case 14:t=yd(null,t,o,Bt(o.type,e),i);break e}throw Error(s(306,o,""))}return t;case 0:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Bt(o,d),Jl(e,t,o,d,i);case 1:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Bt(o,d),wd(e,t,o,d,i);case 3:e:{if(jd(t),e===null)throw Error(s(387));o=t.pendingProps,f=t.memoizedState,d=f.element,Iu(e,t),Da(t,o,null,i);var y=t.memoizedState;if(o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){d=An(Error(s(423)),t),t=kd(e,t,o,i,d);break e}else if(o!==d){d=An(Error(s(424)),t),t=kd(e,t,o,i,d);break e}else for(kt=wr(t.stateNode.containerInfo.firstChild),jt=t,Oe=!0,zt=null,i=Fu(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Nn(),o===d){t=cr(e,t,i);break e}ct(e,t,o,i)}t=t.child}return t;case 5:return Hu(t),e===null&&Nl(t),o=t.type,d=t.pendingProps,f=e!==null?e.memoizedProps:null,y=d.children,ml(o,d)?y=null:f!==null&&ml(o,f)&&(t.flags|=32),bd(e,t),ct(e,t,y,i),t.child;case 6:return e===null&&Nl(t),null;case 13:return _d(e,t,i);case 4:return Ll(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=En(t,null,o,i):ct(e,t,o,i),t.child;case 11:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Bt(o,d),md(e,t,o,d,i);case 7:return ct(e,t,t.pendingProps,i),t.child;case 8:return ct(e,t,t.pendingProps.children,i),t.child;case 12:return ct(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,d=t.pendingProps,f=t.memoizedProps,y=d.value,Ce(Ia,o._currentValue),o._currentValue=y,f!==null)if($t(f.value,y)){if(f.children===d.children&&!ft.current){t=cr(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var j=f.dependencies;if(j!==null){y=f.child;for(var E=j.firstContext;E!==null;){if(E.context===o){if(f.tag===1){E=or(-1,i&-i),E.tag=2;var L=f.updateQueue;if(L!==null){L=L.shared;var z=L.pending;z===null?E.next=E:(E.next=z.next,z.next=E),L.pending=E}}f.lanes|=i,E=f.alternate,E!==null&&(E.lanes|=i),Al(f.return,i,t),j.lanes|=i;break}E=E.next}}else if(f.tag===10)y=f.type===t.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(s(341));y.lanes|=i,j=y.alternate,j!==null&&(j.lanes|=i),Al(y,i,t),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===t){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}ct(e,t,d.children,i),t=t.child}return t;case 9:return d=t.type,o=t.pendingProps.children,Cn(t,i),d=Pt(d),o=o(d),t.flags|=1,ct(e,t,o,i),t.child;case 14:return o=t.type,d=Bt(o,t.pendingProps),d=Bt(o.type,d),yd(e,t,o,d,i);case 15:return xd(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Bt(o,d),qa(e,t),t.tag=1,pt(o)?(e=!0,Ea(t)):e=!1,Cn(t,i),Uu(t,o,d),Ol(t,o,d,i),Ql(null,t,o,!0,e,i);case 19:return Sd(e,t,i);case 22:return vd(e,t,i)}throw Error(s(156,t.tag))};function Qd(e,t){return Ec(e,t)}function Hg(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,i,o){return new Hg(e,t,i,o)}function yo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vg(e){if(typeof e=="function")return yo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Se)return 11;if(e===G)return 14}return 2}function Rr(e,t){var i=e.alternate;return i===null?(i=Ot(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ni(e,t,i,o,d,f){var y=2;if(o=e,typeof e=="function")yo(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case ne:return Qr(i.children,d,f,t);case Z:y=8,d|=8;break;case be:return e=Ot(12,i,t,d|2),e.elementType=be,e.lanes=f,e;case Ae:return e=Ot(13,i,t,d),e.elementType=Ae,e.lanes=f,e;case me:return e=Ot(19,i,t,d),e.elementType=me,e.lanes=f,e;case fe:return si(i,d,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fe:y=10;break e;case ve:y=9;break e;case Se:y=11;break e;case G:y=14;break e;case ge:y=16,o=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=Ot(y,i,t,d),t.elementType=e,t.type=o,t.lanes=f,t}function Qr(e,t,i,o){return e=Ot(7,e,o,t),e.lanes=i,e}function si(e,t,i,o){return e=Ot(22,e,o,t),e.elementType=fe,e.lanes=i,e.stateNode={isHidden:!1},e}function xo(e,t,i){return e=Ot(6,e,null,t),e.lanes=i,e}function vo(e,t,i){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wg(e,t,i,o,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wi(0),this.expirationTimes=Wi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.identifierPrefix=o,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function bo(e,t,i,o,d,f,y,j,E){return e=new Wg(e,t,i,j,E),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Ot(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rl(f),e}function qg(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function Yd(e){if(!e)return kr;e=e._reactInternals;e:{if(Ur(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var i=e.type;if(pt(i))return _u(e,i,t)}return t}function Xd(e,t,i,o,d,f,y,j,E){return e=bo(i,o,!0,e,d,f,y,j,E),e.context=Yd(null),i=e.current,o=ut(),d=Ar(i),f=or(o,d),f.callback=t??null,Sr(i,f,d),e.current.lanes=d,es(e,d,o),yt(e,o),e}function ai(e,t,i,o){var d=t.current,f=ut(),y=Ar(d);return i=Yd(i),t.context===null?t.context=i:t.pendingContext=i,t=or(f,y),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Sr(d,t,y),e!==null&&(Vt(e,d,y,f),La(e,d,y)),y}function ii(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function wo(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function Kg(){return null}var eh=typeof reportError=="function"?reportError:function(e){console.error(e)};function jo(e){this._internalRoot=e}li.prototype.render=jo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));ai(e,t,null,null)},li.prototype.unmount=jo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kr(function(){ai(null,e,null,null)}),t[nr]=null}};function li(e){this._internalRoot=e}li.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dc();e={blockedOn:null,target:e,priority:t};for(var i=0;i<xr.length&&t!==0&&t<xr[i].priority;i++);xr.splice(i,0,e),i===0&&$c(e)}};function ko(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function th(){}function Gg(e,t,i,o,d){if(d){if(typeof o=="function"){var f=o;o=function(){var L=ii(y);f.call(L)}}var y=Xd(t,o,e,0,null,!1,!1,"",th);return e._reactRootContainer=y,e[nr]=y.current,ps(e.nodeType===8?e.parentNode:e),Kr(),y}for(;d=e.lastChild;)e.removeChild(d);if(typeof o=="function"){var j=o;o=function(){var L=ii(E);j.call(L)}}var E=bo(e,0,!1,null,null,!1,!1,"",th);return e._reactRootContainer=E,e[nr]=E.current,ps(e.nodeType===8?e.parentNode:e),Kr(function(){ai(t,E,i,o)}),E}function ci(e,t,i,o,d){var f=i._reactRootContainer;if(f){var y=f;if(typeof d=="function"){var j=d;d=function(){var E=ii(y);j.call(E)}}ai(t,y,e,d)}else y=Gg(i,t,e,d,o);return ii(y)}Oc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Zn(t.pendingLanes);i!==0&&(qi(t,i|1),yt(t,He()),(we&6)===0&&(In=He()+500,_r()))}break;case 13:Kr(function(){var o=lr(e,1);if(o!==null){var d=ut();Vt(o,e,1,d)}}),wo(e,1)}},Ki=function(e){if(e.tag===13){var t=lr(e,134217728);if(t!==null){var i=ut();Vt(t,e,134217728,i)}wo(e,134217728)}},Lc=function(e){if(e.tag===13){var t=Ar(e),i=lr(e,t);if(i!==null){var o=ut();Vt(i,e,t,o)}wo(e,t)}},Dc=function(){return Ne},Mc=function(e,t){var i=Ne;try{return Ne=e,t()}finally{Ne=i}},$i=function(e,t,i){switch(t){case"input":if($(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var d=Sa(o);if(!d)throw Error(s(90));Xs(o),$(o,d)}}}break;case"textarea":Mt(e,i);break;case"select":t=i.value,t!=null&&_e(e,!!i.multiple,t,!1)}},wc=po,jc=Kr;var Jg={usingClientEntryPoint:!1,Events:[ys,bn,Sa,vc,bc,po]},Ps={findFiberByHostInstance:$r,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Qg={bundleType:Ps.bundleType,version:Ps.version,rendererPackageName:Ps.rendererPackageName,rendererConfig:Ps.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sc(e),e===null?null:e.stateNode},findFiberByHostInstance:Ps.findFiberByHostInstance||Kg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ui.isDisabled&&ui.supportsFiber)try{la=ui.inject(Qg),Xt=ui}catch{}}return xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jg,xt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ko(t))throw Error(s(200));return qg(e,t,null,i)},xt.createRoot=function(e,t){if(!ko(e))throw Error(s(299));var i=!1,o="",d=eh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=bo(e,1,!1,null,null,i,!1,o,d),e[nr]=t.current,ps(e.nodeType===8?e.parentNode:e),new jo(t)},xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Sc(t),e=e===null?null:e.stateNode,e},xt.flushSync=function(e){return Kr(e)},xt.hydrate=function(e,t,i){if(!oi(t))throw Error(s(200));return ci(null,e,t,!0,i)},xt.hydrateRoot=function(e,t,i){if(!ko(e))throw Error(s(405));var o=i!=null&&i.hydratedSources||null,d=!1,f="",y=eh;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),t=Xd(t,null,e,1,i??null,d,!1,f,y),e[nr]=t.current,ps(e),o)for(e=0;e<o.length;e++)i=o[e],d=i._getVersion,d=d(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,d]:t.mutableSourceEagerHydrationData.push(i,d);return new li(t)},xt.render=function(e,t,i){if(!oi(t))throw Error(s(200));return ci(null,e,t,!1,i)},xt.unmountComponentAtNode=function(e){if(!oi(e))throw Error(s(40));return e._reactRootContainer?(Kr(function(){ci(null,null,e,!1,function(){e._reactRootContainer=null,e[nr]=null})}),!0):!1},xt.unstable_batchedUpdates=po,xt.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!oi(i))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return ci(e,t,i,!1,o)},xt.version="18.2.0-next-9e3b772b8-20220608",xt}var ch;function tf(){if(ch)return So.exports;ch=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),So.exports=am(),So.exports}var uh;function im(){if(uh)return di;uh=1;var n=tf();return di.createRoot=n.createRoot,di.hydrateRoot=n.hydrateRoot,di}var lm=im();const om=ef(lm);tf();/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Us(){return Us=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l])}return n},Us.apply(this,arguments)}var Mr;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Mr||(Mr={}));const dh="popstate";function cm(n){n===void 0&&(n={});function r(c,u){let{pathname:h="/",search:p="",hash:g=""}=ln(c.location.hash.substr(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),zo("",{pathname:h,search:p,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function s(c,u){let h=c.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let g=c.location.href,m=g.indexOf("#");p=m===-1?g:g.slice(0,m)}return p+"#"+(typeof u=="string"?u:rf(u))}function l(c,u){ic(c.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(u)+")")}return dm(r,s,l,n)}function Ge(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function ic(n,r){if(!n){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function um(){return Math.random().toString(36).substr(2,8)}function hh(n,r){return{usr:n.state,key:n.key,idx:r}}function zo(n,r,s,l){return s===void 0&&(s=null),Us({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof r=="string"?ln(r):r,{state:s,key:r&&r.key||l||um()})}function rf(n){let{pathname:r="/",search:s="",hash:l=""}=n;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),l&&l!=="#"&&(r+=l.charAt(0)==="#"?l:"#"+l),r}function ln(n){let r={};if(n){let s=n.indexOf("#");s>=0&&(r.hash=n.substr(s),n=n.substr(0,s));let l=n.indexOf("?");l>=0&&(r.search=n.substr(l),n=n.substr(0,l)),n&&(r.pathname=n)}return r}function dm(n,r,s,l){l===void 0&&(l={});let{window:c=document.defaultView,v5Compat:u=!1}=l,h=c.history,p=Mr.Pop,g=null,m=v();m==null&&(m=0,h.replaceState(Us({},h.state,{idx:m}),""));function v(){return(h.state||{idx:null}).idx}function w(){p=Mr.Pop;let N=v(),R=N==null?null:N-m;m=N,g&&g({action:p,location:T.location,delta:R})}function b(N,R){p=Mr.Push;let _=zo(T.location,N,R);s&&s(_,N),m=v()+1;let P=hh(_,m),M=T.createHref(_);try{h.pushState(P,"",M)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;c.location.assign(M)}u&&g&&g({action:p,location:T.location,delta:1})}function k(N,R){p=Mr.Replace;let _=zo(T.location,N,R);s&&s(_,N),m=v();let P=hh(_,m),M=T.createHref(_);h.replaceState(P,"",M),u&&g&&g({action:p,location:T.location,delta:0})}function x(N){let R=c.location.origin!=="null"?c.location.origin:c.location.href,_=typeof N=="string"?N:rf(N);return _=_.replace(/ $/,"%20"),Ge(R,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,R)}let T={get action(){return p},get location(){return n(c,h)},listen(N){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(dh,w),g=N,()=>{c.removeEventListener(dh,w),g=null}},createHref(N){return r(c,N)},createURL:x,encodeLocation(N){let R=x(N);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:b,replace:k,go(N){return h.go(N)}};return T}var fh;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(fh||(fh={}));function hm(n,r,s){s===void 0&&(s="/");let l=typeof r=="string"?ln(r):r,c=af(l.pathname||"/",s);if(c==null)return null;let u=nf(n);fm(u);let h=null;for(let p=0;h==null&&p<u.length;++p){let g=Nm(c);h=jm(u[p],g)}return h}function nf(n,r,s,l){r===void 0&&(r=[]),s===void 0&&(s=[]),l===void 0&&(l="");let c=(u,h,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Ge(g.relativePath.startsWith(l),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(l.length));let m=sn([l,g.relativePath]),v=s.concat(g);u.children&&u.children.length>0&&(Ge(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),nf(u.children,r,v,m)),!(u.path==null&&!u.index)&&r.push({path:m,score:bm(m,u.index),routesMeta:v})};return n.forEach((u,h)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))c(u,h);else for(let g of sf(u.path))c(u,h,g)}),r}function sf(n){let r=n.split("/");if(r.length===0)return[];let[s,...l]=r,c=s.endsWith("?"),u=s.replace(/\?$/,"");if(l.length===0)return c?[u,""]:[u];let h=sf(l.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),c&&p.push(...h),p.map(g=>n.startsWith("/")&&g===""?"/":g)}function fm(n){n.sort((r,s)=>r.score!==s.score?s.score-r.score:wm(r.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}const pm=/^:[\w-]+$/,gm=3,mm=2,ym=1,xm=10,vm=-2,ph=n=>n==="*";function bm(n,r){let s=n.split("/"),l=s.length;return s.some(ph)&&(l+=vm),r&&(l+=mm),s.filter(c=>!ph(c)).reduce((c,u)=>c+(pm.test(u)?gm:u===""?ym:xm),l)}function wm(n,r){return n.length===r.length&&n.slice(0,-1).every((l,c)=>l===r[c])?n[n.length-1]-r[r.length-1]:0}function jm(n,r){let{routesMeta:s}=n,l={},c="/",u=[];for(let h=0;h<s.length;++h){let p=s[h],g=h===s.length-1,m=c==="/"?r:r.slice(c.length)||"/",v=km({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},m);if(!v)return null;Object.assign(l,v.params);let w=p.route;u.push({params:l,pathname:sn([c,v.pathname]),pathnameBase:Tm(sn([c,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(c=sn([c,v.pathnameBase]))}return u}function km(n,r){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,l]=_m(n.path,n.caseSensitive,n.end),c=r.match(s);if(!c)return null;let u=c[0],h=u.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:l.reduce((m,v,w)=>{let{paramName:b,isOptional:k}=v;if(b==="*"){let T=p[w]||"";h=u.slice(0,u.length-T.length).replace(/(.)\/+$/,"$1")}const x=p[w];return k&&!x?m[b]=void 0:m[b]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:h,pattern:n}}function _m(n,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),ic(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let l=[],c="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(l.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(l.push({paramName:"*"}),c+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":n!==""&&n!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),l]}function Nm(n){try{return n.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return ic(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),n}}function af(n,r){if(r==="/")return n;if(!n.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,l=n.charAt(s);return l&&l!=="/"?null:n.slice(s)||"/"}function Sm(n,r){r===void 0&&(r="/");let{pathname:s,search:l="",hash:c=""}=typeof n=="string"?ln(n):n;return{pathname:s?s.startsWith("/")?s:Cm(s,r):r,search:Am(l),hash:Pm(c)}}function Cm(n,r){let s=r.replace(/\/+$/,"").split("/");return n.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function To(n,r,s,l){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Em(n){return n.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function lf(n,r){let s=Em(n);return r?s.map((l,c)=>c===n.length-1?l.pathname:l.pathnameBase):s.map(l=>l.pathnameBase)}function of(n,r,s,l){l===void 0&&(l=!1);let c;typeof n=="string"?c=ln(n):(c=Us({},n),Ge(!c.pathname||!c.pathname.includes("?"),To("?","pathname","search",c)),Ge(!c.pathname||!c.pathname.includes("#"),To("#","pathname","hash",c)),Ge(!c.search||!c.search.includes("#"),To("#","search","hash",c)));let u=n===""||c.pathname==="",h=u?"/":c.pathname,p;if(h==null)p=s;else{let w=r.length-1;if(!l&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),w-=1;c.pathname=b.join("/")}p=w>=0?r[w]:"/"}let g=Sm(c,p),m=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(m||v)&&(g.pathname+="/"),g}const sn=n=>n.join("/").replace(/\/\/+/g,"/"),Tm=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Am=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Pm=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Rm(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const cf=["post","put","patch","delete"];new Set(cf);const Im=["get",...cf];new Set(Im);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $s(){return $s=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l])}return n},$s.apply(this,arguments)}const lc=D.createContext(null),Om=D.createContext(null),Gs=D.createContext(null),Ai=D.createContext(null),on=D.createContext({outlet:null,matches:[],isDataRoute:!1}),uf=D.createContext(null);function Js(){return D.useContext(Ai)!=null}function oc(){return Js()||Ge(!1),D.useContext(Ai).location}function df(n){D.useContext(Gs).static||D.useLayoutEffect(n)}function cc(){let{isDataRoute:n}=D.useContext(on);return n?Km():Lm()}function Lm(){Js()||Ge(!1);let n=D.useContext(lc),{basename:r,future:s,navigator:l}=D.useContext(Gs),{matches:c}=D.useContext(on),{pathname:u}=oc(),h=JSON.stringify(lf(c,s.v7_relativeSplatPath)),p=D.useRef(!1);return df(()=>{p.current=!0}),D.useCallback(function(m,v){if(v===void 0&&(v={}),!p.current)return;if(typeof m=="number"){l.go(m);return}let w=of(m,JSON.parse(h),u,v.relative==="path");n==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:sn([r,w.pathname])),(v.replace?l.replace:l.push)(w,v.state,v)},[r,l,h,u,n])}function Dm(n,r){return Mm(n,r)}function Mm(n,r,s,l){Js()||Ge(!1);let{navigator:c}=D.useContext(Gs),{matches:u}=D.useContext(on),h=u[u.length-1],p=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let m=oc(),v;if(r){var w;let N=typeof r=="string"?ln(r):r;g==="/"||(w=N.pathname)!=null&&w.startsWith(g)||Ge(!1),v=N}else v=m;let b=v.pathname||"/",k=b;if(g!=="/"){let N=g.replace(/^\//,"").split("/");k="/"+b.replace(/^\//,"").split("/").slice(N.length).join("/")}let x=hm(n,{pathname:k}),T=Fm(x&&x.map(N=>Object.assign({},N,{params:Object.assign({},p,N.params),pathname:sn([g,c.encodeLocation?c.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:sn([g,c.encodeLocation?c.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),u,s,l);return r&&T?D.createElement(Ai.Provider,{value:{location:$s({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Mr.Pop}},T):T}function Um(){let n=qm(),r=Rm(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},r),s?D.createElement("pre",{style:c},s):null,null)}const $m=D.createElement(Um,null);class zm extends D.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?D.createElement(on.Provider,{value:this.props.routeContext},D.createElement(uf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Bm(n){let{routeContext:r,match:s,children:l}=n,c=D.useContext(lc);return c&&c.static&&c.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=s.route.id),D.createElement(on.Provider,{value:r},l)}function Fm(n,r,s,l){var c;if(r===void 0&&(r=[]),s===void 0&&(s=null),l===void 0&&(l=null),n==null){var u;if((u=s)!=null&&u.errors)n=s.matches;else return null}let h=n,p=(c=s)==null?void 0:c.errors;if(p!=null){let v=h.findIndex(w=>w.route.id&&(p==null?void 0:p[w.route.id]));v>=0||Ge(!1),h=h.slice(0,Math.min(h.length,v+1))}let g=!1,m=-1;if(s&&l&&l.v7_partialHydration)for(let v=0;v<h.length;v++){let w=h[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=v),w.route.id){let{loaderData:b,errors:k}=s,x=w.route.loader&&b[w.route.id]===void 0&&(!k||k[w.route.id]===void 0);if(w.route.lazy||x){g=!0,m>=0?h=h.slice(0,m+1):h=[h[0]];break}}}return h.reduceRight((v,w,b)=>{let k,x=!1,T=null,N=null;s&&(k=p&&w.route.id?p[w.route.id]:void 0,T=w.route.errorElement||$m,g&&(m<0&&b===0?(Gm("route-fallback"),x=!0,N=null):m===b&&(x=!0,N=w.route.hydrateFallbackElement||null)));let R=r.concat(h.slice(0,b+1)),_=()=>{let P;return k?P=T:x?P=N:w.route.Component?P=D.createElement(w.route.Component,null):w.route.element?P=w.route.element:P=v,D.createElement(Bm,{match:w,routeContext:{outlet:v,matches:R,isDataRoute:s!=null},children:P})};return s&&(w.route.ErrorBoundary||w.route.errorElement||b===0)?D.createElement(zm,{location:s.location,revalidation:s.revalidation,component:T,error:k,children:_(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):_()},null)}var hf=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(hf||{}),ff=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(ff||{});function Hm(n){let r=D.useContext(lc);return r||Ge(!1),r}function Vm(n){let r=D.useContext(Om);return r||Ge(!1),r}function Wm(n){let r=D.useContext(on);return r||Ge(!1),r}function pf(n){let r=Wm(),s=r.matches[r.matches.length-1];return s.route.id||Ge(!1),s.route.id}function qm(){var n;let r=D.useContext(uf),s=Vm(),l=pf();return r!==void 0?r:(n=s.errors)==null?void 0:n[l]}function Km(){let{router:n}=Hm(hf.UseNavigateStable),r=pf(ff.UseNavigateStable),s=D.useRef(!1);return df(()=>{s.current=!0}),D.useCallback(function(c,u){u===void 0&&(u={}),s.current&&(typeof c=="number"?n.navigate(c):n.navigate(c,$s({fromRouteId:r},u)))},[n,r])}const gh={};function Gm(n,r,s){gh[n]||(gh[n]=!0)}function Jm(n){let{to:r,replace:s,state:l,relative:c}=n;Js()||Ge(!1);let{future:u,static:h}=D.useContext(Gs),{matches:p}=D.useContext(on),{pathname:g}=oc(),m=cc(),v=of(r,lf(p,u.v7_relativeSplatPath),g,c==="path"),w=JSON.stringify(v);return D.useEffect(()=>m(JSON.parse(w),{replace:s,state:l,relative:c}),[m,w,c,s,l]),null}function vi(n){Ge(!1)}function Qm(n){let{basename:r="/",children:s=null,location:l,navigationType:c=Mr.Pop,navigator:u,static:h=!1,future:p}=n;Js()&&Ge(!1);let g=r.replace(/^\/*/,"/"),m=D.useMemo(()=>({basename:g,navigator:u,static:h,future:$s({v7_relativeSplatPath:!1},p)}),[g,p,u,h]);typeof l=="string"&&(l=ln(l));let{pathname:v="/",search:w="",hash:b="",state:k=null,key:x="default"}=l,T=D.useMemo(()=>{let N=af(v,g);return N==null?null:{location:{pathname:N,search:w,hash:b,state:k,key:x},navigationType:c}},[g,v,w,b,k,x,c]);return T==null?null:D.createElement(Gs.Provider,{value:m},D.createElement(Ai.Provider,{children:s,value:T}))}function Ym(n){let{children:r,location:s}=n;return Dm(Bo(r),s)}new Promise(()=>{});function Bo(n,r){r===void 0&&(r=[]);let s=[];return D.Children.forEach(n,(l,c)=>{if(!D.isValidElement(l))return;let u=[...r,c];if(l.type===D.Fragment){s.push.apply(s,Bo(l.props.children,u));return}l.type!==vi&&Ge(!1),!l.props.index||!l.props.children||Ge(!1);let h={id:l.props.id||u.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=Bo(l.props.children,u)),s.push(h)}),s}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Xm="6";try{window.__reactRouterVersion=Xm}catch{}const Zm="startTransition",mh=rm[Zm];function e0(n){let{basename:r,children:s,future:l,window:c}=n,u=D.useRef();u.current==null&&(u.current=cm({window:c,v5Compat:!0}));let h=u.current,[p,g]=D.useState({action:h.action,location:h.location}),{v7_startTransition:m}=l||{},v=D.useCallback(w=>{m&&mh?mh(()=>g(w)):g(w)},[g,m]);return D.useLayoutEffect(()=>h.listen(v),[h,v]),D.createElement(Qm,{basename:r,children:s,location:p.location,navigationType:p.action,navigator:h,future:l})}var yh;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(yh||(yh={}));var xh;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(xh||(xh={}));function Pi(n,r){var s={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&r.indexOf(l)<0&&(s[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(n);c<l.length;c++)r.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(n,l[c])&&(s[l[c]]=n[l[c]]);return s}function t0(n,r,s,l){function c(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function p(v){try{m(l.next(v))}catch(w){h(w)}}function g(v){try{m(l.throw(v))}catch(w){h(w)}}function m(v){v.done?u(v.value):c(v.value).then(p,g)}m((l=l.apply(n,r||[])).next())})}const r0=n=>n?(...r)=>n(...r):(...r)=>fetch(...r);class uc extends Error{constructor(r,s="FunctionsError",l){super(r),this.name=s,this.context=l}}class n0 extends uc{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class vh extends uc{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class bh extends uc{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Fo;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Fo||(Fo={}));class s0{constructor(r,{headers:s={},customFetch:l,region:c=Fo.Any}={}){this.url=r,this.headers=s,this.region=c,this.fetch=r0(l)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return t0(this,arguments,void 0,function*(s,l={}){var c;let u,h;try{const{headers:p,method:g,body:m,signal:v,timeout:w}=l;let b={},{region:k}=l;k||(k=this.region);const x=new URL(`${this.url}/${s}`);k&&k!=="any"&&(b["x-region"]=k,x.searchParams.set("forceFunctionRegion",k));let T;m&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",T=m):typeof m=="string"?(b["Content-Type"]="text/plain",T=m):typeof FormData<"u"&&m instanceof FormData?T=m:(b["Content-Type"]="application/json",T=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?T=JSON.stringify(m):T=m;let N=v;w&&(h=new AbortController,u=setTimeout(()=>h.abort(),w),v?(N=h.signal,v.addEventListener("abort",()=>h.abort())):N=h.signal);const R=yield this.fetch(x.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),p),body:T,signal:N}).catch(V=>{throw new n0(V)}),_=R.headers.get("x-relay-error");if(_&&_==="true")throw new vh(R);if(!R.ok)throw new bh(R);let P=((c=R.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),M;return P==="application/json"?M=yield R.json():P==="application/octet-stream"||P==="application/pdf"?M=yield R.blob():P==="text/event-stream"?M=R:P==="multipart/form-data"?M=yield R.formData():M=yield R.text(),{data:M,error:null,response:R}}catch(p){return{data:null,error:p,response:p instanceof bh||p instanceof vh?p.context:void 0}}finally{u&&clearTimeout(u)}})}}var a0=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},i0=class{constructor(n){var r,s,l;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(r=n.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,this.urlLengthLimit=(l=n.urlLengthLimit)!==null&&l!==void 0?l:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,r){return this.headers=new Headers(this.headers),this.headers.set(n,r),this}then(n,r){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let h=null,p=null,g=null,m=u.status,v=u.statusText;if(u.ok){var w,b;if(s.method!=="HEAD"){var k;const R=await u.text();R===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((k=s.headers.get("Accept"))===null||k===void 0)&&k.includes("application/vnd.pgrst.plan+text"))?p=R:p=JSON.parse(R))}const T=(w=s.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),N=(b=u.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");T&&N&&N.length>1&&(g=parseInt(N[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,m=406,v="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var x;const T=await u.text();try{h=JSON.parse(T),Array.isArray(h)&&u.status===404&&(p=[],h=null,m=200,v="OK")}catch{u.status===404&&T===""?(m=204,v="No Content"):h={message:T}}if(h&&s.isMaybeSingle&&(!(h==null||(x=h.details)===null||x===void 0)&&x.includes("0 rows"))&&(h=null,m=200,v="OK"),h&&s.shouldThrowOnError)throw new a0(h)}return{error:h,data:p,count:g,status:m,statusText:v}});return this.shouldThrowOnError||(c=c.catch(u=>{var h;let p="",g="",m="";const v=u==null?void 0:u.cause;if(v){var w,b,k,x;const R=(w=v==null?void 0:v.message)!==null&&w!==void 0?w:"",_=(b=v==null?void 0:v.code)!==null&&b!==void 0?b:"";p=`${(k=u==null?void 0:u.name)!==null&&k!==void 0?k:"FetchError"}: ${u==null?void 0:u.message}`,p+=`

Caused by: ${(x=v==null?void 0:v.name)!==null&&x!==void 0?x:"Error"}: ${R}`,_&&(p+=` (${_})`),v!=null&&v.stack&&(p+=`
${v.stack}`)}else{var T;p=(T=u==null?void 0:u.stack)!==null&&T!==void 0?T:""}const N=this.url.toString().length;return(u==null?void 0:u.name)==="AbortError"||(u==null?void 0:u.code)==="ABORT_ERR"?(m="",g="Request was aborted (timeout or manual cancellation)",N>this.urlLengthLimit&&(g+=`. Note: Your request URL is ${N} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((v==null?void 0:v.name)==="HeadersOverflowError"||(v==null?void 0:v.code)==="UND_ERR_HEADERS_OVERFLOW")&&(m="",g="HTTP headers exceeded server limits (typically 16KB)",N>this.urlLengthLimit&&(g+=`. Your request URL is ${N} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(h=u==null?void 0:u.name)!==null&&h!==void 0?h:"FetchError"}: ${u==null?void 0:u.message}`,details:p,hint:g,code:m},data:null,count:null,status:0,statusText:""}})),c.then(n,r)}returns(){return this}overrideTypes(){return this}},l0=class extends i0{select(n){let r=!1;const s=(n??"*").split("").map(l=>/\s/.test(l)&&!r?"":(l==='"'&&(r=!r),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:r=!0,nullsFirst:s,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${n}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:r,referencedTable:s=r}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${n}`),this}range(n,r,{foreignTable:s,referencedTable:l=s}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${n}`),this.url.searchParams.set(u,`${r-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:r=!1,settings:s=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var h;const p=[n?"analyze":null,r?"verbose":null,s?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${p};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const wh=new RegExp("[,()]");var Bn=class extends l0{eq(n,r){return this.url.searchParams.append(n,`eq.${r}`),this}neq(n,r){return this.url.searchParams.append(n,`neq.${r}`),this}gt(n,r){return this.url.searchParams.append(n,`gt.${r}`),this}gte(n,r){return this.url.searchParams.append(n,`gte.${r}`),this}lt(n,r){return this.url.searchParams.append(n,`lt.${r}`),this}lte(n,r){return this.url.searchParams.append(n,`lte.${r}`),this}like(n,r){return this.url.searchParams.append(n,`like.${r}`),this}likeAllOf(n,r){return this.url.searchParams.append(n,`like(all).{${r.join(",")}}`),this}likeAnyOf(n,r){return this.url.searchParams.append(n,`like(any).{${r.join(",")}}`),this}ilike(n,r){return this.url.searchParams.append(n,`ilike.${r}`),this}ilikeAllOf(n,r){return this.url.searchParams.append(n,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(n,r){return this.url.searchParams.append(n,`ilike(any).{${r.join(",")}}`),this}regexMatch(n,r){return this.url.searchParams.append(n,`match.${r}`),this}regexIMatch(n,r){return this.url.searchParams.append(n,`imatch.${r}`),this}is(n,r){return this.url.searchParams.append(n,`is.${r}`),this}isDistinct(n,r){return this.url.searchParams.append(n,`isdistinct.${r}`),this}in(n,r){const s=Array.from(new Set(r)).map(l=>typeof l=="string"&&wh.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(n,`in.(${s})`),this}notIn(n,r){const s=Array.from(new Set(r)).map(l=>typeof l=="string"&&wh.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(n,`not.in.(${s})`),this}contains(n,r){return typeof r=="string"?this.url.searchParams.append(n,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(n,`cs.{${r.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(r)}`),this}containedBy(n,r){return typeof r=="string"?this.url.searchParams.append(n,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(n,`cd.{${r.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(r)}`),this}rangeGt(n,r){return this.url.searchParams.append(n,`sr.${r}`),this}rangeGte(n,r){return this.url.searchParams.append(n,`nxl.${r}`),this}rangeLt(n,r){return this.url.searchParams.append(n,`sl.${r}`),this}rangeLte(n,r){return this.url.searchParams.append(n,`nxr.${r}`),this}rangeAdjacent(n,r){return this.url.searchParams.append(n,`adj.${r}`),this}overlaps(n,r){return typeof r=="string"?this.url.searchParams.append(n,`ov.${r}`):this.url.searchParams.append(n,`ov.{${r.join(",")}}`),this}textSearch(n,r,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(n,`${c}fts${u}.${r}`),this}match(n){return Object.entries(n).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(n,r,s){return this.url.searchParams.append(n,`not.${r}.${s}`),this}or(n,{foreignTable:r,referencedTable:s=r}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${n})`),this}filter(n,r,s){return this.url.searchParams.append(n,`${r}.${s}`),this}},o0=class{constructor(n,{headers:r={},schema:s,fetch:l,urlLengthLimit:c=8e3}){this.url=n,this.headers=new Headers(r),this.schema=s,this.fetch=l,this.urlLengthLimit=c}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,r){const{head:s=!1,count:l}=r??{},c=s?"HEAD":"GET";let u=!1;const h=(n??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join(""),{url:p,headers:g}=this.cloneRequestState();return p.searchParams.set("select",h),l&&g.append("Prefer",`count=${l}`),new Bn({method:c,url:p,headers:g,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:r,defaultToNull:s=!0}={}){var l;const c="POST",{url:u,headers:h}=this.cloneRequestState();if(r&&h.append("Prefer",`count=${r}`),s||h.append("Prefer","missing=default"),Array.isArray(n)){const p=n.reduce((g,m)=>g.concat(Object.keys(m)),[]);if(p.length>0){const g=[...new Set(p)].map(m=>`"${m}"`);u.searchParams.set("columns",g.join(","))}}return new Bn({method:c,url:u,headers:h,schema:this.schema,body:n,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:r,ignoreDuplicates:s=!1,count:l,defaultToNull:c=!0}={}){var u;const h="POST",{url:p,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),r!==void 0&&p.searchParams.set("on_conflict",r),l&&g.append("Prefer",`count=${l}`),c||g.append("Prefer","missing=default"),Array.isArray(n)){const m=n.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(m.length>0){const v=[...new Set(m)].map(w=>`"${w}"`);p.searchParams.set("columns",v.join(","))}}return new Bn({method:h,url:p,headers:g,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:r}={}){var s;const l="PATCH",{url:c,headers:u}=this.cloneRequestState();return r&&u.append("Prefer",`count=${r}`),new Bn({method:l,url:c,headers:u,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var r;const s="DELETE",{url:l,headers:c}=this.cloneRequestState();return n&&c.append("Prefer",`count=${n}`),new Bn({method:s,url:l,headers:c,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}};function zs(n){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zs(n)}function c0(n,r){if(zs(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var l=s.call(n,r);if(zs(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function u0(n){var r=c0(n,"string");return zs(r)=="symbol"?r:r+""}function d0(n,r,s){return(r=u0(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}function jh(n,r){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);r&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),s.push.apply(s,l)}return s}function hi(n){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?jh(Object(s),!0).forEach(function(l){d0(n,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):jh(Object(s)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(s,l))})}return n}var h0=class gf{constructor(r,{headers:s={},schema:l,fetch:c,timeout:u,urlLengthLimit:h=8e3}={}){this.url=r,this.headers=new Headers(s),this.schemaName=l,this.urlLengthLimit=h;const p=c??globalThis.fetch;u!==void 0&&u>0?this.fetch=(g,m)=>{const v=new AbortController,w=setTimeout(()=>v.abort(),u),b=m==null?void 0:m.signal;if(b){if(b.aborted)return clearTimeout(w),p(g,m);const k=()=>{clearTimeout(w),v.abort()};return b.addEventListener("abort",k,{once:!0}),p(g,hi(hi({},m),{},{signal:v.signal})).finally(()=>{clearTimeout(w),b.removeEventListener("abort",k)})}return p(g,hi(hi({},m),{},{signal:v.signal})).finally(()=>clearTimeout(w))}:this.fetch=p}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new o0(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(r){return new gf(this.url,{headers:this.headers,schema:r,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(r,s={},{head:l=!1,get:c=!1,count:u}={}){var h;let p;const g=new URL(`${this.url}/rpc/${r}`);let m;const v=k=>k!==null&&typeof k=="object"&&(!Array.isArray(k)||k.some(v)),w=l&&Object.values(s).some(v);w?(p="POST",m=s):l||c?(p=l?"HEAD":"GET",Object.entries(s).filter(([k,x])=>x!==void 0).map(([k,x])=>[k,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([k,x])=>{g.searchParams.append(k,x)})):(p="POST",m=s);const b=new Headers(this.headers);return w?b.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&b.set("Prefer",`count=${u}`),new Bn({method:p,url:g,headers:b,schema:this.schemaName,body:m,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}};class f0{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const l=s.versions;if(l&&l.node){const c=l.node,u=parseInt(c.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const l=this.getWebSocketConstructor();return new l(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const p0="2.95.0",g0=`realtime-js/${p0}`,m0="1.0.0",mf="2.0.0",kh=mf,Ho=1e4,y0=1e3,x0=100;var Lr;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Lr||(Lr={}));var Ye;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ye||(Ye={}));var Kt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Kt||(Kt={}));var Vo;(function(n){n.websocket="websocket"})(Vo||(Vo={}));var tn;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(tn||(tn={}));class v0{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,s){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(r));let l=[r.join_ref,r.ref,r.topic,r.event,r.payload];return s(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(r){var s;return this._isArrayBuffer((s=r.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var s,l;const c=(l=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(r){var s,l;const c=(l=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(r,s,l){var c,u;const h=r.topic,p=(c=r.ref)!==null&&c!==void 0?c:"",g=(u=r.join_ref)!==null&&u!==void 0?u:"",m=r.payload.event,v=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+p.length+h.length+m.length+w.length,k=new ArrayBuffer(this.HEADER_LENGTH+b);let x=new DataView(k),T=0;x.setUint8(T++,this.KINDS.userBroadcastPush),x.setUint8(T++,g.length),x.setUint8(T++,p.length),x.setUint8(T++,h.length),x.setUint8(T++,m.length),x.setUint8(T++,w.length),x.setUint8(T++,s),Array.from(g,R=>x.setUint8(T++,R.charCodeAt(0))),Array.from(p,R=>x.setUint8(T++,R.charCodeAt(0))),Array.from(h,R=>x.setUint8(T++,R.charCodeAt(0))),Array.from(m,R=>x.setUint8(T++,R.charCodeAt(0))),Array.from(w,R=>x.setUint8(T++,R.charCodeAt(0)));var N=new Uint8Array(k.byteLength+l.byteLength);return N.set(new Uint8Array(k),0),N.set(new Uint8Array(l),k.byteLength),N.buffer}decode(r,s){if(this._isArrayBuffer(r)){let l=this._binaryDecode(r);return s(l)}if(typeof r=="string"){const l=JSON.parse(r),[c,u,h,p,g]=l;return s({join_ref:c,ref:u,topic:h,event:p,payload:g})}return s({})}_binaryDecode(r){const s=new DataView(r),l=s.getUint8(0),c=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,s,c)}}_decodeUserBroadcast(r,s,l){const c=s.getUint8(1),u=s.getUint8(2),h=s.getUint8(3),p=s.getUint8(4);let g=this.HEADER_LENGTH+4;const m=l.decode(r.slice(g,g+c));g=g+c;const v=l.decode(r.slice(g,g+u));g=g+u;const w=l.decode(r.slice(g,g+h));g=g+h;const b=r.slice(g,r.byteLength),k=p===this.JSON_ENCODING?JSON.parse(l.decode(b)):b,x={type:this.BROADCAST_EVENT,event:v,payload:k};return h>0&&(x.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(r){var s;return r instanceof ArrayBuffer||((s=r==null?void 0:r.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(r,s){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([l])=>s.includes(l)))}}class yf{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ee||(Ee={}));const _h=(n,r,s={})=>{var l;const c=(l=s.skipTypes)!==null&&l!==void 0?l:[];return r?Object.keys(r).reduce((u,h)=>(u[h]=b0(h,n,r,c),u),{}):{}},b0=(n,r,s,l)=>{const c=r.find(p=>p.name===n),u=c==null?void 0:c.type,h=s[n];return u&&!l.includes(u)?xf(u,h):Wo(h)},xf=(n,r)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return _0(r,s)}switch(n){case Ee.bool:return w0(r);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return j0(r);case Ee.json:case Ee.jsonb:return k0(r);case Ee.timestamp:return N0(r);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return Wo(r);default:return Wo(r)}},Wo=n=>n,w0=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},j0=n=>{if(typeof n=="string"){const r=parseFloat(n);if(!Number.isNaN(r))return r}return n},k0=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},_0=(n,r)=>{if(typeof n!="string")return n;const s=n.length-1,l=n[s];if(n[0]==="{"&&l==="}"){let u;const h=n.slice(1,s);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(p=>xf(r,p))}return n},N0=n=>typeof n=="string"?n.replace(" ","T"):n,vf=n=>{const r=new URL(n);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Ao{constructor(r,s,l={},c=Ho){this.channel=r,this.event=s,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var l;return this._hasReceived(r)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(l=>l.status===r).forEach(l=>l.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Nh;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Nh||(Nh={}));class Ls{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:u,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ls.syncState(this.state,c,u,h),this.pendingDiffs.forEach(g=>{this.state=Ls.syncDiff(this.state,g,u,h)}),this.pendingDiffs=[],p()}),this.channel._on(l.diff,{},c=>{const{onJoin:u,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Ls.syncDiff(this.state,c,u,h),p())}),this.onJoin((c,u,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:h})}),this.onLeave((c,u,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,l,c){const u=this.cloneDeep(r),h=this.transformState(s),p={},g={};return this.map(u,(m,v)=>{h[m]||(g[m]=v)}),this.map(h,(m,v)=>{const w=u[m];if(w){const b=v.map(N=>N.presence_ref),k=w.map(N=>N.presence_ref),x=v.filter(N=>k.indexOf(N.presence_ref)<0),T=w.filter(N=>b.indexOf(N.presence_ref)<0);x.length>0&&(p[m]=x),T.length>0&&(g[m]=T)}else p[m]=v}),this.syncDiff(u,{joins:p,leaves:g},l,c)}static syncDiff(r,s,l,c){const{joins:u,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(u,(p,g)=>{var m;const v=(m=r[p])!==null&&m!==void 0?m:[];if(r[p]=this.cloneDeep(g),v.length>0){const w=r[p].map(k=>k.presence_ref),b=v.filter(k=>w.indexOf(k.presence_ref)<0);r[p].unshift(...b)}l(p,v,g)}),this.map(h,(p,g)=>{let m=r[p];if(!m)return;const v=g.map(w=>w.presence_ref);m=m.filter(w=>v.indexOf(w.presence_ref)<0),r[p]=m,c(p,m,g),m.length===0&&delete r[p]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(l=>s(l,r[l]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,l)=>{const c=r[l];return"metas"in c?s[l]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[l]=c,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sh;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Sh||(Sh={}));var Ds;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Ds||(Ds={}));var dr;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(dr||(dr={}));class Wn{constructor(r,s={config:{}},l){var c,u;if(this.topic=r,this.params=s,this.socket=l,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ao(this,Kt.join,this.params,this.timeout),this.rejoinTimer=new yf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kt.reply,{},(h,p)=>{this._trigger(this._replyEventName(p),h)}),this.presence=new Ls(this),this.broadcastEndpointURL=vf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,s=this.timeout){var l,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Ye.closed){const{config:{broadcast:h,presence:p,private:g}}=this.params,m=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(k=>k.filter))!==null&&c!==void 0?c:[],v=!!this.bindings[Ds.PRESENCE]&&this.bindings[Ds.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,w={},b={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:v}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(k=>r==null?void 0:r(dr.CHANNEL_ERROR,k)),this._onClose(()=>r==null?void 0:r(dr.CLOSED)),this.updateJoinPayload(Object.assign({config:b},w)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:k})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),k===void 0){r==null||r(dr.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,N=(x=T==null?void 0:T.length)!==null&&x!==void 0?x:0,R=[];for(let _=0;_<N;_++){const P=T[_],{filter:{event:M,schema:V,table:q,filter:ne}}=P,Z=k&&k[_];if(Z&&Z.event===M&&Wn.isFilterValueEqual(Z.schema,V)&&Wn.isFilterValueEqual(Z.table,q)&&Wn.isFilterValueEqual(Z.filter,ne))R.push(Object.assign(Object.assign({},P),{id:Z.id}));else{this.unsubscribe(),this.state=Ye.errored,r==null||r(dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,r&&r(dr.SUBSCRIBED);return}}).receive("error",k=>{this.state=Ye.errored,r==null||r(dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,l){return this.state===Ye.joined&&r===Ds.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,s,l)}async httpSend(r,s,l={}){var c;if(s==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:s,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(p.status===202)return{success:!0};let g=p.statusText;try{const m=await p.json();g=m.error||m.message||g}catch{}return Promise.reject(new Error(g))}async send(r,s={}){var l,c;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:h}=r,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=m.body)===null||c===void 0?void 0:c.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,p,g;const m=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ye.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Ao(this,Kt.leave,{},r),l.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ye.closed,this.bindings={}}async _fetchWithTimeout(r,s,l){const c=new AbortController,u=setTimeout(()=>c.abort(),l),h=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(u),h}_push(r,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Ao(this,r,s,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>x0){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,l){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,l){var c,u;const h=r.toLocaleLowerCase(),{close:p,error:g,leave:m,join:v}=Kt;if(l&&[p,g,m,v].indexOf(h)>=0&&l!==this._joinRef())return;let b=this._onMessage(h,s,l);if(s&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(k=>{var x,T,N;return((x=k.filter)===null||x===void 0?void 0:x.event)==="*"||((N=(T=k.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===h}).map(k=>k.callback(b,l)):(u=this.bindings[h])===null||u===void 0||u.filter(k=>{var x,T,N,R,_,P;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in k){const M=k.id,V=(x=k.filter)===null||x===void 0?void 0:x.event;return M&&((T=s.ids)===null||T===void 0?void 0:T.includes(M))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((N=s.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const M=(_=(R=k==null?void 0:k.filter)===null||R===void 0?void 0:R.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return M==="*"||M===((P=s==null?void 0:s.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===h}).map(k=>{if(typeof b=="object"&&"ids"in b){const x=b.data,{schema:T,table:N,commit_timestamp:R,type:_,errors:P}=x;b=Object.assign(Object.assign({},{schema:T,table:N,commit_timestamp:R,eventType:_,new:{},old:{},errors:P}),this._getPayloadRecords(x))}k.callback(b,l)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,l){const c=r.toLocaleLowerCase(),u={type:c,filter:s,callback:l};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(r,s){const l=r.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&Wn.isEqual(c.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const l in r)if(r[l]!==s[l])return!1;return!0}static isFilterValueEqual(r,s){return(r??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Kt.close,{},r)}_onError(r){this._on(Kt.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=_h(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=_h(r.columns,r.old_record)),s}}const Po=()=>{},fi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},S0=[1e3,2e3,5e3,1e4],C0=1e4,E0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class T0{constructor(r,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ho,this.transport=null,this.heartbeatIntervalMs=fi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Po,this.ref=0,this.reconnectTimer=null,this.vsn=kh,this.logger=Po,this.conn=null,this.sendBuffer=[],this.serializer=new v0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((l=s==null?void 0:s.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${Vo.websocket}`,this.httpEndpoint=vf(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=f0.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const s=r.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return s==="ok"&&this._remove(r),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,l){this.logger(r,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Lr.connecting:return tn.Connecting;case Lr.open:return tn.Open;case Lr.closing:return tn.Closing;default:return tn.Closed}}isConnected(){return this.connectionState()===tn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const l=`realtime:${r}`,c=this.getChannels().find(u=>u.topic===l);if(c)return c;{const u=new Wn(`realtime:${r}`,s,this);return this.channels.push(u),u}}push(r){const{topic:s,event:l,payload:c,ref:u}=r,h=()=>{this.encode(r,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${s} ${l} (${u})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(y0,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},fi.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(l=>l.topic===r&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",m)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:c,payload:u,ref:h}=s,p=h?`(${h})`:"",g=u.status||"";this.log("receive",`${g} ${l} ${c} ${p}`.trim(),u),this.channels.filter(m=>m._isMember(l)).forEach(m=>m._trigger(c,u,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===Lr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Lr.open||this.conn.readyState===Lr.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(r=>r._trigger(Kt.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const l=r.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${r}${l}${c}`}_workerObjectUrl(r){let s;if(r)s=r;else{const l=new Blob([E0],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s,l=!1;if(r)s=r,l=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),s=this.accessTokenValue}else s=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(c=>{const u={access_token:s,version:g0};s&&c.updateJoinPayload(u),c.joinedOnce&&c._isJoined()&&c._push(Kt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(l=>{try{l(s)}catch(c){this.log("error",`error in ${r} callback`,c)}})}catch(l){this.log("error",`error triggering ${r} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new yf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,l,c,u,h,p,g,m,v,w,b,k;switch(this.transport=(s=r==null?void 0:r.transport)!==null&&s!==void 0?s:null,this.timeout=(l=r==null?void 0:r.timeout)!==null&&l!==void 0?l:Ho,this.heartbeatIntervalMs=(c=r==null?void 0:r.heartbeatIntervalMs)!==null&&c!==void 0?c:fi.HEARTBEAT_INTERVAL,this.worker=(u=r==null?void 0:r.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=r==null?void 0:r.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=r==null?void 0:r.heartbeatCallback)!==null&&p!==void 0?p:Po,this.vsn=(g=r==null?void 0:r.vsn)!==null&&g!==void 0?g:kh,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=r==null?void 0:r.reconnectAfterMs)!==null&&m!==void 0?m:(x=>S0[x-1]||C0),this.vsn){case m0:this.encode=(v=r==null?void 0:r.encode)!==null&&v!==void 0?v:((x,T)=>T(JSON.stringify(x))),this.decode=(w=r==null?void 0:r.decode)!==null&&w!==void 0?w:((x,T)=>T(JSON.parse(x)));break;case mf:this.encode=(b=r==null?void 0:r.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(k=r==null?void 0:r.decode)!==null&&k!==void 0?k:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}var Bs=class extends Error{constructor(n,r){var s;super(n),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((s=r.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function A0(n,r,s){const l=new URL(r,n);if(s)for(const[c,u]of Object.entries(s))u!==void 0&&l.searchParams.set(c,u);return l.toString()}async function P0(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function R0(n){const r=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:l,query:c,body:u,headers:h}){const p=A0(n.baseUrl,l,c),g=await P0(n.auth),m=await r(p,{method:s,headers:{...u?{"Content-Type":"application/json"}:{},...g,...h},body:u?JSON.stringify(u):void 0}),v=await m.text(),w=(m.headers.get("content-type")||"").includes("application/json"),b=w&&v?JSON.parse(v):v;if(!m.ok){const k=w?b:void 0,x=k==null?void 0:k.error;throw new Bs((x==null?void 0:x.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:k})}return{status:m.status,headers:m.headers,data:b}}}}function pi(n){return n.join("")}var I0=class{constructor(n,r=""){this.client=n,this.prefix=r}async listNamespaces(n){const r=n?{parent:pi(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(n,r){const s={namespace:n.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pi(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pi(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pi(n.namespace)}`}),!0}catch(r){if(r instanceof Bs&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(n,r){try{return await this.createNamespace(n,r)}catch(s){if(s instanceof Bs&&s.status===409)return;throw s}}};function Ln(n){return n.join("")}var O0=class{constructor(n,r="",s){this.client=n,this.prefix=r,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ln(n.namespace)}/tables`})).data.identifiers}async createTable(n,r){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ln(n.namespace)}/tables`,body:r,headers:s})).data.metadata}async updateTable(n,r){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ln(n.namespace)}/tables/${n.name}`,body:r});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ln(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ln(n.namespace)}/tables/${n.name}`,headers:r})).data.metadata}async tableExists(n){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ln(n.namespace)}/tables/${n.name}`,headers:r}),!0}catch(s){if(s instanceof Bs&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,r){try{return await this.createTable(n,r)}catch(s){if(s instanceof Bs&&s.status===409)return await this.loadTable({namespace:n.namespace,name:r.name});throw s}}},L0=class{constructor(n){var l;let r="v1";n.catalogName&&(r+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=R0({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(l=n.accessDelegation)==null?void 0:l.join(","),this.namespaceOps=new I0(this.client,r),this.tableOps=new O0(this.client,r,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,r){return this.namespaceOps.createNamespace(n,r)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,r){return this.tableOps.createTable(n,r)}async updateTable(n,r){return this.tableOps.updateTable(n,r)}async dropTable(n,r){await this.tableOps.dropTable(n,r)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,r){return this.namespaceOps.createNamespaceIfNotExists(n,r)}async createTableIfNotExists(n,r){return this.tableOps.createTableIfNotExists(n,r)}},Ri=class extends Error{constructor(n,r="storage",s,l){super(n),this.__isStorageError=!0,this.namespace=r,this.name=r==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=l}};function Ii(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var gi=class extends Ri{constructor(n,r,s,l="storage"){super(n,l,r,s),this.name=l==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bf=class extends Ri{constructor(n,r,s="storage"){super(n,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=r}};const D0=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),M0=n=>{if(typeof n!="object"||n===null)return!1;const r=Object.getPrototypeOf(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},qo=n=>{if(Array.isArray(n))return n.map(s=>qo(s));if(typeof n=="function"||n!==Object(n))return n;const r={};return Object.entries(n).forEach(([s,l])=>{const c=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[c]=qo(l)}),r},U0=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Fs(n){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fs(n)}function $0(n,r){if(Fs(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var l=s.call(n,r);if(Fs(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function z0(n){var r=$0(n,"string");return Fs(r)=="symbol"?r:r+""}function B0(n,r,s){return(r=z0(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}function Ch(n,r){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);r&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),s.push.apply(s,l)}return s}function ue(n){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Ch(Object(s),!0).forEach(function(l){B0(n,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Ch(Object(s)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(s,l))})}return n}const Eh=n=>{var r;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(r=n.error)===null||r===void 0?void 0:r.message)||JSON.stringify(n)},F0=async(n,r,s,l)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(s!=null&&s.noResolveJson)){const c=n,u=c.status||500;if(typeof c.json=="function")c.json().then(h=>{const p=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||u+"";r(new gi(Eh(h),u,p,l))}).catch(()=>{if(l==="vectors"){const h=u+"";r(new gi(c.statusText||`HTTP ${u} error`,u,h,l))}else{const h=u+"";r(new gi(c.statusText||`HTTP ${u} error`,u,h,l))}});else{const h=u+"";r(new gi(c.statusText||`HTTP ${u} error`,u,h,l))}}else r(new bf(Eh(n),n,l))},H0=(n,r,s,l)=>{const c={method:n,headers:(r==null?void 0:r.headers)||{}};return n==="GET"||n==="HEAD"||!l?ue(ue({},c),s):(M0(l)?(c.headers=ue({"Content-Type":"application/json"},r==null?void 0:r.headers),c.body=JSON.stringify(l)):c.body=l,r!=null&&r.duplex&&(c.duplex=r.duplex),ue(ue({},c),s))};async function Is(n,r,s,l,c,u,h){return new Promise((p,g)=>{n(s,H0(r,l,c,u)).then(m=>{if(!m.ok)throw m;if(l!=null&&l.noResolveJson)return m;if(h==="vectors"){const v=m.headers.get("content-type");if(m.headers.get("content-length")==="0"||m.status===204)return{};if(!v||!v.includes("application/json"))return{}}return m.json()}).then(m=>p(m)).catch(m=>F0(m,g,l,h))})}function wf(n="storage"){return{get:async(r,s,l,c)=>Is(r,"GET",s,l,c,void 0,n),post:async(r,s,l,c,u)=>Is(r,"POST",s,c,u,l,n),put:async(r,s,l,c,u)=>Is(r,"PUT",s,c,u,l,n),head:async(r,s,l,c)=>Is(r,"HEAD",s,ue(ue({},l),{},{noResolveJson:!0}),c,void 0,n),remove:async(r,s,l,c,u)=>Is(r,"DELETE",s,c,u,l,n)}}const V0=wf("storage"),{get:Hs,post:qt,put:Ko,head:W0,remove:dc}=V0,Ct=wf("vectors");var Kn=class{constructor(n,r={},s,l="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=r,this.fetch=D0(s),this.namespace=l}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var r=this;try{return{data:await n(),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ii(s))return{data:null,error:s};throw s}}},q0=class{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r}then(n,r){return this.execute().then(n,r)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ii(r))return{data:null,error:r};throw r}}};let jf;jf=Symbol.toStringTag;var K0=class{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r,this[jf]="BlobDownloadBuilder",this.promise=null}asStream(){return new q0(this.downloadFn,this.shouldThrowOnError)}then(n,r){return this.getPromise().then(n,r)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ii(r))return{data:null,error:r};throw r}}};const G0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Th={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var J0=class extends Kn{constructor(n,r={},s,l){super(n,r,l,"storage"),this.bucketId=s}async uploadOrUpdate(n,r,s,l){var c=this;return c.handleOperation(async()=>{let u;const h=ue(ue({},Th),l);let p=ue(ue({},c.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),g&&u.append("metadata",c.encodeMetadata(g)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",h.cacheControl),g&&!u.has("metadata")&&u.append("metadata",c.encodeMetadata(g))):(u=s,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,g&&(p["x-metadata"]=c.toBase64(c.encodeMetadata(g))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!h.duplex&&(h.duplex="half")),l!=null&&l.headers&&(p=ue(ue({},p),l.headers));const m=c._removeEmptyFolders(r),v=c._getFinalPath(m),w=await(n=="PUT"?Ko:qt)(c.fetch,`${c.url}/object/${v}`,u,ue({headers:p},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{path:m,id:w.Id,fullPath:w.Key}})}async upload(n,r,s){return this.uploadOrUpdate("POST",n,r,s)}async uploadToSignedUrl(n,r,s,l){var c=this;const u=c._removeEmptyFolders(n),h=c._getFinalPath(u),p=new URL(c.url+`/object/upload/sign/${h}`);return p.searchParams.set("token",r),c.handleOperation(async()=>{let g;const m=ue({upsert:Th.upsert},l),v=ue(ue({},c.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",s)):typeof FormData<"u"&&s instanceof FormData?(g=s,g.append("cacheControl",m.cacheControl)):(g=s,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType),{path:u,fullPath:(await Ko(c.fetch,p.toString(),g,{headers:v})).Key}})}async createSignedUploadUrl(n,r){var s=this;return s.handleOperation(async()=>{let l=s._getFinalPath(n);const c=ue({},s.headers);r!=null&&r.upsert&&(c["x-upsert"]="true");const u=await qt(s.fetch,`${s.url}/object/upload/sign/${l}`,{},{headers:c}),h=new URL(s.url+u.url),p=h.searchParams.get("token");if(!p)throw new Ri("No token returned by API");return{signedUrl:h.toString(),path:n,token:p}})}async update(n,r,s){return this.uploadOrUpdate("PUT",n,r,s)}async move(n,r,s){var l=this;return l.handleOperation(async()=>await qt(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:n,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:l.headers}))}async copy(n,r,s){var l=this;return l.handleOperation(async()=>({path:(await qt(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:n,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:l.headers})).Key}))}async createSignedUrl(n,r,s){var l=this;return l.handleOperation(async()=>{let c=l._getFinalPath(n),u=await qt(l.fetch,`${l.url}/object/sign/${c}`,ue({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:l.headers});const h=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${l.url}${u.signedURL}${h}`)}})}async createSignedUrls(n,r,s){var l=this;return l.handleOperation(async()=>{const c=await qt(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:r,paths:n},{headers:l.headers}),u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return c.map(h=>ue(ue({},h),{},{signedUrl:h.signedURL?encodeURI(`${l.url}${h.signedURL}${u}`):null}))})}download(n,r,s){const l=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=c?`?${c}`:"",h=this._getFinalPath(n),p=()=>Hs(this.fetch,`${this.url}/${l}/${h}${u}`,{headers:this.headers,noResolveJson:!0},s);return new K0(p,this.shouldThrowOnError)}async info(n){var r=this;const s=r._getFinalPath(n);return r.handleOperation(async()=>qo(await Hs(r.fetch,`${r.url}/object/info/${s}`,{headers:r.headers})))}async exists(n){var r=this;const s=r._getFinalPath(n);try{return await W0(r.fetch,`${r.url}/object/${s}`,{headers:r.headers}),{data:!0,error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ii(l)&&l instanceof bf){const c=l.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:l}}throw l}}getPublicUrl(n,r){const s=this._getFinalPath(n),l=[],c=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&l.push(c);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&l.push(h);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${p}`)}}}async remove(n){var r=this;return r.handleOperation(async()=>await dc(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:n},{headers:r.headers}))}async list(n,r,s){var l=this;return l.handleOperation(async()=>{const c=ue(ue(ue({},G0),r),{},{prefix:n||""});return await qt(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},s)})}async listV2(n,r){var s=this;return s.handleOperation(async()=>{const l=ue({},n);return await qt(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,l,{headers:s.headers},r)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}};const Q0="2.95.0",Qs={"X-Client-Info":`storage-js/${Q0}`};var Y0=class extends Kn{constructor(n,r={},s,l){const c=new URL(n);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const u=c.href.replace(/\/$/,""),h=ue(ue({},Qs),r);super(u,h,s,"storage")}async listBuckets(n){var r=this;return r.handleOperation(async()=>{const s=r.listBucketOptionsToQueryString(n);return await Hs(r.fetch,`${r.url}/bucket${s}`,{headers:r.headers})})}async getBucket(n){var r=this;return r.handleOperation(async()=>await Hs(r.fetch,`${r.url}/bucket/${n}`,{headers:r.headers}))}async createBucket(n,r={public:!1}){var s=this;return s.handleOperation(async()=>await qt(s.fetch,`${s.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}))}async updateBucket(n,r){var s=this;return s.handleOperation(async()=>await Ko(s.fetch,`${s.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(n){var r=this;return r.handleOperation(async()=>await qt(r.fetch,`${r.url}/bucket/${n}/empty`,{},{headers:r.headers}))}async deleteBucket(n){var r=this;return r.handleOperation(async()=>await dc(r.fetch,`${r.url}/bucket/${n}`,{},{headers:r.headers}))}listBucketOptionsToQueryString(n){const r={};return n&&("limit"in n&&(r.limit=String(n.limit)),"offset"in n&&(r.offset=String(n.offset)),n.search&&(r.search=n.search),n.sortColumn&&(r.sortColumn=n.sortColumn),n.sortOrder&&(r.sortOrder=n.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},X0=class extends Kn{constructor(n,r={},s){const l=n.replace(/\/$/,""),c=ue(ue({},Qs),r);super(l,c,s,"storage")}async createBucket(n){var r=this;return r.handleOperation(async()=>await qt(r.fetch,`${r.url}/bucket`,{name:n},{headers:r.headers}))}async listBuckets(n){var r=this;return r.handleOperation(async()=>{const s=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&s.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&s.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&s.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&s.set("sortOrder",n.sortOrder),n!=null&&n.search&&s.set("search",n.search);const l=s.toString(),c=l?`${r.url}/bucket?${l}`:`${r.url}/bucket`;return await Hs(r.fetch,c,{headers:r.headers})})}async deleteBucket(n){var r=this;return r.handleOperation(async()=>await dc(r.fetch,`${r.url}/bucket/${n}`,{},{headers:r.headers}))}from(n){var r=this;if(!U0(n))throw new Ri("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new L0({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(s,{get(c,u){const h=c[u];return typeof h!="function"?h:async(...p)=>{try{return{data:await h.apply(c,p),error:null}}catch(g){if(l)throw g;return{data:null,error:g}}}}})}},Z0=class extends Kn{constructor(n,r={},s){const l=n.replace(/\/$/,""),c=ue(ue({},Qs),{},{"Content-Type":"application/json"},r);super(l,c,s,"vectors")}async createIndex(n){var r=this;return r.handleOperation(async()=>await Ct.post(r.fetch,`${r.url}/CreateIndex`,n,{headers:r.headers})||{})}async getIndex(n,r){var s=this;return s.handleOperation(async()=>await Ct.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:n,indexName:r},{headers:s.headers}))}async listIndexes(n){var r=this;return r.handleOperation(async()=>await Ct.post(r.fetch,`${r.url}/ListIndexes`,n,{headers:r.headers}))}async deleteIndex(n,r){var s=this;return s.handleOperation(async()=>await Ct.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:n,indexName:r},{headers:s.headers})||{})}},ey=class extends Kn{constructor(n,r={},s){const l=n.replace(/\/$/,""),c=ue(ue({},Qs),{},{"Content-Type":"application/json"},r);super(l,c,s,"vectors")}async putVectors(n){var r=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return r.handleOperation(async()=>await Ct.post(r.fetch,`${r.url}/PutVectors`,n,{headers:r.headers})||{})}async getVectors(n){var r=this;return r.handleOperation(async()=>await Ct.post(r.fetch,`${r.url}/GetVectors`,n,{headers:r.headers}))}async listVectors(n){var r=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return r.handleOperation(async()=>await Ct.post(r.fetch,`${r.url}/ListVectors`,n,{headers:r.headers}))}async queryVectors(n){var r=this;return r.handleOperation(async()=>await Ct.post(r.fetch,`${r.url}/QueryVectors`,n,{headers:r.headers}))}async deleteVectors(n){var r=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return r.handleOperation(async()=>await Ct.post(r.fetch,`${r.url}/DeleteVectors`,n,{headers:r.headers})||{})}},ty=class extends Kn{constructor(n,r={},s){const l=n.replace(/\/$/,""),c=ue(ue({},Qs),{},{"Content-Type":"application/json"},r);super(l,c,s,"vectors")}async createBucket(n){var r=this;return r.handleOperation(async()=>await Ct.post(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:r.headers})||{})}async getBucket(n){var r=this;return r.handleOperation(async()=>await Ct.post(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:n},{headers:r.headers}))}async listBuckets(n={}){var r=this;return r.handleOperation(async()=>await Ct.post(r.fetch,`${r.url}/ListVectorBuckets`,n,{headers:r.headers}))}async deleteBucket(n){var r=this;return r.handleOperation(async()=>await Ct.post(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:r.headers})||{})}},ry=class extends ty{constructor(n,r={}){super(n,r.headers||{},r.fetch)}from(n){return new ny(this.url,this.headers,n,this.fetch)}async createBucket(n){var r=()=>super.createBucket,s=this;return r().call(s,n)}async getBucket(n){var r=()=>super.getBucket,s=this;return r().call(s,n)}async listBuckets(n={}){var r=()=>super.listBuckets,s=this;return r().call(s,n)}async deleteBucket(n){var r=()=>super.deleteBucket,s=this;return r().call(s,n)}},ny=class extends Z0{constructor(n,r,s,l){super(n,r,l),this.vectorBucketName=s}async createIndex(n){var r=()=>super.createIndex,s=this;return r().call(s,ue(ue({},n),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(n={}){var r=()=>super.listIndexes,s=this;return r().call(s,ue(ue({},n),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(n){var r=()=>super.getIndex,s=this;return r().call(s,s.vectorBucketName,n)}async deleteIndex(n){var r=()=>super.deleteIndex,s=this;return r().call(s,s.vectorBucketName,n)}index(n){return new sy(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},sy=class extends ey{constructor(n,r,s,l,c){super(n,r,c),this.vectorBucketName=s,this.indexName=l}async putVectors(n){var r=()=>super.putVectors,s=this;return r().call(s,ue(ue({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(n){var r=()=>super.getVectors,s=this;return r().call(s,ue(ue({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(n={}){var r=()=>super.listVectors,s=this;return r().call(s,ue(ue({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(n){var r=()=>super.queryVectors,s=this;return r().call(s,ue(ue({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(n){var r=()=>super.deleteVectors,s=this;return r().call(s,ue(ue({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},ay=class extends Y0{constructor(n,r={},s,l){super(n,r,s,l)}from(n){return new J0(this.url,this.headers,n,this.fetch)}get vectors(){return new ry(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new X0(this.url+"/iceberg",this.headers,this.fetch)}};const kf="2.95.0",Fn=30*1e3,Go=3,Ro=Go*Fn,iy="http://localhost:9999",ly="supabase.auth.token",oy={"X-Client-Info":`gotrue-js/${kf}`},Jo="X-Supabase-Api-Version",_f={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uy=600*1e3;class Vs extends Error{constructor(r,s,l){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function re(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class dy extends Vs{constructor(r,s,l){super(r,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function hy(n){return re(n)&&n.name==="AuthApiError"}class rn extends Vs{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class fr extends Vs{constructor(r,s,l,c){super(r,l,c),this.name=s,this.status=l}}class St extends fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Io(n){return re(n)&&n.name==="AuthSessionMissingError"}class Dn extends fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mi extends fr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class yi extends fr{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fy(n){return re(n)&&n.name==="AuthImplicitGrantRedirectError"}class Ah extends fr{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class py extends fr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Qo extends fr{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function Oo(n){return re(n)&&n.name==="AuthRetryableFetchError"}class Ph extends fr{constructor(r,s,l){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}class Yo extends fr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const ki="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rh=` 	
\r=`.split(""),gy=(()=>{const n=new Array(128);for(let r=0;r<n.length;r+=1)n[r]=-1;for(let r=0;r<Rh.length;r+=1)n[Rh[r].charCodeAt(0)]=-2;for(let r=0;r<ki.length;r+=1)n[ki[r].charCodeAt(0)]=r;return n})();function Ih(n,r,s){if(n!==null)for(r.queue=r.queue<<8|n,r.queuedBits+=8;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;s(ki[l]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;s(ki[l]),r.queuedBits-=6}}function Nf(n,r,s){const l=gy[n];if(l>-1)for(r.queue=r.queue<<6|l,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Oh(n){const r=[],s=h=>{r.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=h=>{xy(h,l,s)};for(let h=0;h<n.length;h+=1)Nf(n.charCodeAt(h),c,u);return r.join("")}function my(n,r){if(n<=127){r(n);return}else if(n<=2047){r(192|n>>6),r(128|n&63);return}else if(n<=65535){r(224|n>>12),r(128|n>>6&63),r(128|n&63);return}else if(n<=1114111){r(240|n>>18),r(128|n>>12&63),r(128|n>>6&63),r(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function yy(n,r){for(let s=0;s<n.length;s+=1){let l=n.charCodeAt(s);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(n.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}my(l,r)}}function xy(n,r,s){if(r.utf8seq===0){if(n<=127){s(n);return}for(let l=1;l<6;l+=1)if((n>>7-l&1)===0){r.utf8seq=l;break}if(r.utf8seq===2)r.codepoint=n&31;else if(r.utf8seq===3)r.codepoint=n&15;else if(r.utf8seq===4)r.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|n&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function qn(n){const r=[],s={queue:0,queuedBits:0},l=c=>{r.push(c)};for(let c=0;c<n.length;c+=1)Nf(n.charCodeAt(c),s,l);return new Uint8Array(r)}function vy(n){const r=[];return yy(n,s=>r.push(s)),new Uint8Array(r)}function nn(n){const r=[],s={queue:0,queuedBits:0},l=c=>{r.push(c)};return n.forEach(c=>Ih(c,s,l)),Ih(null,s,l),r.join("")}function by(n){return Math.round(Date.now()/1e3)+n}function wy(){return Symbol("auth-callback")}const st=()=>typeof window<"u"&&typeof document<"u",Yr={tested:!1,writable:!1},Sf=()=>{if(!st())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yr.tested)return Yr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Yr.tested=!0,Yr.writable=!0}catch{Yr.tested=!0,Yr.writable=!1}return Yr.writable};function jy(n){const r={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,u)=>{r[u]=c})}catch{}return s.searchParams.forEach((l,c)=>{r[c]=l}),r}const Cf=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),ky=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Hn=async(n,r,s)=>{await n.setItem(r,JSON.stringify(s))},Xr=async(n,r)=>{const s=await n.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},nt=async(n,r)=>{await n.removeItem(r)};class Oi{constructor(){this.promise=new Oi.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}Oi.promiseConstructor=Promise;function xi(n){const r=n.split(".");if(r.length!==3)throw new Yo("Invalid JWT structure");for(let l=0;l<r.length;l++)if(!cy.test(r[l]))throw new Yo("JWT not in base64url format");return{header:JSON.parse(Oh(r[0])),payload:JSON.parse(Oh(r[1])),signature:qn(r[2]),raw:{header:r[0],payload:r[1]}}}async function _y(n){return await new Promise(r=>{setTimeout(()=>r(null),n)})}function Ny(n,r){return new Promise((l,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await n(u);if(!r(u,null,h)){l(h);return}}catch(h){if(!r(u,h)){c(h);return}}})()})}function Sy(n){return("0"+n.toString(16)).substr(-2)}function Cy(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let c="";for(let u=0;u<56;u++)c+=s.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(r),Array.from(r,Sy).join("")}async function Ey(n){const s=new TextEncoder().encode(n),l=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(l);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function Ty(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await Ey(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Mn(n,r,s=!1){const l=Cy();let c=l;s&&(c+="/PASSWORD_RECOVERY"),await Hn(n,`${r}-code-verifier`,c);const u=await Ty(l);return[u,l===u?"plain":"s256"]}const Ay=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Py(n){const r=n.headers.get(Jo);if(!r||!r.match(Ay))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Ry(n){if(!n)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(n<=r)throw new Error("JWT has expired")}function Iy(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Oy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Un(n){if(!Oy.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Lo(){const n={};return new Proxy(n,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ly(n,r){return new Proxy(n,{get:(s,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const u=l.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,l,c)}return!r.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(s,l,c)}})}function Lh(n){return JSON.parse(JSON.stringify(n))}const en=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Dy=[502,503,504];async function Dh(n){var r;if(!ky(n))throw new Qo(en(n),0);if(Dy.includes(n.status))throw new Qo(en(n),n.status);let s;try{s=await n.json()}catch(u){throw new rn(en(u),u)}let l;const c=Py(n);if(c&&c.getTime()>=_f["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new Ph(en(s),n.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(l==="session_not_found")throw new St}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new Ph(en(s),n.status,s.weak_password.reasons);throw new dy(en(s),n.status||500,l)}const My=(n,r,s,l)=>{const c={method:n,headers:(r==null?void 0:r.headers)||{}};return n==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),s))};async function ce(n,r,s,l){var c;const u=Object.assign({},l==null?void 0:l.headers);u[Jo]||(u[Jo]=_f["2024-01-01"].name),l!=null&&l.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const h=(c=l==null?void 0:l.query)!==null&&c!==void 0?c:{};l!=null&&l.redirectTo&&(h.redirect_to=l.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await Uy(n,r,s+p,{headers:u,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(g):{data:Object.assign({},g),error:null}}async function Uy(n,r,s,l,c,u){const h=My(r,l,c,u);let p;try{p=await n(s,Object.assign({},h))}catch(g){throw console.error(g),new Qo(en(g),0)}if(p.ok||await Dh(p),l!=null&&l.noResolveJson)return p;try{return await p.json()}catch(g){await Dh(g)}}function Wt(n){var r;let s=null;By(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=by(n.expires_in)));const l=(r=n.user)!==null&&r!==void 0?r:n;return{data:{session:s,user:l},error:null}}function Mh(n){const r=Wt(n);return!r.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(r.data.weak_password=n.weak_password),r}function Dr(n){var r;return{data:{user:(r=n.user)!==null&&r!==void 0?r:n},error:null}}function $y(n){return{data:n,error:null}}function zy(n){const{action_link:r,email_otp:s,hashed_token:l,redirect_to:c,verification_type:u}=n,h=Pi(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:s,hashed_token:l,redirect_to:c,verification_type:u},g=Object.assign({},h);return{data:{properties:p,user:g},error:null}}function Uh(n){return n}function By(n){return n.access_token&&n.refresh_token&&n.expires_in}const Do=["global","local","others"];class Fy{constructor({url:r="",headers:s={},fetch:l}){this.url=r,this.headers=s,this.fetch=Cf(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,s=Do[0]){if(Do.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Do.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(l){if(re(l))return{data:null,error:l};throw l}}async inviteUserByEmail(r,s={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Dr})}catch(l){if(re(l))return{data:{user:null},error:l};throw l}}async generateLink(r){try{const{options:s}=r,l=Pi(r,["options"]),c=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(c.new_email=l==null?void 0:l.newEmail,delete c.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:zy,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(re(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Dr})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,l,c,u,h,p,g;try{const m={nextPage:null,lastPage:0,total:0},v=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=r==null?void 0:r.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Uh});if(v.error)throw v.error;const w=await v.json(),b=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,k=(g=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return k.length>0&&(k.forEach(x=>{const T=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(x.split(";")[1].split("=")[1]);m[`${N}Page`]=T}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(re(m))return{data:{users:[]},error:m};throw m}}async getUserById(r){Un(r);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Dr})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){Un(r);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:Dr})}catch(l){if(re(l))return{data:{user:null},error:l};throw l}}async deleteUser(r,s=!1){Un(r);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:Dr})}catch(l){if(re(l))return{data:{user:null},error:l};throw l}}async _listFactors(r){Un(r.userId);try{const{data:s,error:l}=await ce(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:l}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _deleteFactor(r){Un(r.userId),Un(r.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _listOAuthClients(r){var s,l,c,u,h,p,g;try{const m={nextPage:null,lastPage:0,total:0},v=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=r==null?void 0:r.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Uh});if(v.error)throw v.error;const w=await v.json(),b=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,k=(g=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return k.length>0&&(k.forEach(x=>{const T=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(x.split(";")[1].split("=")[1]);m[`${N}Page`]=T}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(re(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(r){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _getOAuthClient(r){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _updateOAuthClient(r,s){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:s,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(re(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(r){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(r){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}}function $h(n={}){return{getItem:r=>n[r]||null,setItem:(r,s)=>{n[r]=s},removeItem:r=>{delete n[r]}}}const $n={debug:!!(globalThis&&Sf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ef extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Hy extends Ef{}async function Vy(n,r,s){$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,r);const l=new globalThis.AbortController;return r>0&&setTimeout(()=>{l.abort(),$n.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,c.name);try{return await s()}finally{$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,c.name)}}else{if(r===0)throw $n.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Hy(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if($n.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Wy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Tf(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function qy(n){return parseInt(n,16)}function Ky(n){const r=new TextEncoder().encode(n);return"0x"+Array.from(r,l=>l.toString(16).padStart(2,"0")).join("")}function Gy(n){var r;const{chainId:s,domain:l,expirationTime:c,issuedAt:u=new Date,nonce:h,notBefore:p,requestId:g,resources:m,scheme:v,uri:w,version:b}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((r=n.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const k=Tf(n.address),x=v?`${v}://${l}`:l,T=n.statement?`${n.statement}
`:"",N=`${x} wants you to sign in with your Ethereum account:
${k}

${T}`;let R=`URI: ${w}
Version: ${b}
Chain ID: ${s}${h?`
Nonce: ${h}`:""}
Issued At: ${u.toISOString()}`;if(c&&(R+=`
Expiration Time: ${c.toISOString()}`),p&&(R+=`
Not Before: ${p.toISOString()}`),g&&(R+=`
Request ID: ${g}`),m){let _=`
Resources:`;for(const P of m){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);_+=`
- ${P}`}R+=_}return`${N}
${R}`}class Ke extends Error{constructor({message:r,code:s,cause:l,name:c}){var u;super(r,{cause:l}),this.__isWebAuthnError=!0,this.name=(u=c??(l instanceof Error?l.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class _i extends Ke{constructor(r,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:r}),this.name="WebAuthnUnknownError",this.originalError=s}}function Jy({error:n,options:r}){var s,l,c;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ke({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Ke({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(r.mediation==="conditional"&&((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ke({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ke({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Ke({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Ke({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Ke({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Ke({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const h=window.location.hostname;if(Af(h)){if(u.rp.id!==h)return new Ke({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Ke({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Qy({error:n,options:r}){const{publicKey:s}=r;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ke({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Ke({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(Af(l)){if(s.rpId!==l)return new Ke({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Yy{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const Xy=new Yy;function Zy(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:r,user:s,excludeCredentials:l}=n,c=Pi(n,["challenge","user","excludeCredentials"]),u=qn(r).buffer,h=Object.assign(Object.assign({},s),{id:qn(s.id).buffer}),p=Object.assign(Object.assign({},c),{challenge:u,user:h});if(l&&l.length>0){p.excludeCredentials=new Array(l.length);for(let g=0;g<l.length;g++){const m=l[g];p.excludeCredentials[g]=Object.assign(Object.assign({},m),{id:qn(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return p}function ex(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:r,allowCredentials:s}=n,l=Pi(n,["challenge","allowCredentials"]),c=qn(r).buffer,u=Object.assign(Object.assign({},l),{challenge:c});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const p=s[h];u.allowCredentials[h]=Object.assign(Object.assign({},p),{id:qn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function tx(n){var r;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:nn(new Uint8Array(n.response.attestationObject)),clientDataJSON:nn(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function rx(n){var r;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,l=n.getClientExtensionResults(),c=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:nn(new Uint8Array(c.authenticatorData)),clientDataJSON:nn(new Uint8Array(c.clientDataJSON)),signature:nn(new Uint8Array(c.signature)),userHandle:c.userHandle?nn(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Af(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function zh(){var n,r;return!!(st()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function nx(n){try{const r=await navigator.credentials.create(n);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new _i("Browser returned unexpected credential type",r)}:{data:null,error:new _i("Empty credential response",r)}}catch(r){return{data:null,error:Jy({error:r,options:n})}}}async function sx(n){try{const r=await navigator.credentials.get(n);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new _i("Browser returned unexpected credential type",r)}:{data:null,error:new _i("Empty credential response",r)}}catch(r){return{data:null,error:Qy({error:r,options:n})}}}const ax={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ix={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ni(...n){const r=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of n)if(c)for(const u in c){const h=c[u];if(h!==void 0)if(Array.isArray(h))l[u]=h;else if(s(h))l[u]=h;else if(r(h)){const p=l[u];r(p)?l[u]=Ni(p,h):l[u]=Ni(h)}else l[u]=h}return l}function lx(n,r){return Ni(ax,n,r||{})}function ox(n,r){return Ni(ix,n,r||{})}class cx{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:s,friendlyName:l,signal:c},u){var h;try{const{data:p,error:g}=await this.client.mfa.challenge({factorId:r,webauthn:s});if(!p)return{data:null,error:g};const m=c??Xy.createNewAbortSignal();if(p.webauthn.type==="create"){const{user:v}=p.webauthn.credential_options.publicKey;if(!v.name){const w=l;if(w)v.name=`${v.id}:${w}`;else{const k=(await this.client.getUser()).data.user,x=((h=k==null?void 0:k.user_metadata)===null||h===void 0?void 0:h.name)||(k==null?void 0:k.email)||(k==null?void 0:k.id)||"User";v.name=`${v.id}:${x}`}}v.displayName||(v.displayName=v.name)}switch(p.webauthn.type){case"create":{const v=lx(p.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:w,error:b}=await nx({publicKey:v,signal:m});return w?{data:{factorId:r,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:w}},error:null}:{data:null,error:b}}case"request":{const v=ox(p.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:w,error:b}=await sx(Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:v,signal:m}));return w?{data:{factorId:r,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:w}},error:null}:{data:null,error:b}}}}catch(p){return re(p)?{data:null,error:p}:{data:null,error:new rn("Unexpected error in challenge",p)}}}async _verify({challengeId:r,factorId:s,webauthn:l}){return this.client.mfa.verify({factorId:s,challengeId:r,webauthn:l})}async _authenticate({factorId:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!s)return{data:null,error:new Vs("rpId is required for WebAuthn authentication")};try{if(!zh())return{data:null,error:new rn("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this.challenge({factorId:r,webauthn:{rpId:s,rpOrigins:l},signal:c},{request:u});if(!h)return{data:null,error:p};const{webauthn:g}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:l,credential_response:g.credential_response}})}catch(h){return re(h)?{data:null,error:h}:{data:null,error:new rn("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!s)return{data:null,error:new Vs("rpId is required for WebAuthn registration")};try{if(!zh())return{data:null,error:new rn("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===r&&b.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:p};const{data:g,error:m}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:s,rpOrigins:l},signal:c},{create:u});return g?this._verify({factorId:h.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:l,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:m}}catch(h){return re(h)?{data:null,error:h}:{data:null,error:new rn("Unexpected error in register",h)}}}}Wy();const ux={url:iy,storageKey:ly,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Bh(n,r,s){return await s()}const zn={};class Ws{get jwks(){var r,s;return(s=(r=zn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){zn[this.storageKey]=Object.assign(Object.assign({},zn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=zn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){zn[this.storageKey]=Object.assign(Object.assign({},zn[this.storageKey]),{cachedAt:r})}constructor(r){var s,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},ux),r);if(this.storageKey=u.storageKey,this.instanceID=(s=Ws.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Ws.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&st()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Fy({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Cf(u.fetch),this.lock=u.lock||Bh,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&st()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=Vy:this.lock=Bh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new cx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Sf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$h(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=$h(this.memoryStorage)),st()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h);try{await this._notifyAllSubscribers(h.data.event,h.data.session,!1)}catch(p){this._debug("#broadcastChannel","error",p)}})}this.initialize().catch(h=>{this._debug("#initialize()","error",h)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${kf}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let s={},l="none";if(st()&&(s=jy(window.location.href),this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce")),st()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:u}=await this._getSessionFromURL(s,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),fy(u)){const g=(r=u.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:h,redirectType:p}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return re(s)?this._returnResult({error:s}):this._returnResult({error:new rn("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,l,c;try{const u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=r==null?void 0:r.options)===null||c===void 0?void 0:c.captchaToken}},xform:Wt}),{data:h,error:p}=u;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const g=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(u){if(re(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var s,l,c;try{let u;if("email"in r){const{email:v,password:w,options:b}=r;let k=null,x=null;this.flowType==="pkce"&&([k,x]=await Mn(this.storage,this.storageKey)),u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:v,password:w,data:(s=b==null?void 0:b.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:k,code_challenge_method:x},xform:Wt})}else if("phone"in r){const{phone:v,password:w,options:b}=r;u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(l=b==null?void 0:b.data)!==null&&l!==void 0?l:{},channel:(c=b==null?void 0:b.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Wt})}else throw new mi("You must provide either an email or phone number and a password");const{data:h,error:p}=u;if(p||!h)return await nt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const g=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(u){if(await nt(this.storage,`${this.storageKey}-code-verifier`),re(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let s;if("email"in r){const{email:u,password:h,options:p}=r;s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Mh})}else if("phone"in r){const{phone:u,password:h,options:p}=r;s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Mh})}else throw new mi("You must provide either an email or phone number and a password");const{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Dn;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(r){var s,l,c,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=r.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;switch(s){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(r){var s,l,c,u,h,p,g,m,v,w,b;let k,x;if("message"in r)k=r.message,x=r.signature;else{const{chain:T,wallet:N,statement:R,options:_}=r;let P;if(st())if(typeof N=="object")P=N;else{const be=window;if("ethereum"in be&&typeof be.ethereum=="object"&&"request"in be.ethereum&&typeof be.ethereum.request=="function")P=be.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=N}const M=new URL((s=_==null?void 0:_.url)!==null&&s!==void 0?s:window.location.href),V=await P.request({method:"eth_requestAccounts"}).then(be=>be).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!V||V.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const q=Tf(V[0]);let ne=(l=_==null?void 0:_.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!ne){const be=await P.request({method:"eth_chainId"});ne=qy(be)}const Z={domain:M.host,address:q,statement:R,uri:M.href,version:"1",chainId:ne,nonce:(c=_==null?void 0:_.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(u=_==null?void 0:_.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(p=_==null?void 0:_.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(g=_==null?void 0:_.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(m=_==null?void 0:_.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=_==null?void 0:_.signInWithEthereum)===null||v===void 0?void 0:v.resources};k=Gy(Z),x=await P.request({method:"personal_sign",params:[Ky(k),q]})}try{const{data:T,error:N}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:k,signature:x},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=r.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Wt});if(N)throw N;if(!T||!T.session||!T.user){const R=new Dn;return this._returnResult({data:{user:null,session:null},error:R})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:N})}catch(T){if(re(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(r){var s,l,c,u,h,p,g,m,v,w,b,k;let x,T;if("message"in r)x=r.message,T=r.signature;else{const{chain:N,wallet:R,statement:_,options:P}=r;let M;if(st())if(typeof R=="object")M=R;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))M=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=R}const V=new URL((s=P==null?void 0:P.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in M&&M.signIn){const q=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),_?{statement:_}:null));let ne;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")ne=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)ne=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)x=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),T=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${V.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(c=(l=P==null?void 0:P.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=P==null?void 0:P.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((h=P==null?void 0:P.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((p=P==null?void 0:P.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((g=P==null?void 0:P.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((m=P==null?void 0:P.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((w=(v=P==null?void 0:P.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...P.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const q=await M.signMessage(new TextEncoder().encode(x),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=q}}try{const{data:N,error:R}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:nn(T)},!((b=r.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(k=r.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Wt});if(R)throw R;if(!N||!N.session||!N.user){const _=new Dn;return this._returnResult({data:{user:null,session:null},error:_})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:R})}catch(N){if(re(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(r){const s=await Xr(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(s??"").split("/");try{if(!l&&this.flowType==="pkce")throw new py;const{data:u,error:h}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:l},xform:Wt});if(await nt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!u||!u.session||!u.user){const p=new Dn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:h})}catch(u){if(await nt(this.storage,`${this.storageKey}-code-verifier`),re(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:s,provider:l,token:c,access_token:u,nonce:h}=r,p=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Wt}),{data:g,error:m}=p;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g||!g.session||!g.user){const v=new Dn;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:m})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(r){var s,l,c,u,h;try{if("email"in r){const{email:p,options:g}=r;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Mn(this.storage,this.storageKey));const{error:w}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in r){const{phone:p,options:g}=r,{data:m,error:v}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(c=g==null?void 0:g.data)!==null&&c!==void 0?c:{},create_user:(u=g==null?void 0:g.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(h=g==null?void 0:g.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:v})}throw new mi("You must provide either an email or phone number.")}catch(p){if(await nt(this.storage,`${this.storageKey}-code-verifier`),re(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(r){var s,l;try{let c,u;"options"in r&&(c=(s=r.options)===null||s===void 0?void 0:s.redirectTo,u=(l=r.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:p}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:Wt});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,m=h.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(c){if(re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(r){var s,l,c,u,h;try{let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Mn(this.storage,this.storageKey));const m=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(l=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=r==null?void 0:r.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:g}),headers:this.headers,xform:$y});return!((u=m.data)===null||u===void 0)&&u.url&&st()&&!(!((h=r.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(p){if(await nt(this.storage,`${this.storageKey}-code-verifier`),re(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:l}=r;if(l)throw l;if(!s)throw new St;const{error:c}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:l,type:c,options:u}=r,{error:h}=await ce(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:l,type:c,options:u}=r,{data:h,error:p}=await ce(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new mi("You must provide either an email or phone number and a type")}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await Xr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const l=r.expires_at?r.expires_at*1e3-Date.now()<Ro:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",r.expires_at),!l){if(this.userStorage){const h=await Xr(this.userStorage,this.storageKey+"-user");h!=null&&h.user?r.user=h.user:r.user=Lo()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=Ly(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:c,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(r){try{return r?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Dr}):await this._useSession(async s=>{var l,c,u;const{data:h,error:p}=s;if(p)throw p;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new St}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:Dr})})}catch(s){if(re(s))return Io(s)&&(await this._removeSession(),await nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async l=>{const{data:c,error:u}=l;if(u)throw u;if(!c.session)throw new St;const h=c.session;let p=null,g=null;this.flowType==="pkce"&&r.email!=null&&([p,g]=await Mn(this.storage,this.storageKey));const{data:m,error:v}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:g}),jwt:h.access_token,xform:Dr});if(v)throw v;return h.user=m.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(await nt(this.storage,`${this.storageKey}-code-verifier`),re(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new St;const s=Date.now()/1e3;let l=s,c=!0,u=null;const{payload:h}=xi(r.access_token);if(h.exp&&(l=h.exp,c=l<=s),c){const{data:p,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:g}=await this._getUser(r.access_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});u={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(re(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var l;if(!r){const{data:h,error:p}=s;if(p)throw p;r=(l=h.session)!==null&&l!==void 0?l:void 0}if(!(r!=null&&r.refresh_token))throw new St;const{data:c,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(r,s){try{if(!st())throw new yi("No browser detected.");if(r.error||r.error_description||r.error_code)throw new yi(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ah("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yi("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Ah("No code detected.");const{data:_,error:P}=await this._exchangeCodeForSession(r.code);if(P)throw P;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:u,refresh_token:h,expires_in:p,expires_at:g,token_type:m}=r;if(!u||!p||!h||!m)throw new yi("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(p);let b=v+w;g&&(b=parseInt(g));const k=b-v;k*1e3<=Fn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${w}s`);const x=b-w;v-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,b,v):v-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,b,v);const{data:T,error:N}=await this._getUser(u);if(N)throw N;const R={provider_token:l,provider_refresh_token:c,access_token:u,expires_in:w,expires_at:b,refresh_token:h,token_type:m,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:r.type},error:null})}catch(l){if(re(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await Xr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:c,error:u}=s;if(u&&!Io(u))return this._returnResult({error:u});const h=(l=c.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:p}=await this.admin.signOut(h,r);if(p&&!(hy(p)&&(p.status===404||p.status===401||p.status===403)||Io(p)))return this._returnResult({error:p})}return r!=="others"&&(await this._removeSession(),await nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const s=wy(),l={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(r){return await this._useSession(async s=>{var l,c;try{const{data:{session:u},error:h}=s;if(h)throw h;await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(r))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,s={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Mn(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(await nt(this.storage,`${this.storageKey}-code-verifier`),re(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var s;try{const{data:l,error:c}=await this._useSession(async u=>{var h,p,g,m,v;const{data:w,error:b}=u;if(b)throw b;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",k,{headers:this.headers,jwt:(v=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(c)throw c;return st()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),this._returnResult({data:{provider:r.provider,url:l==null?void 0:l.url},error:null})}catch(l){if(re(l))return this._returnResult({data:{provider:r.provider,url:null},error:l});throw l}}async linkIdentityIdToken(r){return await this._useSession(async s=>{var l;try{const{error:c,data:{session:u}}=s;if(c)throw c;const{options:h,provider:p,token:g,access_token:m,nonce:v}=r,w=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=u==null?void 0:u.access_token)!==null&&l!==void 0?l:void 0,body:{provider:p,id_token:g,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Wt}),{data:b,error:k}=w;return k?this._returnResult({data:{user:null,session:null},error:k}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Dn}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:k}))}catch(c){if(await nt(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(r){try{return await this._useSession(async s=>{var l,c;const{data:u,error:h}=s;if(h)throw h;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await Ny(async c=>(c>0&&await _y(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Wt})),(c,u)=>{const h=200*Math.pow(2,c);return u&&Oo(u)&&Date.now()+h-l<Fn})}catch(l){if(this._debug(s,"error",l),re(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",l),st()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:r,url:l},error:null}}async _recoverAndRefresh(){var r,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await Xr(this.storage,this.storageKey);if(c&&this.userStorage){let h=await Xr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await Hn(this.userStorage,this.storageKey+"-user",h)),c.user=(r=h==null?void 0:h.user)!==null&&r!==void 0?r:Lo()}else if(c&&!c.user&&!c.user){const h=await Xr(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(c.user=h.user,await nt(this.storage,this.storageKey+"-user"),await Hn(this.storage,this.storageKey,c)):c.user=Lo()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const u=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ro;if(this._debug(l,`session has${u?"":" not"} expired with margin of ${Ro}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),Oo(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(c.access_token);!p&&(h!=null&&h.user)?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(r){var s,l;if(!r)throw new St;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Oi;const{data:u,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!u.session)throw new St;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={data:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(c,"error",u),re(u)){const h={data:null,error:u};return Oo(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(r,s,l=!0){const c=`#_notifyAllSubscribers(${r})`;this._debug(c,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:r,session:s});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,s)}catch(g){u.push(g)}});if(await Promise.all(h),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await nt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},r),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await Hn(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const u=Lh(c);await Hn(this.storage,this.storageKey,u)}else{const c=Lh(s);await Hn(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await nt(this.storage,this.storageKey),await nt(this.storage,this.storageKey+"-code-verifier"),await nt(this.storage,this.storageKey+"-user"),this.userStorage&&await nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&st()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Fn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-r)/Fn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Fn}ms, refresh threshold is ${Go} ticks`),c<=Go&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Ef)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!st()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(r){this._debug("#visibilityChangedCallback","error",r)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,l){const c=[`provider=${encodeURIComponent(s)}`];if(l!=null&&l.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,h]=await Mn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(p.toString())}if(l!=null&&l.queryParams){const u=new URLSearchParams(l.queryParams);c.push(u.toString())}return l!=null&&l.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${r}?${c.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var l;const{data:c,error:u}=s;return u?this._returnResult({data:null,error:u}):await ce(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(r){try{return await this._useSession(async s=>{var l,c;const{data:u,error:h}=s;if(h)return this._returnResult({data:null,error:h});const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:g,error:m}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(r.factorType==="totp"&&g.type==="totp"&&(!((c=g==null?void 0:g.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _verify(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var l;const{data:c,error:u}=s;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?tx(r.webauthn.credential_response):rx(r.webauthn.credential_response)})}:{code:r.code}),{data:p,error:g}=await ce(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:g}))})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var l;const{data:c,error:u}=s;if(u)return this._returnResult({data:null,error:u});const h=await ce(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:p}=h;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Zy(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:ex(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(r){const{data:s,error:l}=await this._challenge({factorId:r.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){var r;const{data:{user:s},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=s==null?void 0:s.factors)!==null&&r!==void 0?r:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(r){var s,l,c,u;if(r)try{const{payload:k}=xi(r);let x=null;k.aal&&(x=k.aal);let T=x;const{data:{user:N},error:R}=await this.getUser(r);if(R)return this._returnResult({data:null,error:R});((l=(s=N==null?void 0:N.factors)===null||s===void 0?void 0:s.filter(M=>M.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(T="aal2");const P=k.amr||[];return{data:{currentLevel:x,nextLevel:T,currentAuthenticationMethods:P},error:null}}catch(k){if(re(k))return this._returnResult({data:null,error:k});throw k}const{data:{session:h},error:p}=await this.getSession();if(p)return this._returnResult({data:null,error:p});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=xi(h.access_token);let m=null;g.aal&&(m=g.aal);let v=m;((u=(c=h.user.factors)===null||c===void 0?void 0:c.filter(k=>k.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(v="aal2");const b=g.amr||[];return{data:{currentLevel:m,nextLevel:v,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async s=>{const{data:{session:l},error:c}=s;return c?this._returnResult({data:null,error:c}):l?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new St})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(r,s){try{return await this._useSession(async l=>{const{data:{session:c},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new St});const h=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&st()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(re(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(r,s){try{return await this._useSession(async l=>{const{data:{session:c},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new St});const h=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&st()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(re(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:s},error:l}=r;return l?this._returnResult({data:null,error:l}):s?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new St})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async s=>{const{data:{session:l},error:c}=s;return c?this._returnResult({data:null,error:c}):l?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new St})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(r,s={keys:[]}){let l=s.keys.find(p=>p.kid===r);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(p=>p.kid===r),l&&this.jwks_cached_at+uy>c)return l;const{data:u,error:h}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,l=u.keys.find(p=>p.kid===r),!l)?null:l}async getClaims(r,s={}){try{let l=r;if(!l){const{data:k,error:x}=await this.getSession();if(x||!k.session)return this._returnResult({data:null,error:x});l=k.session.access_token}const{header:c,payload:u,signature:h,raw:{header:p,payload:g}}=xi(l);s!=null&&s.allowExpired||Ry(u.exp);const m=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!m){const{error:k}=await this.getUser(l);if(k)throw k;return{data:{claims:u,header:c,signature:h},error:null}}const v=Iy(c.alg),w=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,h,vy(`${p}.${g}`)))throw new Yo("Invalid JWT signature");return{data:{claims:u,header:c,signature:h},error:null}}catch(l){if(re(l))return this._returnResult({data:null,error:l});throw l}}}Ws.nextInstanceID={};const dx=Ws,hx="2.95.0";let Os="";typeof Deno<"u"?Os="deno":typeof document<"u"?Os="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Os="react-native":Os="node";const fx={"X-Client-Info":`supabase-js-${Os}/${hx}`},px={headers:fx},gx={schema:"public"},mx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yx={};function qs(n){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qs(n)}function xx(n,r){if(qs(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var l=s.call(n,r);if(qs(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function vx(n){var r=xx(n,"string");return qs(r)=="symbol"?r:r+""}function bx(n,r,s){return(r=vx(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}function Fh(n,r){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);r&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),s.push.apply(s,l)}return s}function Be(n){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Fh(Object(s),!0).forEach(function(l){bx(n,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Fh(Object(s)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(s,l))})}return n}const wx=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),jx=()=>Headers,kx=(n,r,s)=>{const l=wx(s),c=jx();return async(u,h)=>{var p;const g=(p=await r())!==null&&p!==void 0?p:n;let m=new c(h==null?void 0:h.headers);return m.has("apikey")||m.set("apikey",n),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),l(u,Be(Be({},h),{},{headers:m}))}};function _x(n){return n.endsWith("/")?n:n+"/"}function Nx(n,r){var s,l;const{db:c,auth:u,realtime:h,global:p}=n,{db:g,auth:m,realtime:v,global:w}=r,b={db:Be(Be({},g),c),auth:Be(Be({},m),u),realtime:Be(Be({},v),h),storage:{},global:Be(Be(Be({},w),p),{},{headers:Be(Be({},(s=w==null?void 0:w.headers)!==null&&s!==void 0?s:{}),(l=p==null?void 0:p.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return n.accessToken?b.accessToken=n.accessToken:delete b.accessToken,b}function Sx(n){const r=n==null?void 0:n.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_x(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Cx=class extends dx{constructor(n){super(n)}},Ex=class{constructor(n,r,s){var l,c;this.supabaseUrl=n,this.supabaseKey=r;const u=Sx(n);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h=`sb-${u.hostname.split(".")[0]}-auth-token`,p={db:gx,realtime:yx,auth:Be(Be({},mx),{},{storageKey:h}),global:px},g=Nx(s??{},p);if(this.storageKey=(l=g.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=g.global.headers)!==null&&c!==void 0?c:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=g.auth)!==null&&m!==void 0?m:{},this.headers,g.global.fetch)}this.fetch=kx(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Be({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new h0(new URL("rest/v1",u).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch,timeout:g.db.timeout,urlLengthLimit:g.db.urlLengthLimit}),this.storage=new ay(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new s0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,r,s)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,r,s;if(n.accessToken)return await n.accessToken();const{data:l}=await n.auth.getSession();return(r=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:s,storage:l,userStorage:c,storageKey:u,flowType:h,lock:p,debug:g,throwOnError:m},v,w){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Cx({url:this.authUrl.href,headers:Be(Be({},b),v),storageKey:u,autoRefreshToken:n,persistSession:r,detectSessionInUrl:s,storage:l,userStorage:c,flowType:h,lock:p,debug:g,throwOnError:m,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new T0(this.realtimeUrl.href,Be(Be({},n),{},{params:Be(Be({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(n,r,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Tx=(n,r,s)=>new Ex(n,r,s);function Ax(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const r=n.version;if(r==null)return!1;const s=r.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Ax()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Px="https://ebglthtyiwsqxncbkwyt.supabase.co",Rx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImViZ2x0aHR5aXdzcXhuY2Jrd3l0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzMDY2MDgsImV4cCI6MjA4NTg4MjYwOH0.81L9XOBXDDJ2AclPQEy_odsAKSkfB7yOloCsjnaWsZ4",Ue=Tx(Px,Rx),Pf=["Amit","Rahul","Priya","Sneha","Vikram","Rohan","Sita","Gita","Mohan","Sohan","Anita","Kavita","Raj","Simran","Arjun","Karan"],bi=["Kumar","Sharma","Singh","Gupta","Verma","Yadav","Jain","Mehta","Reddy","Patel","Mishra","Joshi"],Hh=["Jaipur","Delhi","Mumbai","Kota","Udaipur","Patna","Indore","Bhopal","Lucknow","Kanpur"],Ix=["Red","Blue","Green","Yellow","Orange"],vt=n=>n[Math.floor(Math.random()*n.length)],bt=(n,r)=>Math.floor(Math.random()*(r-n+1))+n,Vh=[{title:"Salary Calculation",dataModel:"Salary",tasks:["Calculate 'Net Salary' in Column D (Basic Salary + Bonus). Formula: =B1+C1","Calculate 'Annual Salary' in Column E (Net Salary * 12). Formula: =D1*12","Calculate Average Basic Salary in cell B6 using AVERAGE function.","Calculate Total Bonus in cell C7 using SUM function.","Find Maximum Basic Salary in cell B8 using MAX function.","Find Minimum Basic Salary in cell B9 using MIN function.","Count total employees in cell B10 using COUNT function.","Format the header row (Row 0) with Bold and Yellow background.","Align all numeric values in Columns B and C to Center.","Apply Borders to the entire data range."]},{title:"Sales Report",dataModel:"Sales",tasks:["Calculate 'Revenue' in Column D (Price * Units). Formula: =B1*C1","Calculate 'Profit' in Column E (Revenue - (Cost * Units)). Assume Cost is 50% of Price: =D1-(B1*0.5*C1)","Calculate Total Revenue in cell D6 using SUM.","Calculate Average Unit Price in cell B7 using AVERAGE.","Find Highest Units Sold in cell C8 using MAX.","Find Lowest Units Sold in cell C9 using MIN.","Count number of products in cell A10 using COUNT.","Format 'Total Rev' cell (D6) text to Bold and Red Color.","Change the Font of Product Names (Column A) to Italic.","Underline the header row."]},{title:"Student Marks Sheet",dataModel:"Marks",tasks:["Calculate 'Total Marks' in Column E (Maths + Sci + Eng). Formula: =B1+C1+D1","Calculate 'Percentage' in Column F (Total / 3). Formula: =E1/3","Calculate Class Average for Maths in cell B6 using AVERAGE.","Find Highest Marks in Science in cell C7 using MAX.","Find Lowest Marks in English in cell D8 using MIN.","Count total students in cell A9 using COUNT.","Highlight the student with highest total marks in Yellow.","Make the 'Percentage' column (F) text Bold.","Center align all marks.","Apply a thick border around the table."]},{title:"Inventory Management",dataModel:"Inventory",tasks:["Calculate 'Remaining Stock' in Column D (Opening - Sold). Formula: =B1-C1","Calculate 'Stock Value' in Column E (Remaining * 500). Formula: =D1*500","Calculate Total Opening Stock in cell B6 using SUM.","Calculate Total Sold Items in cell C7 using SUM.","Find Maximum Opening Stock in cell B8 using MAX.","Find Minimum Sold Items in cell C9 using MIN.","Count total number of items in cell A10 using COUNT.","Format 'Stock Value' column to have 'Currency' style (bold + italic).","Highlight 'Printer' row in Red if remaining stock is less than 5.","Align 'Item Name' column to Left."]},{title:"Budget Planner",dataModel:"Budget",tasks:["Calculate 'Variance' in Column D (Actual - Estimated). Formula: =C1-B1","Calculate 'Variance %' in Column E (Variance / Estimated * 100). Formula: =D1/B1*100","Calculate Total Estimated Cost in cell B6 using SUM.","Calculate Total Actual Cost in cell C7 using SUM.","Find Maximum Variance in cell D8 using MAX.","Find Minimum Variance in cell D9 using MIN.","Count number of expense categories in cell A10 using COUNT.","Format positive variance values in Green, negative in Red.","Bold the 'Total' rows.","Apply 'Grid' borders to the table."]}],Wh=[{title:"Official Letter Formatting",type:"Letter",baseContent:"<p>To,</p><p>The District Collector,</p><p>{CITY}, Rajasthan.</p><p>Subject: Application for {REASON}.</p><p>Sir,</p><p>Most respectfully, I beg to say that {BODY}.</p><p>Kindly grant me leave for two days.</p><p>Thanking You,</p><p>Yours Faithfully,</p><p>{NAME}</p><p>{DESIGNATION}</p>",questions:["Set page size to A4 and margins to 'Normal'.","Make the text 'The District Collector' Bold and Underlined.","Center align the 'Subject' line and make it Bold.","Set font size of the body text to 14.","Right align the 'Yours Faithfully' section.","Justify the main body paragraph.","Change font color of 'Subject' to Blue.","Apply 'Italic' style to '{DESIGNATION}'.","Set line spacing of the body paragraph to 1.5.","Highlight '{CITY}, Rajasthan' in Yellow."]},{title:"Notice Writing",type:"Notice",baseContent:"<p>NOTICE</p><p>{SCHOOL_NAME}, {CITY}</p><p>Date: {DATE}</p><p>{EVENT_NAME}</p><p>This is to inform all students that the {EVENT_NAME} will be held on {EVENT_DATE} in the school playground. Interested students should submit their names to the undersigned by {DEADLINE}.</p><p>Events: 100m Race, Long Jump, Shot Put.</p><p>Sports Secretary,</p><p>{NAME}</p>",questions:["Center align the word 'NOTICE' and make it Bold.","Make the School Name Bold, Underlined, and Font Size 16.","Right align the 'Date'.","Make '{EVENT_NAME}' Bold and Italic.","Justify the main paragraph text.","Change font of 'Events' line to 'Arial'.","Highlight '{EVENT_DATE}' with Green color.","Make 'Sports Secretary' Bold.","Convert '100m Race, Long Jump, Shot Put' into a Bulleted List.","Apply a text border to the word 'NOTICE'."]},{title:"Resume Formatting",type:"Resume",baseContent:"<p>CURRICULUM VITAE</p><p>Name: {NAME}</p><p>Address: {ADDRESS}</p><p>Email: {EMAIL}</p><p>CAREER OBJECTIVE</p><p>To secure a challenging position in a reputable organization to expand my learnings, knowledge, and skills.</p><p>EDUCATION</p><p>10th - RBSE Board - {SCORE1}%</p><p>12th - RBSE Board - {SCORE2}%</p><p>B.Com - Rajasthan University - {SCORE3}%</p><p>SKILLS</p><p>MS Office, Tally, Typing (Hindi & English)</p>",questions:["Center align 'CURRICULUM VITAE', make it Bold and Underlined.","Make 'Name', 'Address', 'Email' labels Bold.","Make section headers ('CAREER OBJECTIVE', 'EDUCATION', 'SKILLS') Bold and shade background Grey.","Justify the Career Objective paragraph.","Convert Education details into a Bulleted List.","Change font of the entire document to 'Times New Roman'.","Set font size of section headers to 14.","Italicize the percentages in Education section.","Apply 'Strike-through' to the word 'Tally'.","Change the font color of 'Email' to Blue."]},{title:"Meeting Minutes",type:"Minutes",baseContent:"<p>MINUTES OF MEETING</p><p>Date: {DATE}</p><p>Time: 10:00 AM</p><p>Venue: Conference Hall</p><p>Attendees:</p><p>1. Mr. {NAME1} (Chairman)</p><p>2. Ms. {NAME2} (Secretary)</p><p>3. All Department Heads</p><p>Agenda:</p><p>1. Review of {TOPIC1}</p><p>2. {TOPIC2}</p><p>3. Employee Welfare Verification</p><p>Action Items:</p><p>HR Dept to organize health camp.</p><p>Marketing Dept to launch new campaign.</p>",questions:["Center align 'MINUTES OF MEETING', make it Bold, Font Size 18.","Make 'Date', 'Time', 'Venue' labels Bold.","Convert 'Attendees' list into a Numbered List.","Convert 'Agenda' list into a Bulleted List.","Make 'Action Items' header Bold and Underlined.","Justify the Action Items text.","Highlight 'Conference Hall' in Yellow.","Change 'Mr. {NAME1} (Chairman)' font color to Red.","Apply Line Spacing of 2.0 to the Agenda list.","Italicize 'Employee Welfare Verification'."]},{title:"Article Formatting",type:"Article",baseContent:"<p>{TITLE}</p><p>{BODY_START}. It gives us oxygen, store carbon, stabilize the soil and give life to the worlds wildlife.</p><p>Benefits:</p><p>Oxygen Production</p><p>Climate Control</p><p>Air Purification</p><p>Conclusion</p><p>We must plant more trees to save our planet.</p><p>Written by: Environment Club</p>",questions:["Center align title '{TITLE}', make Bold and Underlined.","Set title font size to 20.","Justify the first paragraph.","Make 'Benefits:' header Bold and Italic.","Convert the benefits list into a Bulleted List.","Change font of 'Conclusion' to 'Arial Black'.","Center align 'Written by: Environment Club'.","Highlight 'oxygen' and 'carbon' words in Green.","Apply Subscript to '2' in 'CO2' (if added text manually).","Right align the entire first paragraph."]}],Ox=n=>{const r=[];if(n==="Salary")for(let s=1;s<=5;s++)r.push({id:s,name:`${vt(Pf)} ${vt(bi)}`,val1:bt(15e3,5e4),c:bt(1e3,5e3),d:"",e:""});else if(n==="Sales"){const s=["Laptop","Mouse","Keyboard","Monitor","Printer","USB Drive","Webcam","Headset"];for(let l=1;l<=5;l++)r.push({id:l,name:vt(s),val1:bt(500,2e3),c:bt(10,100),d:"",e:""})}else for(let s=1;s<=5;s++)r.push({id:s,name:`Item ${String.fromCharCode(64+s)}`,val1:bt(10,100),c:bt(10,100),d:"",e:""});for(let s=6;s<=10;s++)r.push({id:s,name:s===6?"Total":"",val1:"",c:"",d:"",e:""});return r},Lx=n=>{const r=[];let s=101;for(let l=0;l<n;l++){const c=Vh[l%Vh.length],u=l<5;r.push({id:s++,title:u?c.title:`${c.title} - Set ${Math.floor(l/5)+1}`,type:"Excel",language:"English",isFree:l<2,data:Ox(c.dataModel),tasks:c.tasks.map((h,p)=>({text:h,marks:1}))})}return r},Dx=n=>{const r=[];let s=201;for(let l=0;l<n;l++){const c=Wh[l%Wh.length],u=l<5;let h=c.baseContent.replace(/{CITY}/g,vt(Hh)).replace(/{NAME}/g,`${vt(Pf)} ${vt(bi)}`).replace(/{NAME1}/g,vt(bi)).replace(/{NAME2}/g,vt(bi)).replace(/{DATE}/g,`${bt(1,28)}th ${vt(["Jan","Feb","Mar","Oct","Dec"])} 2025`).replace(/{EVENT_DATE}/g,`${bt(1,28)}th Next Month`).replace(/{DEADLINE}/g,`${bt(1,28)}th This Month`).replace(/{REASON}/g,vt(["fever","urgent work","marriage","festival"])).replace(/{BODY}/g,"I have some urgent piece of work at home").replace(/{DESIGNATION}/g,vt(["Clerk","Assistant","Manager","Student"])).replace(/{SCHOOL_NAME}/g,"Govt. Sen. Sec. School").replace(/{EVENT_NAME}/g,vt(["Annual Function","Sports Day","Science Fair","Debate Competition"])).replace(/{ADDRESS}/g,`${bt(10,99)}, Civil Lines, ${vt(Hh)}`).replace(/{EMAIL}/g,`user${bt(100,999)}@example.com`).replace(/{SCORE1}/g,bt(60,95).toString()).replace(/{SCORE2}/g,bt(60,95).toString()).replace(/{SCORE3}/g,bt(55,85).toString()).replace(/{TOPIC1}/g,"Performance").replace(/{TOPIC2}/g,"Future Plans").replace(/{TITLE}/g,"IMPORTANCE OF TREES").replace(/{BODY_START}/g,"Trees are vital");r.push({id:s++,title:u?c.title:`${c.title} - Set ${Math.floor(l/5)+1}`,type:"Word",language:"English",isFree:l<2,content:h,questions:c.questions.map(p=>{const g=vt(Ix);return{text:p.replace(/Blue|Red|Green|Yellow/g,g),marks:1}})})}return r},Mx=Lx(50),Ux=Dx(50),Rf=[],If=[],Si={profileName:"Untitled Profile",description:"",calculationParam:"net_wpm",wordCalculation:"5char",minEligibilityType:"none",languageMode:"fixed",fixedLanguage:"en",hindiFont:"mangal",hindiComplexity:"standard",allowAltCodes:!1,hindiStenoAvailable:!1,errorClassification:"simple",ignoredErrorLimit:0,penaltyMultiplier:0,penaltyMethod:"none",finalScoreCalc:"direct",scoreDisplay:"2dec",showAccuracy:!0,stenoEnabled:!1,durationMin:10,practiceSession:"none",breakDurationSec:0,backspaceEnabled:!0,arrowKeysEnabled:!0,highlight:"word",showFingerPosition:!1,showOnscreenKeyboard:!0,liveErrors:!0,showSpeedDuringTest:!0,minKeystrokes:0,categoryWiseEnabled:!1,scribeAllowed:!1,examType:"practice",resultDisplay:"detailed"},$x={siteName:"TypingNexus",siteTagline:"India's #1 Typing & Computer Efficiency Platform",supportEmail:"support@typingnexus.in",logoUrl:"",logoLightUrl:"",logoDarkUrl:"",faviconUrl:"",copyrightText:" 2026 TypingNexus.in. All rights reserved.",maintenanceMode:!1,maintenanceMessage:"Website is under maintenance. Please check back soon.",allowAdminBypass:!0,seoTitle:"TypingNexus - Master Typing with Confidence",seoKeywords:"typing, hindi typing, english typing, SSC, RRB, typing test",robotsTxt:`User-agent: *
Allow: /`,timezone:"Asia/Kolkata",dateFormat:"DD/MM/YYYY",currencySymbol:"",upiId:"",razorpayKeyId:"",razorpaySecret:"",stripeKey:"",paymentMode:"Sandbox",taxEnabled:!1,taxRate:18,taxInclusive:!0,hsnCodes:"9983",invoicePrefix:"TN-2026-",companyAddress:"",digitalSignatureUrl:"",autoRenewal:!1,trialDays:7,gracePeriodDays:3,multiDeviceLimit:1,sessionTimeout:24,verifyEmailRequired:!1,ipBanList:[],smtpHost:"",smtpPort:587,smtpUser:"",smtpPass:"",smtpFromEmail:"noreply@typingnexus.in",smtpFromName:"TypingNexus",smsApiUrl:"",whatsappApiKey:"",emailTemplates:{welcome:"Welcome to TypingNexus! Let's start typing.",passwordReset:"Reset your password using the link below.",purchaseSuccess:"Thank you for your purchase!"},bulkDiscounts:[{minQty:5,discount:15},{minQty:20,discount:30}],contentDripEnabled:!1,expiryReminders:[1,3,7],homeBanners:[{id:"1",image:"https://images.unsplash.com/photo-1587620962725-abab7fe55159?q=80&w=1931&auto=format&fit=crop",link:"/practice-exams",active:!0},{id:"2",image:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?q=80&w=2070&auto=format&fit=crop",link:"/cpt/excel",active:!0}],legalPrivacy:"",legalTerms:"",legalRefund:"",googleAnalyticsId:"",facebookPixelId:"",customHeaderScripts:"",customFooterScripts:"",affiliateEnabled:!1,affiliateCommission:10,supportDepartments:["Technical","Billing","Sales"],supportAutoReply:"Thank you for contacting us. We'll get back to you soon.",escalationHours:24,autoBackupEnabled:!0,backupIntervalHours:24,autoLiveExamEnabled:!0,allowRegistrations:!0,primaryColor:"#2563eb",navLinks:[{label:"Home",href:"/",visible:!0},{label:"English Typing",href:"/practice/english",visible:!0,subLinks:[{label:"Typing Test",href:"/practice/english",visible:!0},{label:"Key Drilling",href:"/learn/english",visible:!0},{label:"Keyboard Drilling",href:"/keyboard/english",visible:!0}]},{label:"Hindi Typing",href:"/practice/hindi",visible:!0,subLinks:[{label:"Typing Test",href:"/practice/hindi",visible:!0},{label:"Key Drilling",href:"/learn/hindi",visible:!0},{label:"Keyboard Drilling",href:"/keyboard/hindi",visible:!0}]},{label:"Exam",href:"/practice-exams",visible:!0},{label:"Live Test",href:"/start-typing",visible:!0},{label:"CPT",href:"#",visible:!0,subLinks:[{label:"CPT Word",href:"/cpt/word",visible:!0},{label:"CPT Excel",href:"/cpt/excel",visible:!0}]},{label:"Pricing",href:"/pricing",visible:!0}],footerText:"TypingNexus - Your path to typing excellence",footerLinks:[{label:"About Us",href:"/about"},{label:"Contact",href:"/contact"},{label:"Privacy Policy",href:"/privacy"},{label:"Terms",href:"/terms"}],socialLinks:[{platform:"Facebook",url:"https://facebook.com",visible:!0},{platform:"Twitter",url:"https://twitter.com",visible:!0},{platform:"YouTube",url:"https://youtube.com",visible:!0}],showPracticeExams:!0,showTypingTutorial:!0,showKeyboardDrill:!0,showTypingTests:!0,showBlog:!0,showPricing:!0,showRSSBPack:!0,showGamification:!0,showLeaderboard:!0,version:15,heroTitle:"Welcome to TypingNexus",heroSubtitle:"Your ultimate platform for typing mastery.",heroCTAText:"Start Learning",heroCTALink:"/learn",featuredExamWidget:{visible:!1,title:"Featured Exam",examId:null,description:""},featuredItems:[],siteStats:{students:"0",testsTaken:"0",passRate:"0%",uptime:"100%"}},zx=[],Bx=[],Fx=[{id:"1",name:"Mahijeet",email:"admin@typingnexus.in",password:"Ramjiram@555999",plan:"Pro Yearly",role:"Super Admin",status:"Active",joined:new Date().toISOString().split("T")[0],authMethod:"Email"}],Hx=[],Vx=[],Wx=[],qx=[],Kx=[],Gx=[],Ci="ar_typing_admin_store_v2",$e=()=>{var s;let n=null;try{const l=localStorage.getItem(Ci);l&&(n=JSON.parse(l))}catch(l){console.error("Failed to load admin store",l)}const r={users:Fx,rules:Hx,categories:[],exams:Vx,examProfiles:If,contentLibrary:Rf,courses:[],payments:Kx,plans:[{id:"plan_1day",name:"1 Day Pass",durationMonths:0,price:9,currency:"INR",features:["Unlimited Practice Tests","All Exam Modules (Excel/Word)","Instant Result Analysis","Ad-free Experience","PDF Downloads"],isActive:!0,type:"Standard"},{id:"plan_7day",name:"7 Day Booster",durationMonths:0,price:29,currency:"INR",features:["Everything in 1 Day Pass","7 Days Validity","Priority Support","Daily Progress Tracking","Save up to 30%"],isActive:!0,type:"Standard"},{id:"plan_6month",name:"6 Month Saver",durationMonths:6,price:99,currency:"INR",features:["Same Price as 1 Month!","180 Days Validity","Full Access to All Tests","Priority Support","Best for Semester Exams"],isActive:!0,type:"Pro"},{id:"plan_yearly",name:"1 Year Premium",durationMonths:12,price:199,currency:"INR",features:["Everything in Monthly Pro","365 Days Validity","All Future Updates Included","Highest Priority Support","Save up to 80%"],isActive:!0,type:"Pro"}],coupons:[],transactions:[],supportTickets:[],announcements:[],ads:[],packages:Gx,blogs:Wx,settings:$x,results:zx,enquiries:Bx,invoices:[],notifications:qx,media:[],passages:[],certificateTemplates:[],certificateCriteria:{minWPM:35,minAccuracy:95,testType:"Any",enabled:!0},achievements:[],gamificationSettings:{xpPerTest:25,xpPerLesson:10,xpPerStreak:50,streakBonusMultiplier:1.5,leaderboardEnabled:!0,dailyChallengesEnabled:!0,levels:[{level:1,minXp:0,title:"Novice Typist",icon:""},{level:2,minXp:500,title:"Speedsters",icon:""},{level:3,minXp:1500,title:"Keyboard Warrior",icon:""},{level:4,minXp:3e3,title:"Typing Legend",icon:""},{level:5,minXp:5e3,title:"God Mode",icon:""}]},userProgress:[],cptTests:[...Mx,...Ux],comboPacks:[]};if(n){let l=n.users||r.users;l.length>0&&!l[0].password&&(console.log("Resetting users to include password field"),l=r.users);const c=r.settings.version||0,u=((s=n.settings)==null?void 0:s.version)||0;let h=n.settings||r.settings;u<c&&(console.log(`Migrating settings from v${u} to v${c}`),h={...r.settings,...n.settings,navLinks:r.settings.navLinks,heroTitle:r.settings.heroTitle,heroCTAText:r.settings.heroCTAText,heroCTALink:r.settings.heroCTALink});const p={...r,...n,users:l,rules:n.rules||r.rules,categories:n.categories||r.categories,exams:n.exams||r.exams,payments:n.payments||r.payments,cptTests:r.cptTests,comboPacks:n.comboPacks||r.comboPacks,plans:n.plans||r.plans,coupons:n.coupons||r.coupons,transactions:n.transactions||r.transactions,examProfiles:n.examProfiles&&n.examProfiles.length>0?n.examProfiles:r.examProfiles,contentLibrary:n.contentLibrary&&n.contentLibrary.length>0?n.contentLibrary:r.contentLibrary,courses:n.courses||r.courses,ads:n.ads||r.ads,packages:n.packages||r.packages,blogs:n.blogs||r.blogs,settings:h,results:n.results||r.results,enquiries:n.enquiries||r.enquiries,invoices:n.invoices||r.invoices,notifications:n.notifications||r.notifications,media:n.media||r.media,passages:n.passages||r.passages,certificateTemplates:n.certificateTemplates||r.certificateTemplates,certificateCriteria:n.certificateCriteria||r.certificateCriteria,achievements:n.achievements||r.achievements,gamificationSettings:n.gamificationSettings||r.gamificationSettings,userProgress:n.userProgress||r.userProgress};if(p.exams&&p.exams.length>0){const m=p.exams.filter(b=>b.content&&b.content.trim().length>0).map(b=>({id:-b.id,title:b.contentTitle||b.title,content:b.content,language:b.language||"English",difficulty:"Medium",category:b.title,wordCount:b.content.split(/\s+/).length,tags:["Exam Content"],status:"Active",createdDate:new Date().toISOString()})),v=new Set(p.passages.map(b=>b.id)),w=m.filter(b=>!v.has(b.id));p.passages=[...p.passages,...w]}const g=Date.now()-1440*60*1e3;return p.results=(p.results||[]).filter(m=>m.timestamp&&m.timestamp>g),p}return Te(r),r},Of=async()=>{try{const n=$e();let r=!1;const s=async h=>{try{const p=`https://typingnexus.in/data/${h}.json?t=${Date.now()}`,g=await fetch(p);if(g.ok)return await g.json()}catch(p){console.warn(`Failed to fetch ${h}:`,p)}return null},l=await s("settings");l&&(l.settings&&(n.settings={...n.settings,...l.settings}),l.categories&&(n.categories=l.categories),l.plans&&(n.plans=l.plans),r=!0);const c=await s("content");if(c&&(c.exams&&(n.exams=c.exams),c.rules&&(n.rules=c.rules),c.passages&&(n.passages=c.passages),c.examProfiles&&(n.examProfiles=c.examProfiles),c.contentLibrary&&(n.contentLibrary=c.contentLibrary),c.courses&&(n.courses=c.courses),c.cptTests&&(n.cptTests=c.cptTests),c.blogs&&(n.blogs=c.blogs),c.notifications&&(n.notifications=c.notifications),c.ads&&(n.ads=c.ads),c.coupons&&(n.coupons=c.coupons),c.invoices&&(n.invoices=c.invoices),r=!0),window.location.hostname.includes("admin")||window.location.hostname==="localhost"){const h=await s("users");h&&Array.isArray(h)&&(n.users=h,r=!0)}if(r){const h=localStorage.getItem(Ci);return localStorage.setItem(Ci,JSON.stringify(n)),window.dispatchEvent(new Event("adminStoreUpdate")),!0}}catch(n){console.error("Hostinger Sync Error:",n)}return!1},Mo=async(n,r)=>{try{const l=await fetch("https://typingnexus.in/api/save_data.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:n,data:r})});if(!l.ok)throw new Error(`API Error: ${l.status}`);return!0}catch(s){return console.error(`Failed to save ${n}:`,s),!1}},Te=async n=>(localStorage.setItem(Ci,JSON.stringify(n)),window.dispatchEvent(new Event("adminStoreUpdate")),await Mo("settings",{settings:n.settings,categories:n.categories,plans:n.plans}),await Mo("content",{exams:n.exams,rules:n.rules,passages:n.passages,examProfiles:n.examProfiles,contentLibrary:n.contentLibrary,courses:n.courses,cptTests:n.cptTests}),await Mo("users",n.users),!0),Lf=n=>{const r=$e();r.users=r.users.filter(s=>s.id.toString()===n.toString()),Te(r)},Df=n=>{const r=$e();r.users=r.users.map(s=>s.id.toString()===n.toString()?{...s,status:s.status==="Active"?"Inactive":"Active"}:s),Te(r)},Mf=(n,r)=>{const s=$e(),l=s.users.findIndex(c=>c.id.toString()===n.toString());return l===-1?null:(s.users[l]={...s.users[l],...r},Te(s),s.users[l])},Jx=async(n,r)=>{try{console.log(`Updating Supabase User ${n}:`,r);const s={};r.name&&(s.name=r.name),r.plan&&(s.plan=r.plan),r.role&&(s.role=r.role),r.status&&(s.status=r.status),r.purchasedPackIds&&(s.purchasedPackIds=r.purchasedPackIds);const{error:l}=await Ue.from("profiles").update(s).eq("id",n);return l?(console.error("Supabase Update Error:",l),!1):(Mf(n,r),!0)}catch(s){return console.error("Exception updating app user:",s),!1}},Qx=async n=>{const{error:r}=await Ue.auth.resetPasswordForEmail(n,{redirectTo:window.location.origin+"/login#reset=true"});return r?{success:!1,msg:r.message}:{success:!0,msg:`Password reset email sent to ${n}`}},Yx=async()=>{try{const{data:n,error:r}=await Ue.from("profiles").select("*").order("created_at",{ascending:!1});return r?(console.error("Error fetching app users:",r),[]):n.map(s=>({...s,joined:s.created_at||s.joined||new Date().toISOString(),plan:s.plan||"Free",role:s.role||"User",status:s.status||"Active",authMethod:s.authMethod||"Email",purchasedPackIds:s.purchasedPackIds||[]}))}catch(n){return console.error("Exception fetching app users:",n),[]}},Uf=n=>n?n.role==="Admin"||n.role==="Super Admin"?!0:n.plan.includes("Pro")||n.plan.includes("Premium"):!1,Uo=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_EXAM_PROFILE:Si,INITIAL_CONTENT_LIBRARY:Rf,INITIAL_EXAM_PROFILES:If,deleteUser:Lf,fetchAppUsers:Yx,getAdminStore:$e,hasProAccess:Uf,saveAdminStore:Te,sendPasswordReset:Qx,syncSettingsFromHost:Of,toggleUserStatus:Df,updateAppUser:Jx,updateUserProfile:Mf},Symbol.toStringTag,{value:"Module"})),$f=D.createContext(void 0),zf=typeof window<"u"?window.location.hash:"";console.log("Global Module High-Priority Hash Capture:",zf);const Xo=()=>{const n=D.useContext($f);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},Xx=({children:n})=>{var N;const[r,s]=D.useState(null),[l,c]=D.useState(!0),[u]=D.useState(()=>zf||window.location.hash);D.useEffect(()=>{let R=null;return(async()=>{try{const P=u;if(console.log("Captured Mount Hash:",P),P&&(P.includes("access_token=")||P.includes("id_token="))){console.log("Auth fragment detected in URL");const V=new URLSearchParams(P.substring(1).replace(/#/g,"")),q=V.get("access_token"),ne=V.get("refresh_token");if(console.log("Tokens found?",!!q,!!ne),q==="emergency-bypass"){console.log("Emergency Golden Ticket accepted! Granting Super Admin access..."),localStorage.setItem("tn_admin_bypass","true");const Z={id:"emergency-bypass-id",email:"mahijeet@typingnexus.in",name:"Mahijeet",role:"Super Admin",plan:"Premium",status:"Active",joined:new Date().toLocaleDateString()};s(Z),window.history.replaceState(null,"",window.location.pathname+window.location.search),c(!1);return}if(q){console.log("Injecting session from URL...");const{data:Z,error:be}=await Ue.auth.setSession({access_token:q,refresh_token:ne||""});if(be&&console.error("setSession Error:",be),!be&&Z.user){console.log("Session injected successfully for:",Z.user.email),window.history.replaceState(null,"",window.location.pathname+window.location.search),await h(Z.user.id,Z.user.email||""),c(!1);return}}}if(localStorage.getItem("tn_admin_bypass")==="true")s({id:"emergency-bypass-id",email:"mahijeet@typingnexus.in",name:"Mahijeet",role:"Super Admin",plan:"Premium",status:"Active",joined:new Date().toLocaleDateString()}),c(!1);else{const{data:{session:V}}=await Ue.auth.getSession();V!=null&&V.user&&await h(V.user.id,V.user.email||""),c(!1)}const{data:{subscription:M}}=Ue.auth.onAuthStateChange(async(V,q)=>{console.log("Auth State Change:",V),q!=null&&q.user?await h(q.user.id,q.user.email||""):V==="SIGNED_OUT"&&(s(null),localStorage.removeItem("tn_admin_bypass")),c(!1)});R=M}catch(P){console.error("Auth Init Error:",P),c(!1)}})(),()=>{R&&R.unsubscribe()}},[]),D.useEffect(()=>{if(!r||!r.id)return;const R=async()=>{try{await Ue.from("profiles").update({last_seen:new Date().toISOString()}).eq("id",r.id)}catch{}};R();const _=setInterval(R,120*1e3);return()=>clearInterval(_)},[r==null?void 0:r.id]);const h=async(R,_)=>{var P,M,V,q,ne;try{let Z=_||"",be="",Fe="";if(Z)console.log("Using passed email:",Z);else{const{data:{user:me}}=await Ue.auth.getUser();Z=(me==null?void 0:me.email)||"",Fe=(me==null?void 0:me.phone)||"",be=((P=me==null?void 0:me.user_metadata)==null?void 0:P.full_name)||"",console.log("Fetched user data:",{email:Z,phone:Fe,metaName:be})}const{data:ve,error:Se}=await Ue.from("profiles").select("*").eq("id",R).single(),Ae=(Z==null?void 0:Z.toLowerCase())==="mahijeet@typingnexus.in"||(Z==null?void 0:Z.toLowerCase().includes("mahijeet"))||((M=ve==null?void 0:ve.name)==null?void 0:M.toLowerCase())==="mahijeet"||((V=ve==null?void 0:ve.email)==null?void 0:V.toLowerCase())==="mahijeet@typingnexus.in"||be.toLowerCase()==="mahijeet"||Fe==="+919876543210"||R==="emergency-bypass-id";if(console.log("Is Mahijeet?",Ae,"UID:",R,"Email:",Z),Se||!ve){if(console.log("Profile missing or error:",Se==null?void 0:Se.message),Ae){console.log("Mahijeet detected! Granting immediate session access."),s({id:R,email:Z||"mahijeet@typingnexus.in",name:"Mahijeet",role:"Super Admin",plan:"Premium",status:"Active",joined:new Date().toLocaleDateString()}),Ue.from("profiles").insert([{id:R,email:Z||"mahijeet@typingnexus.in",name:"Mahijeet",role:"Super Admin",plan:"Premium",status:"Active",joined:new Date().toLocaleDateString()}]).then(({error:me})=>{me&&console.error("Silent profile creation error:",me)});return}if((Se==null?void 0:Se.code)==="PGRST116"||!ve){const me=new URLSearchParams(window.location.hash.substring(1)),{data:{user:G}}=await Ue.auth.getUser(),fe=((q=G==null?void 0:G.user_metadata)==null?void 0:q.full_name)||((ne=G==null?void 0:G.user_metadata)==null?void 0:ne.name)||(Z?Z.split("@")[0]:"User"),F={id:R,email:Z,name:fe,role:"User",plan:"Free",status:"Active",joined:new Date().toLocaleDateString(),last_seen:new Date().toISOString()},{error:W}=await Ue.from("profiles").upsert([F]);W&&console.error("Profile creation error:",W),s(F)}return}if(Ae&&ve.role!=="Super Admin"){console.log("Promoting Mahijeet profile...");const me={...ve,role:"Super Admin",plan:"Premium"};s(me),Ue.from("profiles").update({role:"Super Admin",plan:"Premium"}).eq("id",R).then(({error:G})=>{G&&console.error("Promotion DB error:",G)});return}s({...ve,joined:ve.joined||(ve.created_at?new Date(ve.created_at).toLocaleDateString():new Date().toLocaleDateString())})}catch(Z){console.error("fetchProfile Exception:",Z)}},p=async(R,_)=>{if((R.toLowerCase()==="mahijeet"||R.toLowerCase()==="mahijeet@typingnexus.in")&&_==="Ramjiram@555999"){localStorage.setItem("tn_admin_bypass","true");const V={id:"emergency-bypass-id",email:"mahijeet@typingnexus.in",name:"Mahijeet",role:"Super Admin",plan:"Premium",status:"Active",joined:new Date().toLocaleDateString()};return s(V),{success:!0}}const{data:P,error:M}=await Ue.auth.signInWithPassword({email:R,password:_});return M?{success:!1,error:M.message}:(P.user&&await h(P.user.id,P.user.email||""),{success:!0})},g=async(R,_,P)=>{const{data:M,error:V}=await Ue.auth.signUp({email:_,password:P,options:{data:{full_name:R}}});if(V)return{success:!1,error:V.message};if(M.user){const q=_.toLowerCase()==="mahijeet@typingnexus.in"||R.toLowerCase()==="mahijeet",{error:ne}=await Ue.from("profiles").insert([{id:M.user.id,name:R,email:_,role:q?"Super Admin":"User",status:"Active",plan:q?"Premium":"Free",joined:new Date().toLocaleDateString()}]);ne&&console.error("Error creating profile:",ne),await h(M.user.id,_)}return{success:!0}},m=async R=>{const{error:_}=await Ue.auth.resend({type:"signup",email:R});return _?{success:!1,error:_.message}:{success:!0}},v=async()=>{const{error:R}=await Ue.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/profile"}});return R?{success:!1,error:R.message}:{success:!0}},w=async R=>{const{error:_}=await Ue.auth.signInWithOtp({phone:R});return _?{success:!1,error:_.message}:{success:!0}},b=async(R,_)=>{const{data:P,error:M}=await Ue.auth.verifyOtp({phone:R,token:_,type:"sms"});return M?{success:!1,error:M.message}:(P.user&&await h(P.user.id,P.user.email||P.user.phone||""),{success:!0})},k=async()=>{localStorage.removeItem("tn_admin_bypass"),await Ue.auth.signOut(),s(null)},x=async R=>{if(!r)return!1;const{data:_,error:P}=await Ue.from("profiles").update(R).eq("id",r.id).select().single();return P?(console.error("Update profile error:",P),!1):_?(s({..._,joined:_.joined||(_.created_at?new Date(_.created_at).toLocaleDateString():new Date().toLocaleDateString())}),!0):!1},T={currentUser:r,isAuthenticated:!!r,isAdmin:(r==null?void 0:r.role)==="Admin"||(r==null?void 0:r.role)==="Super Admin"||(r==null?void 0:r.email)==="mahijeet@typingnexus.in"||((N=r==null?void 0:r.name)==null?void 0:N.toLowerCase())==="mahijeet",hasPremiumAccess:Uf(r),login:p,signup:g,logout:k,updateProfile:x,resendConfirmationEmail:m,signInWithGoogle:v,signInWithPhone:w,verifyPhoneOtp:b};return a.jsx($f.Provider,{value:T,children:!l&&n})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),X=(n,r)=>{const s=D.forwardRef(({color:l="currentColor",size:c=24,strokeWidth:u=2,absoluteStrokeWidth:h,className:p="",children:g,...m},v)=>D.createElement("svg",{ref:v,...Zx,width:c,height:c,stroke:l,strokeWidth:h?Number(u)*24/Number(c):u,className:["lucide",`lucide-${ev(n)}`,p].join(" "),...m},[...r.map(([w,b])=>D.createElement(w,b)),...Array.isArray(g)?g:[g]]));return s.displayName=`${n}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=X("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=X("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=X("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=X("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=X("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=X("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=X("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=X("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=X("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=X("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=X("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=X("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=X("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=X("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=X("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=X("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=X("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=X("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=X("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=X("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=X("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=X("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=X("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=X("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=X("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=X("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=X("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=X("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=X("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=X("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=X("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=X("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=X("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=X("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=X("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=X("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=X("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=X("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=X("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=X("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=X("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=X("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=X("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=X("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=X("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=X("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=X("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=X("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=X("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=X("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=X("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=X("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=X("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Cv=()=>{const{login:n,signup:r,isAdmin:s,isAuthenticated:l}=Xo(),c=cc(),[u,h]=D.useState(""),[p,g]=D.useState(""),[m,v]=D.useState(null),[w,b]=D.useState(!1),[k,x]=D.useState(!1),T=()=>{x(!k),v(null),k?h(""):(h("mahijeet@typingnexus.in"),g(""))},N=async P=>{P.preventDefault(),b(!0);try{const M="mahijeet@typingnexus.in",V=await r("Mahijeet",M,p);V.success?(alert("Admin account created successfully! Please log in now."),x(!1),h(M),g("")):(alert("Creation Failed: "+V.error),v(V.error||"Creation failed"))}catch(M){alert("Error: "+M.message),v(M.message)}b(!1)};D.useEffect(()=>{if(l&&s){const P=window.location.pathname.startsWith("/admin");c(P?"/admin":"/dashboard")}},[l,s,c]);const R=async P=>{P.preventDefault(),v(null),b(!0);let M=u;u.toLowerCase()==="mahijeet"&&(M="mahijeet@typingnexus.in");try{const q=await n(M,p);if(q.success){const Z=window.location.pathname.startsWith("/admin")?"/admin":"/dashboard";console.log("DEBUG [AdminLogin] Login Success, Navigating to:",Z),c(Z);return}if(!q.success){const ne=q.error||"Invalid credentials";v(ne),b(!1)}b(!1)}catch(q){alert("Login Exception: "+(q.message||String(q))),v("An unexpected error occurred. Please try again."),b(!1)}},{currentUser:_}=Xo();return Ms.useEffect(()=>{if(_&&!s&&w){const P=setTimeout(()=>{w&&(v("Login successful, but you do not have Admin permissions."),b(!1))},3e3);return()=>clearTimeout(P)}},[_,s,w]),a.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center font-sans relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-[500px] h-[500px] bg-brand-purple/20 blur-[120px] rounded-full pointer-events-none -translate-x-1/2 -translate-y-1/2"}),a.jsx("div",{className:"absolute bottom-0 right-0 w-[500px] h-[500px] bg-cyan-500/10 blur-[120px] rounded-full pointer-events-none translate-x-1/2 translate-y-1/2"}),a.jsxs("div",{className:"mb-8 relative z-10 flex flex-col items-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-900 border border-gray-800 text-white rounded-2xl flex items-center justify-center font-bold text-3xl shadow-[0_0_30px_rgba(168,85,247,0.3)] mb-4",children:"TN"}),a.jsxs("h1",{className:"font-display font-bold text-3xl tracking-tight text-white",children:["Secure",a.jsx("span",{className:"text-brand-purple",children:"Portal"})]}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Restricted Access  Authorized Personnel Only"})]}),a.jsxs("div",{className:"w-full max-w-[400px] bg-gray-900/60 backdrop-blur-xl p-8 border border-gray-800 rounded-2xl shadow-2xl relative z-10",children:[m&&a.jsxs("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg text-sm text-red-200 flex items-start gap-3",children:[a.jsx(bv,{size:18,className:"text-red-500 shrink-0 mt-0.5"}),a.jsx("span",{children:m})]}),k?a.jsxs("form",{onSubmit:N,className:"space-y-5 relative z-10",children:[a.jsxs("div",{className:"p-4 bg-blue-900/10 border border-blue-900/30 text-blue-200 text-xs rounded-xl mb-4 italic",children:[a.jsx("span",{className:"font-bold",children:"System Initialization:"})," Registering primary admin role for ",a.jsx("strong",{className:"text-blue-400",children:"mahijeet@typingnexus.in"}),"."]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Create Security Key"}),a.jsx("input",{type:"password",value:p,onChange:P=>g(P.target.value),className:"w-full px-4 py-3 bg-gray-950 border border-gray-800 rounded-xl text-sm text-white outline-none focus:border-brand-purple transition-all",placeholder:"Minimum 8 characters",required:!0,minLength:8})]}),a.jsxs("div",{className:"flex items-center justify-end gap-4 pt-2",children:[a.jsx("button",{type:"button",onClick:T,className:"text-xs text-gray-500 font-bold hover:text-white transition-colors",children:"ABORT"}),a.jsx("button",{type:"submit",disabled:w,className:"bg-green-600 hover:bg-green-500 text-white px-8 py-3 rounded-xl text-sm font-bold shadow-[0_0_20px_rgba(34,197,94,0.3)] transition-all disabled:opacity-50",children:w?"INITIALIZING...":"CREATE ADMIN"})]})]}):a.jsxs("form",{onSubmit:R,className:"space-y-6",noValidate:!0,autoComplete:"off",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Identity"}),a.jsxs("div",{className:"relative group",children:[a.jsx(_v,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-brand-purple transition-colors"}),a.jsx("input",{type:"text",name:"admin_username_field_no_autofill",value:u,onChange:P=>h(P.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-600 outline-none focus:border-brand-purple focus:ring-1 focus:ring-brand-purple transition-all text-sm font-medium",placeholder:"Username or Email",required:!0,autoComplete:"off"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Security Key"}),a.jsxs("div",{className:"relative group",children:[a.jsx(hv,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-brand-purple transition-colors"}),a.jsx("input",{type:"password",name:"admin_password_field_no_autofill",value:p,onChange:P=>g(P.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-600 outline-none focus:border-brand-purple focus:ring-1 focus:ring-brand-purple transition-all text-sm font-medium",placeholder:"Password",required:!0,autoComplete:"new-password"})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 border-gray-700 rounded bg-gray-800 text-brand-purple focus:ring-offset-gray-900"}),a.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300 transition-colors font-medium",children:"Remember Session"})]}),a.jsxs("button",{type:"button",onClick:T,className:"text-xs text-brand-purple font-bold hover:text-white transition-colors",children:["First Time? ",a.jsx("span",{className:"underline",children:"Setup Admin"})]})]}),a.jsx("button",{type:"submit",disabled:w,className:"w-full bg-gradient-to-r from-brand-purple to-purple-600 hover:from-purple-500 hover:to-purple-500 text-white py-3 rounded-lg text-sm font-bold shadow-[0_0_20px_rgba(168,85,247,0.4)] hover:shadow-[0_0_30px_rgba(168,85,247,0.6)] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:w?"Authenticating...":a.jsxs(a.Fragment,{children:["Access System ",a.jsx(Kh,{size:16})]})})]})]}),a.jsxs("div",{className:"mt-8 flex flex-col items-center gap-4 relative z-10",children:[a.jsxs("a",{href:"/",className:"text-xs font-bold text-gray-500 hover:text-brand-purple transition-colors flex items-center gap-2 px-4 py-2 rounded-full border border-transparent hover:border-gray-800 hover:bg-gray-900",children:[a.jsx(Kh,{size:12,className:"rotate-180"})," Return to Website"]}),a.jsx("p",{className:"text-[10px] text-gray-600 font-mono",children:"SECURED CONNECTION  v2.5.0 (Secure)"})]})]})},Ev="modulepreload",Tv=function(n){return"/"+n},Xh={},ji=function(r,s,l){let c=Promise.resolve();if(s&&s.length>0){let h=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));c=h(s.map(m=>{if(m=Tv(m),m in Xh)return;Xh[m]=!0;const v=m.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const b=document.createElement("link");if(b.rel=v?"stylesheet":Ev,v||(b.as="script"),b.crossOrigin="",b.href=m,g&&b.setAttribute("nonce",g),document.head.appendChild(b),v)return new Promise((k,x)=>{b.addEventListener("load",k),b.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return c.then(h=>{for(const p of h||[])p.status==="rejected"&&u(p.reason);return r().catch(u)})},Zf="tn_admin_logs",sc=()=>{try{const n=localStorage.getItem(Zf);return n?JSON.parse(n):[]}catch{return[]}},ep=n=>{try{const r=sc(),s={...n,id:Date.now().toString(),timestamp:new Date().toISOString()},l=[s,...r].slice(0,100);return localStorage.setItem(Zf,JSON.stringify(l)),s}catch(r){return console.error("Failed to save log",r),null}},Av=()=>{var b;const n=$e(),[r,s]=D.useState(n.cptTests),[l,c]=D.useState(null),[u,h]=D.useState("list"),p=()=>{if(!l)return;const k=l.id?r.map(x=>x.id===l.id?l:x):[...r,{...l,id:Date.now()}];n.cptTests=k,Te(n),s(k),c(null),h("list")},g=k=>{if(!window.confirm("Are you sure you want to delete this test?"))return;const x=r.filter(T=>T.id!==k);n.cptTests=x,Te(n),s(x)},m=()=>{c({id:0,title:"New Test",type:"Word",language:"Bilingual",tasks:[],questions:[],data:[],content:"",instructions:""}),h("edit")};return a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"CPT Test Manager"}),u==="list"&&a.jsxs("button",{onClick:m,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:[a.jsx(Gt,{size:18})," Add New Test"]})]}),u==="list"?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100 border-b",children:[a.jsx("th",{className:"p-3 font-semibold",children:"ID"}),a.jsx("th",{className:"p-3 font-semibold",children:"Title"}),a.jsx("th",{className:"p-3 font-semibold",children:"Type"}),a.jsx("th",{className:"p-3 font-semibold",children:"Questions/Tasks"}),a.jsx("th",{className:"p-3 font-semibold",children:"Actions"})]})}),a.jsxs("tbody",{children:[r.map(k=>{var x,T;return a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"p-3",children:k.id}),a.jsx("td",{className:"p-3 font-medium",children:k.title}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${k.type==="Excel"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:k.type})}),a.jsx("td",{className:"p-3",children:k.type==="Excel"?((x=k.tasks)==null?void 0:x.length)||0:((T=k.questions)==null?void 0:T.length)||0}),a.jsxs("td",{className:"p-3 flex gap-2",children:[a.jsx("button",{onClick:()=>{c(k),h("edit")},className:"text-blue-600 hover:text-blue-800",title:"Edit",children:a.jsx(gc,{size:18})}),a.jsx("button",{onClick:()=>g(k.id),className:"text-red-600 hover:text-red-800",title:"Delete",children:a.jsx(Lt,{size:18})})]})]},k.id)}),r.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-4 text-center text-gray-500",children:"No tests found. Create one!"})})]})]})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),a.jsx("input",{type:"text",value:l==null?void 0:l.title,onChange:k=>c(x=>x?{...x,title:k.target.value}:null),className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),a.jsxs("select",{value:l==null?void 0:l.type,onChange:k=>c(x=>x?{...x,type:k.target.value}:null),className:"mt-1 block w-full border border-gray-300 rounded-md p-2",children:[a.jsx("option",{value:"Word",children:"Word Formatting"}),a.jsx("option",{value:"Excel",children:"Excel Spreadsheet"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Instructions"}),a.jsx("textarea",{value:(l==null?void 0:l.instructions)||"",onChange:k=>c(x=>x?{...x,instructions:k.target.value}:null),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 h-20"})]}),(l==null?void 0:l.type)==="Word"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Content (HTML)"}),a.jsx("textarea",{value:(l==null?void 0:l.content)||"",onChange:k=>c(x=>x?{...x,content:k.target.value}:null),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 h-32 font-mono text-sm",placeholder:"<p>Enter document content here...</p>"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use HTML tags like <p>, <b>, <table> etc."})]}),(l==null?void 0:l.type)==="Excel"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Initial Data (JSON)"}),a.jsx("textarea",{value:JSON.stringify((l==null?void 0:l.data)||[],null,2),onChange:k=>{try{const x=JSON.parse(k.target.value);c(T=>T?{...T,data:x}:null)}catch{}},className:"mt-1 block w-full border border-gray-300 rounded-md p-2 h-32 font-mono text-sm"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Array of objects: ",'[{"id":1, "name":"Header", "val1":"Value"}]']})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:(l==null?void 0:l.type)==="Excel"?"Tasks":"Formatting Questions"}),a.jsx("button",{onClick:()=>{const k={id:Date.now(),text:"",textHi:"",marks:2};(l==null?void 0:l.type)==="Excel"?c(x=>x?{...x,tasks:[...x.tasks||[],k]}:null):c(x=>x?{...x,questions:[...x.questions||[],k]}:null)},className:"text-xs bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded",children:"+ Add Question"})]}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto border p-2 rounded bg-gray-50",children:(b=(l==null?void 0:l.type)==="Excel"?l.tasks:l==null?void 0:l.questions)==null?void 0:b.map((k,x)=>a.jsxs("div",{className:"bg-white p-2 rounded border flex gap-2 items-start",children:[a.jsxs("span",{className:"text-xs font-bold w-6 pt-2",children:[x+1,"."]}),a.jsxs("div",{className:"flex-grow space-y-1",children:[a.jsx("input",{placeholder:"Question English",value:k.text,onChange:T=>{const N={...k,text:T.target.value};v(x,N)},className:"w-full text-sm border rounded p-1"}),a.jsx("input",{placeholder:"Question Hindi (Optional)",value:k.textHi||"",onChange:T=>{const N={...k,textHi:T.target.value};v(x,N)},className:"w-full text-sm border rounded p-1 bg-orange-50"})]}),a.jsx("div",{className:"w-16",children:a.jsx("input",{type:"number",value:k.marks,onChange:T=>{const N={...k,marks:Number(T.target.value)};v(x,N)},className:"w-full text-sm border rounded p-1",placeholder:"Marks"})}),a.jsx("button",{onClick:()=>w(x),className:"text-red-500 hover:text-red-700 p-1",children:a.jsx(hr,{size:16})})]},x))})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx("button",{onClick:()=>h("list"),className:"px-4 py-2 border rounded text-gray-600 hover:bg-gray-100",children:"Cancel"}),a.jsxs("button",{onClick:p,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2",children:[a.jsx(Ys,{size:18})," Save Test"]})]})]})]});function v(k,x){c(T=>{if(!T)return null;const N=T.type==="Excel",R=N?[...T.tasks||[]]:[...T.questions||[]];return R[k]=x,N?{...T,tasks:R}:{...T,questions:R}})}function w(k){c(x=>{if(!x)return null;const T=x.type==="Excel",N=T?[...x.tasks||[]]:[...x.questions||[]];return N.splice(k,1),T?{...x,tasks:N}:{...x,questions:N}})}},Pv=()=>{var x,T;const[n,r]=D.useState($e()),[s,l]=D.useState("English"),[c,u]=D.useState(!1),[h,p]=D.useState(""),[g,m]=D.useState({title:"",text:"",language:"English",font:"Sans",difficulty:"Medium",tags:["Common"]}),v=()=>{r($e())},w=(n.contentLibrary||[]).filter(N=>N.language===s&&(N.title.toLowerCase().includes(h.toLowerCase())||N.text.substring(0,50).toLowerCase().includes(h.toLowerCase()))),b=()=>{if(!g.title||!g.text){alert("Title and Text are required!");return}const N={id:Date.now().toString(),title:g.title,text:g.text,language:s,font:s==="Hindi"?g.font||"Mangal":"Sans",difficulty:g.difficulty||"Medium",tags:g.tags||["Common"],uploadDate:new Date().toISOString()},R=[...n.contentLibrary||[],N];Te({...n,contentLibrary:R}),u(!1),m({title:"",text:"",language:s,font:s==="Hindi"?"Mangal":"Sans",difficulty:"Medium",tags:["Common"]}),v()},k=N=>{if(confirm("Are you sure you want to delete this content?")){const R=(n.contentLibrary||[]).filter(_=>_.id!==N);Te({...n,contentLibrary:R}),v()}};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold font-display text-white mb-1",children:"Centralized Content Library"}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["Manage typing paragraphs for ",s," exams."]})]}),a.jsxs("button",{onClick:()=>u(!0),className:"bg-brand-purple hover:bg-purple-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-lg shadow-purple-900/20",children:[a.jsx(Gt,{size:18})," Add New Content"]})]}),a.jsxs("div",{className:"flex p-1 bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-xl w-fit",children:[a.jsxs("button",{onClick:()=>l("English"),className:`px-6 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${s==="English"?"bg-gray-800 text-white shadow-sm":"text-gray-500 hover:text-gray-300"}`,children:[a.jsx(Ei,{size:16})," English Library"]}),a.jsxs("button",{onClick:()=>l("Hindi"),className:`px-6 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${s==="Hindi"?"bg-gray-800 text-white shadow-sm":"text-gray-500 hover:text-gray-300"}`,children:[a.jsx("span",{className:"font-mangal",children:""})," Library"]})]}),a.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl overflow-hidden backdrop-blur-sm",children:[a.jsxs("div",{className:"p-4 border-b border-gray-800 flex gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Qf,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:16}),a.jsx("input",{type:"text",placeholder:`Search ${s} content...`,value:h,onChange:N=>p(N.target.value),className:"w-full bg-gray-800 border-none rounded-lg pl-10 pr-4 py-2 text-sm text-gray-200 focus:ring-1 focus:ring-brand-purple placeholder:text-gray-600"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs font-bold uppercase tracking-wider px-3 bg-gray-800/50 rounded-lg border border-gray-800",children:[a.jsx(Ff,{size:14})," ",w.length," Items"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-gray-800/50 text-gray-400 font-bold uppercase text-[10px] tracking-widest",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3",children:"Title"}),a.jsx("th",{className:"px-6 py-3",children:"Preview"}),a.jsx("th",{className:"px-6 py-3",children:"Properties"}),a.jsx("th",{className:"px-6 py-3",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-800",children:w.length>0?w.map(N=>a.jsxs("tr",{className:"hover:bg-gray-800/30 transition-colors group",children:[a.jsxs("td",{className:"px-6 py-4 font-bold text-gray-200",children:[N.title,a.jsx("div",{className:"flex gap-1 mt-1",children:N.tags.map(R=>a.jsx("span",{className:"px-1.5 py-0.5 bg-gray-800 text-[10px] text-gray-500 rounded border border-gray-700",children:R},R))})]}),a.jsxs("td",{className:"px-6 py-4 text-gray-400 max-w-xs truncate font-mono text-xs opacity-70",children:[N.text.substring(0,50),"..."]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-800 w-fit rounded border border-gray-700 text-gray-400",children:N.font}),a.jsx("span",{className:`text-xs px-2 py-0.5 w-fit rounded border ${N.difficulty==="Hard"?"bg-red-900/20 text-red-500 border-red-900/30":N.difficulty==="Medium"?"bg-yellow-900/20 text-yellow-500 border-yellow-900/30":"bg-green-900/20 text-green-500 border-green-900/30"}`,children:N.difficulty})]})}),a.jsx("td",{className:"px-6 py-4 text-gray-500 text-xs",children:new Date(N.uploadDate).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("button",{onClick:()=>k(N.id),className:"p-2 hover:bg-red-900/20 text-gray-500 hover:text-red-400 rounded-lg transition-colors",children:a.jsx(Lt,{size:16})})})]},N.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:'No content found. Click "Add New Content" to create one.'})})})]})})]}),c&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-[#0f0f13] border border-gray-800 rounded-xl w-full max-w-2xl shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-800 bg-gray-900/50",children:[a.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(Ks,{className:"text-brand-purple",size:20}),"Add ",s," Content"]}),a.jsx("button",{onClick:()=>u(!1),className:"text-gray-500 hover:text-white transition-colors",children:a.jsx(hr,{size:20})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Title"}),a.jsx("input",{className:"w-full bg-gray-900 border border-gray-800 rounded-lg px-4 py-2.5 text-gray-200 focus:border-brand-purple focus:ring-1 focus:ring-brand-purple outline-none transition-all placeholder:text-gray-600",placeholder:"e.g. Gandhi Jayanti Speech",value:g.title,onChange:N=>m({...g,title:N.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Font"}),a.jsxs("select",{className:"w-full bg-gray-900 border border-gray-800 rounded-lg px-4 py-2.5 text-gray-200 outline-none focus:border-brand-purple",value:g.font,onChange:N=>m({...g,font:N.target.value}),disabled:s==="English",children:[a.jsx("option",{value:"Sans",children:"Sans Serif (English)"}),a.jsx("option",{value:"Mangal",children:"Mangal (Remington/Inscript)"}),a.jsx("option",{value:"KrutiDev",children:"KrutiDev 10"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Difficulty"}),a.jsxs("select",{className:"w-full bg-gray-900 border border-gray-800 rounded-lg px-4 py-2.5 text-gray-200 outline-none focus:border-brand-purple",value:g.difficulty,onChange:N=>m({...g,difficulty:N.target.value}),children:[a.jsx("option",{value:"Easy",children:"Easy"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"Hard",children:"Hard"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Paragraph Content"}),a.jsx("textarea",{className:`w-full bg-gray-900 border border-gray-800 rounded-lg px-4 py-3 text-gray-200 focus:border-brand-purple focus:ring-1 focus:ring-brand-purple outline-none transition-all min-h-[200px] placeholder:text-gray-600 ${s==="Hindi"&&g.font==="Mangal"?"font-mangal":"font-mono"}`,placeholder:"Paste your paragraph text here...",value:g.text,onChange:N=>m({...g,text:N.target.value})}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1 text-right",children:[((x=g.text)==null?void 0:x.length)||0," characters | ",((T=g.text)==null?void 0:T.split(/\s+/).length)||0," words"]})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-800 bg-gray-900/30 flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-5 py-2.5 rounded-lg text-gray-400 font-bold hover:text-white hover:bg-gray-800 transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:b,className:"px-6 py-2.5 rounded-lg bg-brand-purple text-white font-bold hover:bg-purple-600 transition-all shadow-[0_0_20px_rgba(168,85,247,0.3)] hover:shadow-[0_0_25px_rgba(168,85,247,0.5)] flex items-center gap-2",children:[a.jsx(Ys,{size:18})," Save Content"]})]})]})})]})},qe=({label:n,value:r,options:s,onChange:l})=>a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 ml-1",children:n}),a.jsxs("div",{className:"relative group",children:[a.jsx("select",{value:r,onChange:c=>l(c.target.value),className:"w-full bg-gray-900/50 border border-gray-800 text-gray-200 rounded-xl px-4 py-3 appearance-none focus:outline-none focus:ring-2 focus:ring-brand-purple/20 focus:border-brand-purple transition-all text-sm cursor-pointer hover:bg-gray-800/50 group-hover:border-gray-700",children:s.map(c=>a.jsx("option",{value:c.value,className:"bg-gray-900 text-gray-200",children:c.label},c.value))}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-gray-500 group-hover:text-brand-purple transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),dt=({label:n,value:r,onChange:s,min:l,max:c,step:u})=>a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 ml-1",children:n}),a.jsx("input",{type:"number",value:r,onChange:h=>s(Number(h.target.value)),min:l,max:c,step:u,className:"w-full bg-gray-900/50 border border-gray-800 text-gray-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-purple/20 focus:border-brand-purple transition-all text-sm hover:bg-gray-800/50"})]}),Or=({title:n,children:r})=>a.jsxs("section",{className:"mt-12 mb-8 p-6 bg-gray-950/50 border border-gray-800 rounded-2xl relative overflow-hidden group hover:border-brand-purple/50 transition-all duration-300",children:[a.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-brand-purple/20 group-hover:bg-brand-purple transition-all duration-300"}),a.jsxs("h2",{className:"text-xl font-display font-bold text-white mb-6 flex items-center gap-3",children:[a.jsx("span",{className:"text-brand-purple font-mono opacity-50",children:"#"}),n]}),a.jsx("div",{className:"space-y-4",children:r})]}),Zh={profileName:"",description:"",calculationParam:"net_wpm",wordCalculation:"5char",minEligibilityType:"none",languageMode:"fixed",hindiFont:"none",hindiComplexity:"standard",allowAltCodes:!1,hindiStenoAvailable:!1,errorClassification:"simple",ignoredErrorLimit:0,penaltyMultiplier:0,penaltyMethod:"none",finalScoreCalc:"direct",scoreDisplay:"2dec",showAccuracy:!0,stenoEnabled:!1,durationMin:10,practiceSession:"none",breakDurationSec:0,backspaceEnabled:!0,arrowKeysEnabled:!0,highlight:"word",showFingerPosition:!1,showOnscreenKeyboard:!1,liveErrors:!0,showSpeedDuringTest:!1,minKeystrokes:0,categoryWiseEnabled:!1,scribeAllowed:!1,examType:"recruitment",resultDisplay:"detailed"},Rv=({initialProfile:n,onSave:r,onCancel:s})=>{var w,b,k;const[l,c]=D.useState(n||Zh),u=(x,T)=>{c(N=>({...N,[x]:T}))},h=(x,T,N)=>{c(R=>{const _=R[x]||[],P=N?[..._,T]:_.filter(M=>M!==T);return{...R,[x]:P}})},p=()=>{const x={category:"UR"};c(T=>({...T,categoryRules:[...T.categoryRules||[],x]}))},g=(x,T,N)=>{c(R=>{const _=[...R.categoryRules||[]];return _[x]={..._[x],[T]:N},{...R,categoryRules:_}})},m=x=>{var R;const T=(R=x.target.files)==null?void 0:R[0];if(!T)return;const N=new FileReader;N.onload=_=>{var P;try{const M=JSON.parse((P=_.target)==null?void 0:P.result);M.profileName||M.calculationParam?c({...Zh,...M}):alert("Invalid JSON format for Exam Profile.")}catch{alert("Error parsing JSON file.")}},N.readAsText(T)},v=x=>{c(T=>({...T,categoryRules:(T.categoryRules||[]).filter((N,R)=>R!==x)}))};return a.jsxs("div",{className:"max-w-4xl mx-auto pb-20 mt-10 px-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-display font-bold text-white tracking-tight flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-brand-purple/20 rounded-lg",children:a.jsx(pc,{className:"text-brand-purple",size:24})}),"Configure ",a.jsx("span",{className:"text-brand-purple",children:"Exam Profile"})]}),a.jsx("p",{className:"text-gray-500 text-sm mt-2 ml-14",children:"Define specialized rules for calculation, penalties, and interface controls."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("label",{className:"flex items-center gap-2 px-5 py-2.5 bg-cyan-900/20 border border-cyan-800/50 text-cyan-400 hover:bg-cyan-900/40 rounded-xl font-bold transition-all cursor-pointer",children:[a.jsx(wi,{size:18})," Import JSON",a.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:m})]}),a.jsxs("button",{type:"button",onClick:s,className:"flex items-center gap-2 px-5 py-2.5 bg-gray-900/50 border border-gray-800 text-gray-400 hover:text-white hover:bg-gray-800 rounded-xl font-bold transition-all",children:[a.jsx(hr,{size:18})," Cancel"]}),a.jsxs("button",{type:"button",onClick:()=>r(l),className:"flex items-center gap-2 px-6 py-2.5 bg-brand-purple hover:bg-purple-600 text-white rounded-xl font-bold shadow-[0_0_20px_rgba(168,85,247,0.3)] transition-all transform hover:scale-105",children:[a.jsx(Ys,{size:18})," Save Profile"]})]})]}),a.jsxs("form",{onSubmit:x=>x.preventDefault(),className:"space-y-0 text-left",children:[a.jsx(Or,{title:"Basic Identity",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 ml-1",children:"Profile Name"}),a.jsx("input",{type:"text",placeholder:"e.g., SSC CGL Typing Rule",value:l.profileName,onChange:x=>u("profileName",x.target.value),className:"w-full bg-gray-900/50 border border-gray-800 text-gray-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-purple/20 focus:border-brand-purple transition-all text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 ml-1",children:"Internal Description"}),a.jsx("textarea",{placeholder:"Mention specific exam department rules here...",value:l.description,onChange:x=>u("description",x.target.value),className:"w-full bg-gray-900/50 border border-gray-800 text-gray-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-purple/20 focus:border-brand-purple transition-all text-sm h-24"})]})]})}),a.jsxs(Or,{title:"1. PRIMARY MODE",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(qe,{label:"Calculation Parameter",value:l.calculationParam,options:[{value:"net_wpm",label:"Net WPM"},{value:"gross_kdph",label:"Gross KDPH"},{value:"gross_kph",label:"Gross KPH"}],onChange:x=>u("calculationParam",x)}),a.jsx(qe,{label:"Word Calculation Method",value:l.wordCalculation,options:[{value:"5char",label:"5 Characters = 1 Word"},{value:"actual",label:"Actual Word Count"}],onChange:x=>u("wordCalculation",x)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(qe,{label:"Minimum Eligibility",value:l.minEligibilityType,options:[{value:"none",label:"None"},{value:"fixed_wpm",label:"Fixed WPM"},{value:"fixed_kdph",label:"Fixed KDPH"}],onChange:x=>u("minEligibilityType",x)}),l.minEligibilityType!=="none"&&a.jsx(dt,{label:`Target ${l.minEligibilityType==="fixed_wpm"?"WPM":"KDPH"}`,value:l.minEligibilityValue||0,onChange:x=>u("minEligibilityValue",x)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(dt,{label:"Min. Keystrokes (incl. spaces)",value:l.minKeystrokes||0,onChange:x=>u("minKeystrokes",x)}),a.jsx("div",{className:"flex items-end",children:a.jsx("p",{className:"text-[10px] text-gray-500 pb-2",children:"If user types fewer keystrokes than this, they are automatically disqualified. Set 0 to disable."})})]}),a.jsxs("div",{className:"border-t border-gray-800/50 pt-4 mt-2",children:[a.jsx(qe,{label:"Language Selection Mode",value:l.languageMode,options:[{value:"fixed",label:"Fixed Language"},{value:"candidate",label:"Candidate's Choice"},{value:"default_with_change",label:"Default with Option to Change"}],onChange:x=>u("languageMode",x)}),l.languageMode==="fixed"&&a.jsx(qe,{label:"Fixed Language",value:l.fixedLanguage||"en",options:[{value:"en",label:"English"},{value:"hi",label:"Hindi"},{value:"both",label:"Both"}],onChange:x=>u("fixedLanguage",x)}),l.languageMode==="candidate"&&a.jsxs("div",{className:"mb-4 bg-gray-900/40 p-4 rounded-xl border border-gray-800",children:[a.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Allowed Languages"}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-800 bg-gray-950 text-brand-purple focus:ring-brand-purple/20",checked:(w=l.allowedLanguages)==null?void 0:w.includes("en"),onChange:x=>h("allowedLanguages","en",x.target.checked)}),a.jsx("span",{className:"text-gray-300 group-hover:text-white transition-colors",children:"English"})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-800 bg-gray-950 text-brand-purple focus:ring-brand-purple/20",checked:(b=l.allowedLanguages)==null?void 0:b.includes("hi"),onChange:x=>h("allowedLanguages","hi",x.target.checked)}),a.jsx("span",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Hindi"})]})]})]}),l.languageMode==="default_with_change"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[a.jsx(qe,{label:"Default Language",value:l.defaultLanguage||"en",options:[{value:"en",label:"English"},{value:"hi",label:"Hindi"}],onChange:x=>u("defaultLanguage",x)}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer mb-6 group",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-800 bg-gray-950 text-brand-purple focus:ring-brand-purple/20",checked:l.allowLanguageChange,onChange:x=>u("allowLanguageChange",x.target.checked)}),a.jsx("span",{className:"text-sm font-bold text-gray-400 group-hover:text-white transition-colors",children:"Allow Candidate to Change"})]})]})]})]}),(l.languageMode!=="fixed"||l.fixedLanguage!=="en")&&a.jsxs(Or,{title:"2. HINDI TYPING CONFIGURATION",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(qe,{label:"Hindi Font Type",value:l.hindiFont,options:[{value:"mangal",label:"Mangal (Unicode)"},{value:"krutidev",label:"Krutidev"},{value:"devlys",label:"Devlys"},{value:"arial",label:"Arial Unicode MS"},{value:"agra",label:"Agra"},{value:"none",label:"None"}],onChange:x=>u("hindiFont",x)}),l.hindiFont!=="none"&&a.jsx(qe,{label:"Keyboard Layout",value:l.hindiKeyboardLayout||"remington_gail",options:[{value:"remington_gail",label:"Remington Gail"},{value:"inscript",label:"Inscript"},{value:"remington_cbi",label:"Remington CBI"},{value:"typewriter",label:"Typewriter"}],onChange:x=>u("hindiKeyboardLayout",x)})]}),l.hindiFont!=="none"&&a.jsxs(a.Fragment,{children:[a.jsx(qe,{label:"Hindi Complexity Level",value:l.hindiComplexity,options:[{value:"basic",label:"Basic"},{value:"standard",label:"Standard"},{value:"advanced",label:"Advanced"}],onChange:x=>u("hindiComplexity",x)}),a.jsxs("div",{className:"flex flex-wrap gap-6 mt-2",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-800 bg-gray-950 text-brand-purple focus:ring-brand-purple/20",checked:l.allowAltCodes,onChange:x=>u("allowAltCodes",x.target.checked)}),a.jsx("span",{className:"text-sm font-bold text-gray-400 group-hover:text-white transition-colors",children:"Allow Alt Codes"})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-800 bg-gray-950 text-brand-purple focus:ring-brand-purple/20",checked:l.hindiStenoAvailable,onChange:x=>u("hindiStenoAvailable",x.target.checked)}),a.jsx("span",{className:"text-sm font-bold text-gray-400 group-hover:text-white transition-colors",children:"Shorthand (Steno) Available"})]})]})]})]}),a.jsxs(Or,{title:"3. ERROR & PENALTY ENGINE",children:[a.jsx(qe,{label:"Error Classification",value:l.errorClassification,options:[{value:"simple",label:"Simple Mistake"},{value:"ssc_aiims",label:"SSC/AIIMS Style (Full & Half)"},{value:"advanced",label:"Advanced Mixed Mode"}],onChange:x=>u("errorClassification",x)}),l.errorClassification==="ssc_aiims"&&a.jsxs("div",{className:"mb-6 bg-gray-900/40 p-5 rounded-xl border border-gray-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 text-brand-purple",children:[a.jsx(an,{size:16}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Half Mistake Definitions"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:["spacing","capitalization","punctuation","matra","conjunct","indent"].map(x=>{var T;return a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group p-2 bg-gray-950/50 rounded-lg hover:bg-gray-800/30 transition-colors border border-transparent hover:border-gray-800",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-800 bg-gray-950 text-brand-purple focus:ring-brand-purple/20",checked:(T=l.halfMistakeRules)==null?void 0:T.includes(x),onChange:N=>h("halfMistakeRules",x,N.target.checked)}),a.jsxs("span",{className:"text-xs text-gray-400 group-hover:text-gray-200 uppercase tracking-tight font-bold",children:[x==="spacing"&&"Spacing",x==="capitalization"&&"Caps/Case",x==="punctuation"&&"Punctuation",x==="matra"&&"Matras",x==="conjunct"&&"Conjuncts",x==="indent"&&"Indentation"]})]},x)})})]}),a.jsxs("div",{className:"bg-brand-purple/5 p-4 rounded-xl border border-brand-purple/10 flex items-start gap-3",children:[a.jsx(ov,{className:"text-brand-purple mt-0.5",size:18}),a.jsxs("div",{children:[a.jsx(dt,{label:"Ignored Error Limit (%)",value:l.ignoredErrorLimit,onChange:x=>u("ignoredErrorLimit",x),min:0,max:100,step:.1}),a.jsx("p",{className:"text-[10px] text-gray-500 italic",children:"Errors within this percentage of total words typed will not result in a penalty."})]})]})]}),a.jsxs(Or,{title:"4. PENALTY & SCORING RULES",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(qe,{label:"Penalty Application",value:l.penaltyMethod,options:[{value:"none",label:"No Speed Penalty"},{value:"per_mistake",label:"Per Mistake Deduction"},{value:"per_full_mistake",label:"Per Full Mistake"},{value:"penalty_factor",label:"Penalty Factor (e.g., 5x, 10x)"}],onChange:x=>u("penaltyMethod",x)}),l.penaltyMethod!=="none"&&a.jsx(dt,{label:l.penaltyMethod==="penalty_factor"?"Factor Value":"Deduction Value",value:l.deductionValue||0,onChange:x=>u("deductionValue",x)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-800/50 pt-4 mt-2",children:[a.jsx(qe,{label:"Final Score Calculation",value:l.finalScoreCalc,options:[{value:"direct",label:"Direct Deduction"},{value:"penalty_factor",label:"Penalty Factor"},{value:"qualifying",label:"Qualifying (Pass/Fail)"},{value:"marks",label:"Marks-based (0-100)"}],onChange:x=>u("finalScoreCalc",x)}),a.jsx(qe,{label:"Decimal Display",value:l.scoreDisplay,options:[{value:"whole",label:"Whole No."},{value:"1dec",label:"1 Decimal"},{value:"2dec",label:"2 Decimals"}],onChange:x=>u("scoreDisplay",x)})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group mt-4",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-800 bg-gray-950 text-brand-purple focus:ring-brand-purple/20",checked:l.showAccuracy,onChange:x=>u("showAccuracy",x.target.checked)}),a.jsx("span",{className:"text-sm font-bold text-gray-400 group-hover:text-white transition-colors text-left",children:"Show Accuracy Percentage on Result"})]})]}),a.jsxs(Or,{title:"5. STENO TEST CONFIGURATION",children:[a.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group mb-6",children:[a.jsx("input",{type:"checkbox",id:"stenoEnable",className:"w-6 h-6 rounded border-gray-800 bg-gray-950 text-brand-purple focus:ring-brand-purple/20",checked:l.stenoEnabled,onChange:x=>u("stenoEnabled",x.target.checked)}),a.jsx("label",{htmlFor:"stenoEnable",className:"text-lg font-bold text-gray-200",children:"Enable Specialized Shorthand Logic"})]}),l.stenoEnabled&&a.jsxs("div",{className:"bg-gray-900/40 p-6 rounded-2xl border border-gray-800 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(qe,{label:"Steno Test Type",value:l.stenoType||"qualifying",options:[{value:"qualifying",label:"Qualifying"},{value:"marks",label:"Marks-based"}],onChange:x=>u("stenoType",x)}),a.jsx(qe,{label:"Dictation Lang",value:l.stenoLanguage||"en",options:[{value:"en",label:"English"},{value:"hi",label:"Hindi"},{value:"both",label:"Both"}],onChange:x=>u("stenoLanguage",x)})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsx(dt,{label:"Speed (WPM)",value:l.stenoSpeed||0,onChange:x=>u("stenoSpeed",x)}),a.jsx(dt,{label:"Dictation (Min)",value:l.stenoDictationMin||0,onChange:x=>u("stenoDictationMin",x)}),a.jsx(dt,{label:"Transcription (Min)",value:l.stenoTranscriptionMin||0,onChange:x=>u("stenoTranscriptionMin",x)})]}),a.jsxs("div",{className:"flex flex-wrap gap-6 border-t border-gray-800 pt-6",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-800 bg-gray-950 text-brand-purple focus:ring-brand-purple/20",checked:l.stenoBackspaceAllowed??!0,onChange:x=>u("stenoBackspaceAllowed",x.target.checked)}),a.jsx("span",{className:"text-xs font-bold text-gray-400 group-hover:text-white tracking-widest uppercase",children:"Allow Backspace"})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-800 bg-gray-950 text-brand-purple focus:ring-brand-purple/20",checked:l.stenoSpellcheckAllowed??!1,onChange:x=>u("stenoSpellcheckAllowed",x.target.checked)}),a.jsx("span",{className:"text-xs font-bold text-gray-400 group-hover:text-white tracking-widest uppercase",children:"Spellcheck"})]})]}),a.jsx(dt,{label:"Error Limit (%) for Qualification",value:l.stenoErrorLimit||0,onChange:x=>u("stenoErrorLimit",x),min:0,max:100,step:.1})]})]}),a.jsxs(Or,{title:"6. INTERFACE & DURATION",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(dt,{label:"Test Duration (Minutes)",value:l.durationMin,onChange:x=>u("durationMin",x),min:1}),a.jsx(dt,{label:"Break After Session (Seconds)",value:l.breakDurationSec,onChange:x=>u("breakDurationSec",x),min:0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-800/50 pt-4 mt-2",children:[a.jsx(qe,{label:"Practice Session Behavior",value:l.practiceSession,options:[{value:"none",label:"Skip Practice"},{value:"timer",label:"Timed Practice (Mandatory)"}],onChange:x=>u("practiceSession",x)}),l.practiceSession==="timer"&&a.jsx(dt,{label:"Practice Time (Min)",value:l.practiceDurationMin||1,onChange:x=>u("practiceDurationMin",x),min:1})]}),a.jsxs("div",{className:"bg-gray-900/30 p-5 rounded-2xl border border-gray-800/50 space-y-4",children:[a.jsx("h4",{className:"text-[10px] font-black text-brand-purple uppercase tracking-[0.2em] mb-4",children:"Functional Restrictions"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(Zr,{label:"Allow Backspace",checked:l.backspaceEnabled,onChange:x=>u("backspaceEnabled",x)}),a.jsx(Zr,{label:"Allow Arrow Keys",checked:l.arrowKeysEnabled,onChange:x=>u("arrowKeysEnabled",x)}),a.jsx(Zr,{label:"Live Error Indication",checked:l.liveErrors,onChange:x=>u("liveErrors",x)}),a.jsx(Zr,{label:"Show Speed Calculator",checked:l.showSpeedDuringTest,onChange:x=>u("showSpeedDuringTest",x)}),a.jsx(Zr,{label:"Show Keyboard Legend",checked:l.showOnscreenKeyboard,onChange:x=>u("showOnscreenKeyboard",x)}),a.jsx(Zr,{label:"Show Finger Guide",checked:l.showFingerPosition,onChange:x=>u("showFingerPosition",x)})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-800/50",children:a.jsx(qe,{label:"Word/Char Highlighting",value:l.highlight,options:[{value:"word",label:"Active Word"},{value:"character",label:"Active Character"},{value:"none",label:"No Highlighting (Blind)"}],onChange:x=>u("highlight",x)})})]})]}),a.jsxs(Or,{title:"7. ADVANCED & CATEGORY RULES",children:[a.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group mb-6",children:[a.jsx("input",{type:"checkbox",id:"catEnable",className:"w-6 h-6 rounded border-gray-800 bg-gray-950 text-brand-purple focus:ring-brand-purple/20",checked:l.categoryWiseEnabled,onChange:x=>u("categoryWiseEnabled",x.target.checked)}),a.jsx("label",{htmlFor:"catEnable",className:"text-lg font-bold text-gray-200",children:"Enable Category-wise Eligibility"})]}),l.categoryWiseEnabled&&a.jsxs("div",{className:"space-y-4 mb-8",children:[a.jsxs("button",{type:"button",onClick:p,className:"w-full py-3 bg-brand-purple/10 border-2 border-dashed border-brand-purple/30 text-brand-purple rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-brand-purple/20 transition-all mb-4",children:[a.jsx(Gt,{size:18})," Add New Category Exemption"]}),(k=l.categoryRules)==null?void 0:k.map((x,T)=>a.jsxs("div",{className:"bg-gray-900/60 p-6 rounded-2xl border border-gray-800 group/item relative animate-in slide-in-from-right-4",children:[a.jsx("button",{type:"button",onClick:()=>v(T),className:"absolute top-4 right-4 p-2 text-gray-600 hover:text-red-500 transition-colors",children:a.jsx(Lt,{size:18})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(qe,{label:"Candidate Category",value:x.category,options:[{value:"UR",label:"Unreserved (UR)"},{value:"SC",label:"SC"},{value:"ST",label:"ST"},{value:"OBC",label:"OBC"},{value:"EWS",label:"EWS"},{value:"PwD",label:"PwD"}],onChange:N=>g(T,"category",N)}),a.jsx(dt,{label:"Custom Target Speed",value:x.minEligibility||0,onChange:N=>g(T,"minEligibility",N)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[a.jsx(dt,{label:"Allowed Error %",value:x.ignoredErrorLimit||0,onChange:N=>g(T,"ignoredErrorLimit",N),min:0,max:100,step:.1}),a.jsx(dt,{label:"Extra Time (Min)",value:x.extraTimeMin||0,onChange:N=>g(T,"extraTimeMin",N)})]})]},T))]}),a.jsxs("div",{className:"bg-gray-900/40 p-5 rounded-2xl border border-gray-800 grid grid-cols-1 md:grid-cols-2 gap-6 items-end",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(Zr,{label:"Scribe/Assistant Allowed",checked:l.scribeAllowed,onChange:x=>u("scribeAllowed",x)}),l.scribeAllowed&&a.jsx(dt,{label:"Extra Time for Scribe (Min)",value:l.scribeExtraMin||0,onChange:x=>u("scribeExtraMin",x)})]}),a.jsx(qe,{label:"Exam Domain",value:l.examType,options:[{value:"recruitment",label:"Fresh Recruitment"},{value:"departmental",label:"Internal Exam"},{value:"promotion",label:"Promotion Basis"},{value:"practice",label:"Practice/Dummy"}],onChange:x=>u("examType",x)})]}),a.jsx("div",{className:"mt-8",children:a.jsx(qe,{label:"Final Result Presentation",value:l.resultDisplay,options:[{value:"detailed",label:"Full Breakdown Dashboard"},{value:"pass_fail",label:"Qualification Status Only"},{value:"score",label:"Marks/Score Only"}],onChange:x=>u("resultDisplay",x)})})]}),a.jsxs("div",{className:"sticky bottom-8 left-0 right-0 bg-gray-900/80 backdrop-blur-md border border-gray-800 p-4 rounded-2xl shadow-2xl flex justify-center gap-4 animate-in slide-in-from-bottom-8",children:[a.jsx("button",{type:"button",onClick:s,className:"px-8 py-3 bg-gray-800 hover:bg-gray-700 text-gray-300 rounded-xl font-bold transition-all shadow-lg",children:"Reset Settings"}),a.jsx("button",{type:"button",onClick:()=>r(l),className:"px-12 py-3 bg-brand-purple hover:bg-purple-600 text-white rounded-xl font-bold shadow-[0_0_30px_rgba(168,85,247,0.4)] transition-all transform hover:scale-105",children:"Save & Publish Profile"})]})]})]})},Zr=({label:n,checked:r,onChange:s})=>a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group p-3 bg-gray-900/50 rounded-xl border border-transparent hover:border-gray-800 transition-all",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-800 bg-gray-950 text-brand-purple focus:ring-brand-purple/20",checked:r,onChange:l=>s(l.target.checked)}),a.jsx("span",{className:"text-sm font-bold text-gray-400 group-hover:text-gray-200 transition-colors uppercase tracking-tight",children:n})]}),Iv=()=>{const[n,r]=D.useState($e()),[s,l]=D.useState(n.examProfiles||[]),[c,u]=D.useState(!1),[h,p]=D.useState(void 0),[g,m]=D.useState(!1),[v,w]=D.useState("bulk"),[b,k]=D.useState(null),[x,T]=D.useState([]),[N,R]=D.useState([]),[_,P]=D.useState(!1),[M,V]=D.useState(null),[q,ne]=D.useState(null),Z=()=>{const G=$e();r(G),l(G.examProfiles||[])},be=G=>{p(G),u(!0)},Fe=G=>{if(confirm("Delete this profile?")){const ge=s.filter(fe=>fe.id!==G);Te({...n,examProfiles:ge}),Z()}},ve=G=>{w(G),k(null),T([]),R([]),P(!1),V(null),ne(null),m(!0)},Se=async G=>{var fe;const ge=(fe=G.target.files)==null?void 0:fe[0];if(ge){k(ge),V(null),T([]),R([]),P(!1),ne(null);try{const F=await ge.text(),W=JSON.parse(F);if(W.profiles&&W.content){P(!0);const ae=Array.isArray(W.profiles)?W.profiles:[W.profiles],se=Array.isArray(W.content)?W.content:[W.content],he=[],pe=[];ae.forEach((ie,Le)=>{if(!ie.profileName){pe.push(`Profile #${Le+1}: Missing "profileName"`);return}const Jt={};Object.keys(ie).forEach(Qt=>{Qt.startsWith("_")||(Jt[Qt]=ie[Qt])}),he.push({...Si,...Jt,id:Jt.id||`profile-${Date.now()}-${Le}`})});const ye=[];se.forEach((ie,Le)=>{if(!ie.title||!ie.text){pe.push(`Content #${Le+1}: Missing "title" or "text"`);return}ye.push({id:ie.id||`content-${Date.now()}-${Le}`,title:ie.title,text:ie.text,language:ie.language||"English",font:ie.font||(ie.language==="Hindi"?"Mangal":"Sans"),difficulty:ie.difficulty||"Medium",tags:ie.tags||[],uploadDate:new Date().toISOString().split("T")[0]})}),pe.length>0&&V(pe.join(`
`)),he.length>0&&T(he),ye.length>0&&R(ye);return}let S;if(v==="single")if(Array.isArray(W))if(W.length===1)S=W;else{V(`Single upload mode expects 1 profile, but found ${W.length}. Use "Bulk Upload" for multiple profiles.`);return}else S=[W];else S=Array.isArray(W)?W:[W];const C=[],K=[];S.forEach((ae,se)=>{if(!ae.profileName){K.push(`Profile #${se+1}: Missing required field "profileName"`);return}const he={};Object.keys(ae).forEach(pe=>{pe.startsWith("_")||(he[pe]=ae[pe])}),C.push({...Si,...he,id:he.id||`profile-${Date.now()}-${se}`})}),K.length>0&&V(K.join(`
`)),C.length>0&&T(C)}catch(F){V(`Invalid JSON: ${F.message}`)}}},Ae=()=>{if(x.length===0&&N.length===0)return;const G=s.map(C=>C.profileName.toLowerCase()),ge=x.filter(C=>G.includes(C.profileName.toLowerCase()));if(ge.length>0){const C=ge.map(K=>K.profileName).join(", ");if(!confirm(`The following profiles already exist: "${C}". They will be added as new entries. Continue?`))return}const fe=$e(),F=[...fe.examProfiles||[],...x],W=[...fe.contentLibrary||[],...N];Te({...fe,examProfiles:F,contentLibrary:W}),Z(),m(!1);const S=[];x.length>0&&S.push(`${x.length} profile(s)`),N.length>0&&S.push(`${N.length} content item(s)`),alert(` Successfully imported ${S.join(" and ")}!

Exams will now appear on the website under Practice Exams.`)},me=G=>{if(!G.profileName)return alert("Profile Name is required");const ge=(h==null?void 0:h.id)||`profile-${Date.now()}`,fe={...G,id:ge};let F;h?F=s.map(W=>W.id===h.id?fe:W):F=[...s,fe],Te({...n,examProfiles:F}),Z(),u(!1),p(void 0)};return c?a.jsx(Rv,{initialProfile:h,onSave:me,onCancel:()=>u(!1)}):a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 text-left",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-display font-bold text-white tracking-tight",children:["Exam Rule ",a.jsx("span",{className:"text-brand-purple italic",children:"Engine"})]}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Manage specialized calculation rules and test profiles for various recruitment exams."})]}),a.jsxs("div",{className:"flex gap-3 flex-wrap",children:[a.jsxs("button",{onClick:()=>ve("unified"),className:"flex items-center justify-center gap-2 bg-gradient-to-r from-purple-900/50 to-cyan-900/50 border border-brand-purple/30 hover:border-brand-purple text-gray-200 px-5 py-3 rounded-xl font-bold transition-all cursor-pointer group text-sm",children:[a.jsx(Ti,{className:"text-yellow-400 group-hover:scale-110 transition-transform",size:18}),"Unified Upload"]}),a.jsxs("button",{onClick:()=>ve("single"),className:"flex items-center justify-center gap-2 bg-gray-900 border border-gray-800 hover:bg-gray-800 text-gray-300 px-5 py-3 rounded-xl font-bold transition-all cursor-pointer group text-sm",children:[a.jsx(wi,{className:"text-green-400 group-hover:scale-110 transition-transform",size:18}),"Import Single"]}),a.jsxs("button",{onClick:()=>ve("bulk"),className:"flex items-center justify-center gap-2 bg-gray-900 border border-gray-800 hover:bg-gray-800 text-gray-300 px-5 py-3 rounded-xl font-bold transition-all cursor-pointer group text-sm",children:[a.jsx(Jh,{className:"text-cyan-400 group-hover:scale-110 transition-transform",size:18}),"Bulk Upload JSON"]}),a.jsxs("button",{onClick:()=>{p(void 0),u(!0)},className:"flex items-center justify-center gap-2 bg-brand-purple hover:bg-purple-600 text-white px-6 py-3 rounded-xl font-bold transition-all shadow-[0_0_20px_rgba(168,85,247,0.3)] hover:scale-105 active:scale-95 group",children:[a.jsx(Gt,{className:"group-hover:rotate-90 transition-transform",size:20}),"Create New Profile"]})]})]}),g&&a.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center backdrop-blur-sm p-4",onClick:()=>m(!1),children:a.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl w-full max-w-3xl shadow-2xl max-h-[90vh] flex flex-col",onClick:G=>G.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b border-gray-800 flex items-center justify-between shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[v==="unified"?a.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-lg border border-yellow-500/20",children:a.jsx(Ti,{className:"text-yellow-400",size:22})}):v==="single"?a.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg border border-green-500/20",children:a.jsx(wi,{className:"text-green-400",size:22})}):a.jsx("div",{className:"p-2 bg-cyan-500/10 rounded-lg border border-cyan-500/20",children:a.jsx(Jh,{className:"text-cyan-400",size:22})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:v==="unified"?"Unified Exam Upload":v==="single"?"Import Single Profile":"Bulk Import Profiles"}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:v==="unified"?"Upload profiles + content in one JSON file  exams auto-appear on website":v==="single"?"Upload a JSON file containing one exam profile":"Upload a JSON file containing an array of exam profiles"})]})]}),a.jsx("button",{onClick:()=>m(!1),className:"p-2 hover:bg-gray-800 rounded-lg text-gray-400 hover:text-white transition-colors",children:a.jsx(hr,{size:20})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-5",children:b?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded-xl border border-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ks,{className:"text-brand-purple",size:18}),a.jsx("span",{className:"font-mono text-sm text-gray-300",children:b.name}),a.jsxs("span",{className:"text-[10px] text-gray-500 bg-gray-900 px-2 py-0.5 rounded-full",children:[(b.size/1024).toFixed(1)," KB"]})]}),a.jsxs("button",{onClick:()=>{k(null),T([]),V(null),ne(null)},className:"text-red-400 hover:text-red-300 text-xs font-bold flex items-center gap-1",children:[a.jsx(hr,{size:14})," Remove"]})]}),M&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/50 rounded-xl p-4 text-red-400 text-sm whitespace-pre-line flex items-start gap-3",children:[a.jsx(qh,{className:"shrink-0 mt-0.5",size:18}),a.jsx("div",{children:M})]}),x.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-green-400",children:[a.jsx(Gh,{size:16}),x.length," profile(s) parsed successfully"]}),a.jsx("div",{className:"max-h-72 overflow-y-auto border border-gray-700 rounded-xl",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-gray-800/80 text-gray-400 text-[10px] uppercase font-bold tracking-wider sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:"#"}),a.jsx("th",{className:"px-4 py-3",children:"Profile Name"}),a.jsx("th",{className:"px-4 py-3",children:"Calc Param"}),a.jsx("th",{className:"px-4 py-3",children:"Duration"}),a.jsx("th",{className:"px-4 py-3",children:"Language"}),a.jsx("th",{className:"px-4 py-3",children:"Type"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Preview"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-800",children:x.map((G,ge)=>a.jsxs("tr",{className:"hover:bg-gray-800/30 text-gray-300",children:[a.jsx("td",{className:"px-4 py-3 text-gray-500 font-mono text-xs",children:ge+1}),a.jsx("td",{className:"px-4 py-3 font-bold text-white",children:G.profileName}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"text-xs bg-brand-purple/10 text-brand-purple px-2 py-0.5 rounded-full border border-brand-purple/20 font-bold",children:G.calculationParam})}),a.jsxs("td",{className:"px-4 py-3 text-gray-400",children:[G.durationMin," min"]}),a.jsx("td",{className:"px-4 py-3 text-gray-400 capitalize",children:G.languageMode==="fixed"?G.fixedLanguage:"Dynamic"}),a.jsx("td",{className:"px-4 py-3 text-gray-400 capitalize",children:G.examType}),a.jsx("td",{className:"px-4 py-3 text-right",children:a.jsx("button",{onClick:()=>ne(q===ge?null:ge),className:"p-1.5 hover:bg-gray-700 rounded-lg text-gray-400 hover:text-white transition-colors",children:a.jsx(av,{size:14})})})]},ge))})]})}),q!==null&&x[q]&&a.jsxs("div",{className:"bg-gray-950 border border-gray-700 rounded-xl overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-2 bg-gray-800/50 flex justify-between items-center border-b border-gray-700",children:[a.jsxs("span",{className:"text-xs font-bold text-gray-300",children:["Preview: ",x[q].profileName]}),a.jsx("button",{onClick:()=>ne(null),className:"text-gray-500 hover:text-white",children:a.jsx(hr,{size:14})})]}),a.jsx("pre",{className:"p-4 text-[11px] text-gray-400 font-mono overflow-x-auto max-h-60 overflow-y-auto",children:JSON.stringify(x[q],null,2)})]})]}),N.length>0&&a.jsxs("div",{className:"mt-4 space-y-3",children:[a.jsxs("h4",{className:"text-sm font-bold text-yellow-400 flex items-center gap-2",children:[a.jsx(Ks,{size:14}),"Content Items (",N.length,")"]}),a.jsx("div",{className:"border border-gray-700 rounded-xl overflow-hidden",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-800/50 text-gray-400 uppercase tracking-wider text-left",children:[a.jsx("th",{className:"px-4 py-2",children:"#"}),a.jsx("th",{className:"px-4 py-2",children:"Title"}),a.jsx("th",{className:"px-4 py-2",children:"Language"}),a.jsx("th",{className:"px-4 py-2",children:"Font"}),a.jsx("th",{className:"px-4 py-2",children:"Words"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-800",children:N.map((G,ge)=>a.jsxs("tr",{className:"hover:bg-gray-800/30 text-gray-300",children:[a.jsx("td",{className:"px-4 py-2 text-gray-500 font-mono",children:ge+1}),a.jsx("td",{className:"px-4 py-2 font-bold text-white truncate max-w-[200px]",children:G.title}),a.jsx("td",{className:"px-4 py-2",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold border ${G.language==="Hindi"?"bg-orange-500/10 text-orange-400 border-orange-500/20":"bg-blue-500/10 text-blue-400 border-blue-500/20"}`,children:G.language})}),a.jsx("td",{className:"px-4 py-2 text-gray-400",children:G.font}),a.jsx("td",{className:"px-4 py-2 text-gray-400",children:G.text.split(" ").length})]},ge))})]})})]})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-700 rounded-xl p-10 text-center hover:border-brand-purple/50 hover:bg-gray-800/30 transition-all",children:[a.jsx("input",{type:"file",accept:".json",onChange:Se,className:"hidden",id:"profile-upload-input"}),a.jsxs("label",{htmlFor:"profile-upload-input",className:"cursor-pointer flex flex-col items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-gray-800/50 rounded-full",children:a.jsx(rc,{className:"text-gray-500",size:40})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 font-bold text-lg",children:"Click to select a .json file"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:v==="single"?"Single profile object or array with 1 item":"JSON array of profile objects (e.g. [{ ... }, { ... }])"})]})]}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-800 flex flex-wrap justify-center gap-3",children:[a.jsxs("a",{href:"/example_exam_profile.json",download:!0,className:"flex items-center gap-2 text-xs bg-brand-purple/10 hover:bg-brand-purple/20 text-brand-purple px-4 py-2 rounded-full border border-brand-purple/20 transition-all font-bold",onClick:G=>G.stopPropagation(),children:[a.jsx(Vn,{size:14})," Single Profile Template"]}),a.jsxs("a",{href:"/example_bulk_profiles.json",download:!0,className:"flex items-center gap-2 text-xs bg-cyan-500/10 hover:bg-cyan-500/20 text-cyan-400 px-4 py-2 rounded-full border border-cyan-500/20 transition-all font-bold",onClick:G=>G.stopPropagation(),children:[a.jsx(Vn,{size:14})," Bulk Upload Template (3 Profiles)"]})]})]})}),a.jsxs("div",{className:"p-6 border-t border-gray-800 flex items-center justify-between shrink-0 bg-gray-900/50",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("a",{href:"/example_unified_exam_upload.json",download:!0,className:"text-xs text-yellow-500 hover:text-yellow-300 flex items-center gap-1 transition-colors font-bold",children:[a.jsx(Vn,{size:12})," Unified Template"]}),a.jsxs("a",{href:"/example_exam_profile.json",download:!0,className:"text-xs text-gray-500 hover:text-gray-300 flex items-center gap-1 transition-colors",children:[a.jsx(Vn,{size:12})," Single Template"]}),a.jsxs("a",{href:"/example_bulk_profiles.json",download:!0,className:"text-xs text-gray-500 hover:text-gray-300 flex items-center gap-1 transition-colors",children:[a.jsx(Vn,{size:12})," Bulk Template"]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>m(!1),className:"px-5 py-2.5 text-gray-400 hover:text-white font-bold text-sm transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:Ae,disabled:x.length===0&&N.length===0,className:`px-6 py-2.5 rounded-xl font-bold text-sm flex items-center gap-2 transition-all ${x.length>0||N.length>0?"bg-brand-purple hover:bg-purple-600 text-white shadow-[0_0_15px_rgba(168,85,247,0.3)]":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,children:[a.jsx(Gh,{size:16}),"Import",x.length>0?` ${x.length} Profile${x.length!==1?"s":""}`:"",N.length>0?` + ${N.length} Content`:""]})]})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.length>0?s.map(G=>a.jsxs("div",{className:"group bg-gray-900/40 border border-gray-800/80 rounded-2xl p-6 hover:border-brand-purple/50 transition-all hover:shadow-[0_0_30px_rgba(168,85,247,0.1)] backdrop-blur-sm relative overflow-hidden",children:[a.jsxs("div",{className:"absolute top-0 right-0 p-4 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2 z-10",children:[a.jsx("button",{onClick:()=>be(G),className:"p-2 bg-gray-800/80 hover:bg-brand-purple text-gray-400 hover:text-white rounded-lg transition-all",title:"Edit Profile",children:a.jsx(pc,{size:16})}),a.jsx("button",{onClick:()=>Fe(G.id),className:"p-2 bg-gray-800/80 hover:bg-red-500 text-gray-400 hover:text-white rounded-lg transition-all",title:"Delete Profile",children:a.jsx(Lt,{size:16})})]}),a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"p-3 bg-brand-purple/10 rounded-xl border border-brand-purple/20",children:a.jsx(an,{className:"text-brand-purple",size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-brand-purple transition-colors line-clamp-1",children:G.profileName}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-600",children:G.examType})]})]}),a.jsx("p",{className:"text-gray-500 text-xs mb-6 line-clamp-2 min-h-[2.5rem] leading-relaxed",children:G.description||"No description provided."}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-[10px] items-center",children:[a.jsxs("div",{className:"flex flex-col gap-1 p-2 bg-gray-950/50 rounded-lg border border-gray-800/50",children:[a.jsxs("span",{className:"text-gray-600 font-bold uppercase tracking-tight flex items-center gap-1",children:[a.jsx(cv,{size:10})," Mode"]}),a.jsx("span",{className:"text-gray-300 font-bold uppercase",children:G.languageMode==="fixed"?G.fixedLanguage:"Dynamic"})]}),a.jsxs("div",{className:"flex flex-col gap-1 p-2 bg-gray-950/50 rounded-lg border border-gray-800/50",children:[a.jsxs("span",{className:"text-gray-600 font-bold uppercase tracking-tight flex items-center gap-1",children:[a.jsx(Vf,{size:10})," Duration"]}),a.jsxs("span",{className:"text-gray-300 font-bold",children:[G.durationMin," MIN"]})]}),a.jsxs("div",{className:"flex flex-col gap-1 p-2 bg-gray-950/50 rounded-lg border border-gray-800/50",children:[a.jsxs("span",{className:"text-gray-600 font-bold uppercase tracking-tight flex items-center gap-1",children:[a.jsx(qh,{size:10})," Limit"]}),a.jsxs("span",{className:"text-gray-300 font-bold",children:[G.ignoredErrorLimit,"%"]})]}),a.jsxs("div",{className:"flex flex-col gap-1 p-2 bg-gray-950/50 rounded-lg border border-gray-800/50",children:[a.jsxs("span",{className:"text-gray-600 font-bold uppercase tracking-tight flex items-center gap-1",children:[a.jsx(nv,{size:10})," Param"]}),a.jsx("span",{className:"text-brand-purple font-black",children:(G.calculationParam||"").replace("gross_","").replace("net_","").toUpperCase()})]})]})]},G.id)):a.jsxs("div",{className:"col-span-full py-20 bg-gray-900/20 border-2 border-dashed border-gray-800 rounded-3xl flex flex-col items-center justify-center text-center",children:[a.jsx("div",{className:"p-4 bg-gray-800/50 rounded-full mb-4",children:a.jsx(an,{className:"text-gray-600",size:40})}),a.jsx("h4",{className:"text-xl font-bold text-gray-400",children:"No rule profiles found"}),a.jsx("p",{className:"text-gray-600 text-sm mt-2 max-w-xs",children:"Create your first exam profile to define custom scoring and calculation logic."}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsxs("button",{onClick:()=>ve("single"),className:"text-green-400 font-bold hover:underline flex items-center gap-1 text-sm",children:[a.jsx(wi,{size:14})," Import JSON"]}),a.jsx("span",{className:"text-gray-700",children:"or"}),a.jsx("button",{onClick:()=>u(!0),className:"text-brand-purple font-bold hover:underline text-sm",children:"+ Create Profile"})]})]})})]})},Ov=()=>{const[n,r]=D.useState($e()),[s,l]=D.useState(n.courses||[]),[c]=D.useState(n.examProfiles||[]),[u,h]=D.useState(!1),[p,g]=D.useState(null),m={id:"",name:"",description:"",price:0,durationDays:30,modules:[],examProfileIds:[],isActive:!0},[v,w]=D.useState(m),b=()=>{const _=$e();r(_),l(_.courses||[])},k=_=>{w(_),g(_.id),h(!0)},x=_=>{if(confirm("Delete this course?")){const P=s.filter(M=>M.id!==_);Te({...n,courses:P}),b()}},T=()=>{if(!v.name)return alert("Course Name is required");if(v.modules.length===0)return alert("Select at least one module");if(v.examProfileIds.length===0)return alert("Select at least one Exam Profile");const _={...v,id:p||`course-${Date.now()}`};let P;p?P=s.map(M=>M.id===p?_:M):P=[...s,_],Te({...n,courses:P}),b(),h(!1),w(m),g(null)},N=_=>{const P=v.modules;P.includes(_)?w({...v,modules:P.filter(M=>M!==_)}):w({...v,modules:[...P,_]})},R=_=>{const P=v.examProfileIds;P.includes(_)?w({...v,examProfileIds:P.filter(M=>M!==_)}):w({...v,examProfileIds:[...P,_]})};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold font-display text-white mb-1",children:"Course & Subscription Manager"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Bundle Content (Modules) + Rules (Profiles) into Courses."})]}),a.jsxs("button",{onClick:()=>{w(m),g(null),h(!0)},className:"bg-brand-purple hover:bg-purple-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-lg shadow-purple-900/20",children:[a.jsx(Gt,{size:18})," Create New Course"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.length>0?s.map(_=>a.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-6 hover:border-brand-purple/50 transition-all group backdrop-blur-sm relative overflow-hidden",children:[!_.isActive&&a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-10",children:a.jsx("span",{className:"px-3 py-1 bg-red-900/80 text-red-200 rounded font-bold text-xs uppercase border border-red-700",children:"Inactive"})}),a.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-20",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-white text-lg flex items-center gap-2",children:_.name}),a.jsx("p",{className:"text-xs text-gray-400 mt-1 line-clamp-2",children:_.description||"No description"})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>k(_),className:"p-1.5 text-gray-400 hover:text-brand-purple hover:bg-purple-900/20 rounded transition-colors",children:a.jsx(gc,{size:16})}),a.jsx("button",{onClick:()=>x(_.id),className:"p-1.5 text-gray-400 hover:text-red-400 hover:bg-red-900/20 rounded transition-colors",children:a.jsx(Lt,{size:16})})]})]}),a.jsxs("div",{className:"space-y-3 text-xs relative z-20",children:[a.jsx("div",{className:"flex gap-2 flex-wrap",children:_.modules.map(P=>a.jsx("span",{className:`px-2 py-0.5 rounded border ${P==="Hindi"?"bg-orange-900/20 border-orange-800 text-orange-400":P==="English"?"bg-blue-900/20 border-blue-800 text-blue-400":"bg-green-900/20 border-green-800 text-green-400"}`,children:P},P))}),a.jsxs("div",{className:"p-3 bg-gray-800/50 rounded border border-gray-700/50",children:[a.jsx("span",{className:"block text-[10px] text-gray-500 uppercase tracking-widest mb-2 font-bold",children:"Active Rules (Profiles)"}),a.jsx("div",{className:"flex flex-col gap-1",children:_.examProfileIds.map(P=>{const M=c.find(V=>V.id===P);return a.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[a.jsx(an,{size:12,className:"text-brand-purple"}),M?M.name:"Unknown Profile"]},P)})})]}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-800",children:[a.jsxs("span",{className:"text-xl font-bold text-white font-mono",children:["",_.price]}),a.jsxs("span",{className:"text-gray-400 flex items-center gap-1",children:[a.jsx(Vf,{size:12})," ",_.durationDays," Days"]})]})]})]},_.id)):a.jsx("div",{className:"col-span-full text-center py-20 text-gray-500 bg-gray-900/30 rounded-xl border border-dashed border-gray-800",children:'No courses created yet. Click "Create New Course" to start.'})}),u&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-[#0f0f13] border border-gray-800 rounded-xl w-full max-w-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-800 bg-gray-900/50",children:[a.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(Ti,{className:"text-brand-purple",size:20}),p?"Edit Course":"Create New Course"]}),a.jsx("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-white",children:a.jsx(hr,{size:20})})]}),a.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar space-y-6 flex-1",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Course Name"}),a.jsx("input",{className:"input-field",placeholder:"e.g. SSC + AIIMS Combo",value:v.name,onChange:_=>w({...v,name:_.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Price (INR)"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:""}),a.jsx("input",{type:"number",className:"input-field pl-8",placeholder:"999",value:v.price,onChange:_=>w({...v,price:Number(_.target.value)})})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Description"}),a.jsx("textarea",{className:"input-field min-h-[80px]",placeholder:"Course details...",value:v.description,onChange:_=>w({...v,description:_.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Duration (Days)"}),a.jsx("input",{type:"number",className:"input-field",value:v.durationDays,onChange:_=>w({...v,durationDays:Number(_.target.value)})})]}),a.jsx("div",{className:"flex items-center pt-6",children:a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300 font-bold cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"accent-brand-purple w-4 h-4",checked:v.isActive,onChange:_=>w({...v,isActive:_.target.checked})}),"Course Active"]})})]})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h4",{className:"text-brand-purple font-bold text-xs uppercase tracking-widest border-b border-gray-800 pb-2",children:"2. Select Modules"}),a.jsx("div",{className:"flex gap-4",children:["Hindi","English","CPT"].map(_=>a.jsxs("button",{onClick:()=>N(_),className:`flex-1 py-3 rounded-lg border flex items-center justify-center gap-2 transition-all ${v.modules.includes(_)?"bg-brand-purple/20 border-brand-purple text-white shadow-[0_0_10px_rgba(168,85,247,0.3)]":"bg-gray-900 border-gray-700 text-gray-500 hover:border-gray-600"}`,children:[_==="Hindi"&&a.jsx("span",{className:"font-mangal",children:""}),_==="English"&&a.jsx(Ei,{size:16}),_==="CPT"&&a.jsx(Gf,{size:16}),a.jsx("span",{className:"font-bold text-sm",children:_}),v.modules.includes(_)&&a.jsx(Zo,{size:14,className:"text-brand-purple"})]},_))})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h4",{className:"text-brand-purple font-bold text-xs uppercase tracking-widest border-b border-gray-800 pb-2",children:"3. Map Exam Rules (Profiles)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[c.map(_=>a.jsxs("div",{onClick:()=>R(_.id),className:`p-3 rounded-lg border cursor-pointer transition-all flex justify-between items-center ${v.examProfileIds.includes(_.id)?"bg-blue-900/20 border-blue-500/50 text-blue-100":"bg-gray-900 border-gray-700 text-gray-400 hover:bg-gray-800"}`,children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-sm",children:_.name}),a.jsxs("div",{className:"text-[10px] opacity-70",children:[_.calculationMode," | ",_.penalty.type," Penalty"]})]}),v.examProfileIds.includes(_.id)&&a.jsx(Zo,{size:16,className:"text-blue-500"})]},_.id)),c.length===0&&a.jsx("div",{className:"text-gray-500 text-sm italic col-span-full",children:'No Profiles Found. Create profiles in "Master Rules" first.'})]})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-800 bg-gray-900/30 flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>h(!1),className:"btn-secondary",children:"Cancel"}),a.jsxs("button",{onClick:T,className:"btn-primary flex items-center gap-2",children:[a.jsx(Ys,{size:18})," Save Course"]})]})]})}),a.jsx("style",{children:`
        .input-field {
          width: 100%;
          background-color: #111827;
          border-width: 1px;
          border-color: #374151;
          border-radius: 0.5rem;
          padding: 0.625rem 1rem;
          color: #e5e7eb;
          font-size: 0.875rem;
          outline: none;
        }
        .input-field:focus {
          border-color: #a855f7;
          box-shadow: 0 0 0 1px #a855f7;
        }
        .btn-primary {
          background-color: #a855f7;
          color: white;
          padding: 0.625rem 1.25rem;
          border-radius: 0.5rem;
          font-weight: 700;
          transition: background-color 0.2s;
        }
        .btn-primary:hover {
          background-color: #9333ea;
        }
        .btn-secondary {
          background-color: transparent;
          color: #9ca3af;
          padding: 0.625rem 1.25rem;
          border-radius: 0.5rem;
          font-weight: 700;
          transition: color 0.2s;
        }
        .btn-secondary:hover {
          color: white;
          background-color: #1f2937;
        }
        .label-sm {
            display: block;
            font-size: 0.75rem;
            font-weight: 700;
            color: #6b7280;
            text-transform: uppercase;
            margin-bottom: 0.375rem;
        }
      `})]})},Lv=()=>{const[n,r]=D.useState($e()),[s,l]=D.useState({name:"",email:"",password:"",role:"Admin"}),c=()=>r($e()),u=()=>{if(!s.name||!s.email||!s.password)return;const g={id:Date.now(),name:s.name,email:s.email,password:s.password,plan:"Pro Yearly",joined:new Date().toISOString().split("T")[0],status:"Active",authMethod:"Email",role:s.role},m=[...n.users,g];Te({...n,users:m}),l({name:"",email:"",password:"",role:"Admin"}),c()},h=g=>{confirm("Are you sure you want to remove this admin?")&&(Te({...n,users:n.users.filter(m=>m.id!==g)}),c())},p=n.users.filter(g=>["Super Admin","Admin","Moderator"].includes(g.role));return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold font-display",children:"Admin Management"}),a.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm border-gray-800",children:[a.jsx("h3",{className:"font-bold mb-4",children:"Create New Admin"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("input",{className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple",placeholder:"Name",value:s.name,onChange:g=>l({...s,name:g.target.value})}),a.jsx("input",{className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple",placeholder:"Email",value:s.email,onChange:g=>l({...s,email:g.target.value})}),a.jsx("input",{className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple",placeholder:"Password",type:"password",value:s.password,onChange:g=>l({...s,password:g.target.value})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple",value:s.role,onChange:g=>l({...s,role:g.target.value}),children:[a.jsx("option",{value:"Admin",children:"Admin"}),a.jsx("option",{value:"Moderator",children:"Moderator"})]}),a.jsxs("button",{onClick:u,className:"btn-primary whitespace-nowrap",children:[a.jsx(Gt,{size:16})," Add"]})]})]})]}),a.jsx("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-gray-800/50 text-gray-400 font-bold uppercase text-[10px] tracking-widest",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3",children:"Name"}),a.jsx("th",{className:"px-6 py-3",children:"Email"}),a.jsx("th",{className:"px-6 py-3",children:"Role"}),a.jsx("th",{className:"px-6 py-3",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-800",children:p.map(g=>a.jsxs("tr",{className:"hover:bg-gray-800/30",children:[a.jsx("td",{className:"px-6 py-3 font-bold text-gray-200",children:g.name}),a.jsx("td",{className:"px-6 py-3 text-gray-400",children:g.email}),a.jsx("td",{className:"px-6 py-3",children:a.jsx("span",{className:"px-2 py-1 bg-purple-900/20 text-purple-400 rounded text-xs font-bold border border-purple-800",children:g.role})}),a.jsx("td",{className:"px-6 py-3",children:g.role!=="Super Admin"&&a.jsx("button",{onClick:()=>h(g.id),className:"text-red-500 hover:text-red-400 transition-colors",children:a.jsx(Lt,{size:16})})})]},g.id))})]})})]})},Dv=()=>{const[n,r]=D.useState(sc()),[s,l]=D.useState("All");D.useEffect(()=>{},[]);const c=()=>r(sc()),u=s==="All"?n:n.filter(h=>h.type===s.toLowerCase());return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-2xl font-display font-bold flex items-center gap-2",children:[a.jsx(Hf,{className:"text-brand-purple"})," Activity Logs"]}),a.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:a.jsx(fc,{size:18})})]}),a.jsx("div",{className:"flex gap-2 mb-4",children:["All","Info","Success","Warning","Danger"].map(h=>a.jsx("button",{onClick:()=>l(h),className:`px-3 py-1 rounded-full text-xs font-bold ${s===h?"bg-brand-purple text-white shadow-[0_0_10px_rgba(168,85,247,0.3)]":"bg-gray-900 border-gray-700 text-gray-200 placeholder-gray-600 focus:border-brand-purple"}`,children:h},h))}),a.jsx("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl overflow-hidden shadow-sm",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-gray-800/50 text-gray-400 font-bold uppercase text-[10px] tracking-widest",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3",children:"Time"}),a.jsx("th",{className:"px-6 py-3",children:"Admin"}),a.jsx("th",{className:"px-6 py-3",children:"Action"}),a.jsx("th",{className:"px-6 py-3",children:"Details"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-800",children:u.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-400",children:"No logs found."})}):u.map(h=>a.jsxs("tr",{className:"hover:bg-gray-800/30",children:[a.jsx("td",{className:"px-6 py-3 text-xs text-gray-500 font-mono",children:new Date(h.timestamp).toLocaleString()}),a.jsx("td",{className:"px-6 py-3 font-bold text-gray-200",children:h.adminName}),a.jsx("td",{className:`px-6 py-3 font-bold ${h.type==="success"?"text-green-400":h.type==="danger"?"text-red-400":h.type==="warning"?"text-orange-400":"text-blue-400"}`,children:h.action}),a.jsx("td",{className:"px-6 py-3 text-gray-300",children:h.details})]},h.id))})]})})]})},Mv=({stats:n})=>{const r=$e(),s=r.payments||[],l=r.users||[],c=Ms.useMemo(()=>{const g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],m=new Date().getMonth();return Array.from({length:6}).map((v,w)=>{const b=(m-5+w+12)%12,k=w===5,x=s.reduce((N,R)=>N+(parseFloat(R.amount)||0),0),T=k?x:Math.floor(Math.random()*5e3)+1e3;return{label:g[b],value:T}})},[s]),u=Math.max(...c.map(g=>g.value))||100,h=Ms.useMemo(()=>[{label:"Mon",value:12},{label:"Tue",value:19},{label:"Wed",value:15},{label:"Thu",value:25},{label:"Fri",value:32},{label:"Sat",value:28},{label:"Sun",value:l.length}],[l]),p=Math.max(...h.map(g=>g.value))||50;return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsx("h2",{className:"text-2xl font-bold font-display text-white",children:"Dashboard Overview"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map((g,m)=>a.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 p-6 rounded-xl hover:border-brand-purple/50 transition-all shadow-lg backdrop-blur-sm group relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-brand-purple/10 rounded-full blur-[40px] group-hover:bg-brand-purple/20 transition-all"}),a.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[a.jsx("div",{className:"p-3 bg-gray-800 rounded-lg group-hover:scale-110 transition-transform shadow-inner border border-gray-700",children:g.icon}),a.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full border ${g.change.includes("+")?"text-green-400 bg-green-900/20 border-green-800":"text-red-400 bg-red-900/20 border-red-800"}`,children:g.change})]}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider",children:g.label}),a.jsx("h3",{className:"text-3xl font-bold font-display text-gray-100 mt-1",children:g.value})]})]},m))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-6 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"font-bold text-gray-200 flex items-center gap-2",children:[a.jsx(Kf,{size:18,className:"text-green-500"})," Revenue Trend"]}),a.jsx("select",{className:"bg-gray-900 border border-gray-700 text-xs rounded px-2 py-1 text-gray-400",children:a.jsx("option",{children:"Last 6 Months"})})]}),a.jsx("div",{className:"h-48 flex items-end justify-between gap-2 px-2",children:c.map((g,m)=>a.jsxs("div",{className:"flex flex-col items-center gap-2 w-full group",children:[a.jsxs("div",{className:"w-full bg-gray-800 rounded-t-lg relative overflow-hidden transition-all hover:bg-green-900/40 border-t border-x border-gray-700 group-hover:border-green-500/50",style:{height:`${g.value/u*100}%`},children:[a.jsx("div",{className:"absolute bottom-0 w-full h-1 bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.5)]"}),a.jsxs("div",{className:"opacity-0 group-hover:opacity-100 absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] py-1 px-2 rounded -mb-2 pointer-events-none whitespace-nowrap z-20",children:["",g.value]})]}),a.jsx("span",{className:"text-[10px] text-gray-500 font-bold uppercase",children:g.label})]},m))})]}),a.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-6 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"font-bold text-gray-200 flex items-center gap-2",children:[a.jsx(nc,{size:18,className:"text-blue-500"})," User Growth"]}),a.jsx("select",{className:"bg-gray-900 border border-gray-700 text-xs rounded px-2 py-1 text-gray-400",children:a.jsx("option",{children:"Last 7 Days"})})]}),a.jsx("div",{className:"h-48 flex items-end justify-between gap-2 px-2",children:h.map((g,m)=>a.jsxs("div",{className:"flex flex-col items-center gap-2 w-full group",children:[a.jsxs("div",{className:"w-full bg-gray-800 rounded-t-lg relative overflow-hidden transition-all hover:bg-blue-900/40 border-t border-x border-gray-700 group-hover:border-blue-500/50",style:{height:`${g.value/p*100}%`},children:[a.jsx("div",{className:"absolute bottom-0 w-full h-1 bg-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.5)]"}),a.jsx("div",{className:"opacity-0 group-hover:opacity-100 absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] py-1 px-2 rounded pointer-events-none z-20",children:g.value})]}),a.jsx("span",{className:"text-[10px] text-gray-500 font-bold uppercase",children:g.label})]},m))})]})]}),a.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-6 backdrop-blur-sm",children:[a.jsxs("h3",{className:"font-bold mb-4 text-gray-200 flex items-center gap-2",children:[a.jsx(Bf,{size:18,className:"text-brand-purple"})," System Health"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-black/40 rounded-lg p-4 border border-gray-800",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-xs font-bold text-gray-400",children:"SERVER CPU"}),a.jsx("span",{className:"text-green-400 text-xs font-bold",children:"OK"})]}),a.jsx("div",{className:"text-2xl font-mono font-bold text-white",children:"12%"}),a.jsx("div",{className:"w-full bg-gray-800 h-1 mt-2 rounded-full overflow-hidden",children:a.jsx("div",{className:"w-[12%] h-full bg-green-500"})})]}),a.jsxs("div",{className:"bg-black/40 rounded-lg p-4 border border-gray-800",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-xs font-bold text-gray-400",children:"MEMORY USAGE"}),a.jsx("span",{className:"text-yellow-400 text-xs font-bold",children:"MODERATE"})]}),a.jsx("div",{className:"text-2xl font-mono font-bold text-white",children:"45%"}),a.jsx("div",{className:"w-full bg-gray-800 h-1 mt-2 rounded-full overflow-hidden",children:a.jsx("div",{className:"w-[45%] h-full bg-yellow-500"})})]}),a.jsxs("div",{className:"bg-black/40 rounded-lg p-4 border border-gray-800",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-xs font-bold text-gray-400",children:"DATABASE (Hostinger)"}),a.jsx("span",{className:"text-green-400 text-xs font-bold",children:"CONNECTED"})]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"AdminStore Sync Active"}),a.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})," ",a.jsx("span",{className:"text-xs text-green-400",children:"Operational"})]})]})]})]})]})},Uv=({exams:n,setExams:r,rules:s,categories:l=[],setCategories:c,examProfiles:u=[],setExamProfiles:h})=>{const[p,g]=D.useState(!1),[m,v]=D.useState(!1),[w,b]=D.useState(!1),[k,x]=D.useState(null),[T,N]=D.useState(""),[R,_]=D.useState(""),[P,M]=D.useState("English"),[V,q]=D.useState(["English"]),[ne,Z]=D.useState(""),[be,Fe]=D.useState("Published"),[ve,Se]=D.useState("Past"),[Ae,me]=D.useState(""),[G,ge]=D.useState(null),[fe,F]=D.useState([]),[W,S]=D.useState(null),[C,K]=D.useState(!1),[ae,se]=D.useState(""),[he,pe]=D.useState(""),[ye,ie]=D.useState(""),[Le,Jt]=D.useState(""),Qt=()=>{if(!ae.trim())return;const $={id:`cat-${Date.now()}`,name:ae,parentId:he||null,type:"folder"};c([...l,$]),se("")},Xs=$=>{confirm("Delete this category? Sub-categories will be unlinked.")&&c(l.filter(je=>je.id!==$))},cn=async $=>{var Et;const je=(Et=$.target.files)==null?void 0:Et[0];if(je){ge(je),K(!0),S(null);try{if(je.name.endsWith(".json")){const Pe=await je.text(),_e=JSON.parse(Pe);if(_e.categories||_e.profiles||_e.exams)S(_e),F(_e.exams||[]);else{const Dt=Array.isArray(_e)?_e:[_e];F(Dt.map((ht,Mt)=>({id:Date.now()+Mt,title:ht.title||`Imported Exam ${Mt+1}`,content:ht.content||"",language:ht.language||"English",status:"Draft"})))}K(!1)}else if(je.name.endsWith(".xlsx")){const Pe=await ji(()=>import("./xlsx-CkFp8p6R.js"),[]),_e=new FileReader;_e.onload=Dt=>{var Jn;const ht=(Jn=Dt.target)==null?void 0:Jn.result,Mt=Pe.read(ht,{type:"binary"}),ta=Mt.SheetNames[0],ra=Mt.Sheets[ta],un=Pe.utils.sheet_to_json(ra).map((Yt,pr)=>({id:Date.now()+pr,title:Yt.Title||`Bulk Import ${pr+1}`,content:Yt.Content||"",language:Yt.Language||"English",categoryId:Yt.Category||"",status:"Draft"}));F(un),K(!1)},_e.readAsBinaryString(je)}else{const Dt=(await je.text()).split("---").map(ht=>ht.trim()).filter(Boolean).map((ht,Mt)=>({id:Date.now()+Mt,title:`Bulk Text Import ${Mt+1}`,content:ht,language:"English",status:"Draft"}));F(Dt),K(!1)}}catch(Pe){console.error("Bulk upload failed",Pe),alert("Failed to parse file."),K(!1)}}},Gn=()=>{if(W){const $=W.categories?[...l,...W.categories]:l,je=W.profiles?[...u,...W.profiles.map(_e=>({...Si,..._e}))]:u;let Et=n;if(W.exams){const _e=W.exams.map((Dt,ht)=>({...Dt,id:Date.now()+ht,plays:0}));Et=[...n,..._e]}const Pe=$e();Te({...Pe,categories:$,examProfiles:je,exams:Et}),alert("Unified Import Successful!")}else{const $=fe.map(je=>({id:je.id,title:je.title,language:je.language,enabledLanguages:[je.language],ruleSet:"Standard",ruleId:1,status:"Published",content:je.content,contentTitle:je.title,categoryId:R||null,plays:0}));r([...n,...$]),alert(`Successfully imported ${$.length} exams!`)}b(!1),ge(null),F([]),S(null)},Zs=()=>{var Et;const $=u.find(Pe=>Pe.id===ne),je={title:T,categoryId:R,language:V.length>0?V[0]:"English",enabledLanguages:V,examProfileId:ne,ruleSet:($==null?void 0:$.profileName)||"Standard",status:be,liveStatus:ve,liveDate:Ae,content:ye,contentTitle:Le,plays:k?(Et=n.find(Pe=>Pe.id===k))==null?void 0:Et.plays:0};if(k){const Pe=n.find(_e=>_e.id===k);r(n.map(_e=>_e.id===k?{..._e,...je,createdAt:(Pe==null?void 0:Pe.createdAt)||Date.now()}:_e))}else{const Pe=n.length>0?Math.max(...n.map(_e=>_e.id))+1:1;r([...n,{id:Pe,...je,createdAt:Date.now()}])}g(!1),x(null),N(""),ie(""),Jt(""),Se("Past"),me(""),q(["English"]),_(""),Z("")},ea=$=>{x($.id),N($.title),_($.categoryId||""),M($.language),q($.enabledLanguages||[$.language]),Z($.examProfileId||""),Fe($.status),Se($.liveStatus||"Past"),me($.liveDate||""),ie($.content||""),Jt($.contentTitle||""),g(!0)};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-display font-bold",children:"Exam Management"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>v(!0),className:"bg-gray-800 text-gray-300 px-3 py-2 rounded-lg font-bold text-sm hover:bg-gray-700 border border-gray-700",children:"Manage Folders"}),a.jsxs("button",{onClick:()=>b(!0),className:"bg-gray-800 text-gray-300 px-3 py-2 rounded-lg font-bold text-sm hover:bg-gray-700 border border-gray-700 flex items-center gap-2",children:[a.jsx(rc,{size:16})," Bulk Upload"]}),a.jsxs("button",{onClick:()=>{g(!0),x(null),ie(""),Jt(""),N(""),q(["English"]),_("")},className:"bg-brand-black text-white px-4 py-2 rounded-lg font-bold text-sm flex items-center gap-2 hover:bg-gray-800",children:[a.jsx(Gt,{size:16})," Add New Exam"]})]})]}),m&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center backdrop-blur-sm",onClick:()=>v(!1),children:a.jsxs("div",{className:"bg-gray-900 border border-gray-700 p-6 rounded-xl w-full max-w-md shadow-2xl",onClick:$=>$.stopPropagation(),children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Category Folders"}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx("input",{className:"input-field bg-gray-800 border-gray-600",placeholder:"New Folder Name",value:ae,onChange:$=>se($.target.value)}),a.jsxs("select",{className:"input-field bg-gray-800 border-gray-600 w-1/3",value:he,onChange:$=>pe($.target.value),children:[a.jsx("option",{value:"",children:"(Root)"}),l.map($=>a.jsx("option",{value:$.id,children:$.name},$.id))]}),a.jsx("button",{onClick:Qt,className:"btn-primary",children:a.jsx(Gt,{size:18})})]}),a.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-2",children:[l.map($=>a.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-800/50 rounded border border-gray-700",children:[a.jsxs("span",{className:"text-sm text-gray-200",children:[$.parentId?a.jsx("span",{className:"text-gray-500 mr-2",children:""}):null,$.name]}),a.jsx("button",{onClick:()=>Xs($.id),className:"text-red-500 hover:text-red-400",children:a.jsx(Lt,{size:14})})]},$.id)),l.length===0&&a.jsx("p",{className:"text-gray-500 text-sm italic text-center",children:"No categories created."})]}),a.jsx("button",{onClick:()=>v(!1),className:"mt-4 w-full btn-secondary",children:"Close"})]})}),w&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center backdrop-blur-sm",onClick:()=>b(!1),children:a.jsxs("div",{className:"bg-gray-900 border border-gray-700 p-6 rounded-xl w-full max-w-2xl shadow-2xl",onClick:$=>$.stopPropagation(),children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[a.jsx(rc,{size:20})," Bulk Import Exams"]}),G?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center bg-gray-800 p-3 rounded",children:[a.jsx("span",{className:"font-mono text-xs text-gray-300",children:G.name}),a.jsx("button",{onClick:()=>{ge(null),F([])},className:"text-red-400 text-xs",children:"Remove"})]}),C?a.jsx("p",{className:"text-yellow-400 animate-pulse text-sm",children:"Processing file..."}):a.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-700 rounded",children:a.jsxs("table",{className:"w-full text-xs text-left",children:[a.jsx("thead",{className:"bg-gray-800 text-gray-400",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-2",children:"Title"}),a.jsx("th",{className:"p-2",children:"Lang"}),a.jsx("th",{className:"p-2",children:"Preview"})]})}),a.jsx("tbody",{children:fe.map(($,je)=>a.jsxs("tr",{className:"border-b border-gray-800 text-gray-300",children:[a.jsx("td",{className:"p-2 font-bold",children:$.title}),a.jsx("td",{className:"p-2",children:$.language}),a.jsxs("td",{className:"p-2 truncate max-w-xs opacity-70",children:[$.content.substring(0,50),"..."]})]},je))})]})}),a.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[a.jsxs("select",{className:"input-field bg-gray-800 border-gray-700 w-auto",value:R,onChange:$=>_($.target.value),children:[a.jsx("option",{value:"",children:"Auto-Detect / No Category"}),l.map($=>a.jsx("option",{value:$.id,children:$.name},$.id))]}),a.jsxs("button",{onClick:Gn,className:"btn-primary",disabled:fe.length===0,children:["Import ",fe.length," Exams"]})]})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-700 rounded-xl p-10 text-center hover:bg-gray-800 transition-colors",children:[a.jsx("input",{type:"file",accept:".xlsx,.txt,.json",onChange:cn,className:"hidden",id:"bulk-file"}),a.jsxs("label",{htmlFor:"bulk-file",className:"cursor-pointer",children:[a.jsx("p",{className:"text-gray-300 font-bold mb-2",children:"Click to Bulk Upload (.xlsx, .txt, .json)"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Excel columns: Title, Content, Language, Category"}),a.jsxs("div",{className:"flex flex-col items-center gap-2 mt-4",children:[a.jsx("p",{className:"text-[10px] text-brand-purple font-bold uppercase tracking-wider",children:"New: Upload Unified JSON (Categories + Profiles + Exams)"}),a.jsxs("a",{href:"/master_unified_template.json",download:!0,className:"text-[10px] bg-brand-purple/20 hover:bg-brand-purple/40 text-brand-purple px-4 py-1.5 rounded-full border border-brand-purple/30 transition-all font-bold flex items-center gap-2",onClick:$=>$.stopPropagation(),children:[a.jsx(Vn,{size:12})," Download JSON Template"]})]})]})]})]})}),p&&a.jsxs("div",{className:"bg-gray-950 border-2 border-brand-purple rounded-2xl shadow-[0_0_30px_rgba(192,38,211,0.2)] p-8 mb-8 backdrop-blur-md",children:[a.jsxs("h3",{className:"font-bold text-xl mb-6 text-white flex items-center gap-3 border-b border-gray-800 pb-4",children:[a.jsx(Ks,{size:24,className:"text-brand-purple"}),k?"Modify Exam Record":"Create New Examination"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Exam Title"}),a.jsx("input",{type:"text",placeholder:"e.g. SSC CHSL Mains 2024",value:T,onChange:$=>N($.target.value),className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Category / Folder"}),a.jsxs("select",{className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple",value:R,onChange:$=>_($.target.value),children:[a.jsx("option",{value:"",children:"(None)"}),l.map($=>a.jsx("option",{value:$.id,children:$.name},$.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Paragraph Title (Optional)"}),a.jsx("input",{type:"text",placeholder:"e.g. The Fox and Grapes",value:Le,onChange:$=>Jt($.target.value),className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm text-gray-400",children:"Linked Exam Profile (Modern Engine)"}),a.jsxs("select",{value:ne,onChange:$=>Z($.target.value),className:"input-field bg-gray-900 border-gray-700 text-white focus:border-brand-purple font-bold",children:[a.jsx("option",{value:"",children:"Select a Profile..."}),u.map($=>a.jsx("option",{value:$.id,children:$.profileName},$.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Allowed Languages"}),a.jsxs("div",{className:"flex gap-4 mt-2 bg-gray-900 border border-gray-700 p-2.5 rounded text-gray-200",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-brand-purple",checked:V.includes("English"),onChange:$=>{$.target.checked?q([...V,"English"]):q(V.filter(je=>je!=="English"))}}),"English"]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-brand-purple",checked:V.includes("Hindi"),onChange:$=>{$.target.checked?q([...V,"Hindi"]):q(V.filter(je=>je!=="Hindi"))}}),"Hindi"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Publish Status"}),a.jsxs("select",{value:be,onChange:$=>Fe($.target.value),className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple",children:[a.jsx("option",{children:"Published"}),a.jsx("option",{children:"Draft"}),a.jsx("option",{children:"Archived"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm text-gray-400",children:"Live Highlight Status"}),a.jsxs("select",{value:ve,onChange:$=>Se($.target.value),className:"input-field bg-gray-900 border-gray-700 text-white focus:border-brand-purple font-bold shadow-[0_0_10px_rgba(239,68,68,0.1)]",children:[a.jsx("option",{value:"Past",children:"None (Standard)"}),a.jsx("option",{value:"Live",children:"LIVE NOW (Home Highlight)"}),a.jsx("option",{value:"Upcoming",children:"Upcoming"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Live Date/Time (Display Only)"}),a.jsx("input",{type:"text",placeholder:"e.g. Today, 10:00 AM",value:Ae,onChange:$=>me($.target.value),className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"label-sm",children:"Typing Content (Article)"}),a.jsx("textarea",{value:ye,onChange:$=>ie($.target.value),className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple h-48 font-mono text-sm leading-relaxed",placeholder:"Paste the exam text paragraph here..."}),a.jsxs("p",{className:"text-[10px] text-gray-400 mt-1 text-right",children:[ye.split(" ").length," words  ",ye.length," characters"]})]}),a.jsxs("div",{className:"mt-8 flex justify-end gap-3 border-t border-gray-800 pt-6",children:[a.jsx("button",{onClick:()=>g(!1),className:"btn-secondary text-gray-400 hover:text-white transition-colors",children:"Discard"}),a.jsx("button",{onClick:Zs,className:"btn-primary shadow-[0_0_15px_rgba(192,38,211,0.3)]",children:"Save Exam Data"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map($=>a.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 hover:border-brand-purple/50 rounded-2xl p-6 shadow-xl transition-all group backdrop-blur-sm",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("span",{className:`text-[10px] font-bold px-3 py-1 rounded-full border shadow-sm ${$.status==="Published"?"bg-green-900/20 text-green-400 border-green-800":"bg-gray-800 text-gray-500 border-gray-700"}`,children:$.status}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>ea($),className:"text-gray-400 hover:text-brand-purple p-2 hover:bg-brand-purple/10 rounded-lg transition-colors",children:a.jsx(gc,{size:16})}),a.jsx("button",{onClick:()=>r(n.filter(je=>je.id!==$.id)),className:"text-gray-400 hover:text-red-500 p-2 hover:bg-red-500/10 rounded-lg transition-colors",children:a.jsx(Lt,{size:16})})]})]}),a.jsx("h3",{className:"font-bold text-gray-200 mt-2 text-lg",children:$.title}),a.jsxs("div",{className:"mt-6 p-4 bg-gray-950/50 rounded-xl border border-gray-800 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center text-[11px] tracking-wide",children:[a.jsx("span",{className:"text-gray-500 font-bold uppercase",children:"Language"}),a.jsx("span",{className:"font-bold text-gray-200",children:$.language})]}),a.jsxs("div",{className:"flex justify-between items-center text-[11px] tracking-wide",children:[a.jsx("span",{className:"text-gray-500 font-bold uppercase",children:"Active Rule"}),a.jsx("span",{className:"font-bold text-brand-purple",children:$.ruleSet})]}),$.liveStatus&&$.liveStatus!=="Past"&&a.jsxs("div",{className:"flex justify-between items-center text-[11px] bg-red-900/20 p-2 rounded border border-red-900/50",children:[a.jsx("span",{className:"text-red-400 font-bold uppercase",children:"Live Mode"}),a.jsxs("span",{className:"font-bold text-red-500",children:[$.liveStatus," ",$.liveDate&&`(${$.liveDate})`]})]})]})]},$.id))})]})},$v=({settings:n,setSettings:r})=>{var h,p,g;const[s,l]=D.useState("identity"),c=(m,v)=>{r({...n,[m]:v})},u=[{id:"identity",label:"Site Identity",icon:Ei},{id:"payments",label:"Payments",icon:qf},{id:"access",label:"User Access",icon:Xf},{id:"comm",label:"Communication",icon:Jf},{id:"sales",label:"Sales Logic",icon:Nv},{id:"content",label:"Dynamic UI",icon:tc},{id:"marketing",label:"Marketing",icon:wv},{id:"support",label:"Support",icon:iv},{id:"health",label:"System Health",icon:Qh}];return a.jsxs("div",{className:"flex gap-8 h-[calc(100vh-180px)] overflow-hidden",children:[a.jsxs("div",{className:"w-64 shrink-0 flex flex-col gap-1 overflow-y-auto pr-2 custom-scrollbar",children:[a.jsx("h3",{className:"px-4 text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Settings Categories"}),u.map(m=>a.jsxs("button",{onClick:()=>l(m.id),className:`flex items-center gap-3 px-4 py-3 rounded-xl font-bold transition-all text-sm ${s===m.id?"bg-brand-purple text-white shadow-lg shadow-purple-900/20":"text-gray-400 hover:bg-gray-800/50 hover:text-white"}`,children:[a.jsx(m.icon,{size:18,className:s===m.id?"text-white":"text-gray-500"}),m.label]},m.id))]}),a.jsxs("div",{className:"flex-1 flex flex-col bg-gray-900/30 border border-gray-800 rounded-2xl overflow-hidden backdrop-blur-sm",children:[a.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-gray-900/50",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-display font-bold text-white capitalize",children:[s.replace("-"," ")," Settings"]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Configure your platform's ",s," parameters."]})]}),a.jsxs("button",{onClick:async()=>{await Te($e()),alert("Settings Synchronized Successfully!")},className:"btn-primary flex items-center gap-2",children:[a.jsx(Ys,{size:16})," Sync to Live"]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-8 custom-scrollbar",children:[s==="identity"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Site Name"}),a.jsx("input",{className:"input-field",value:n.siteName,onChange:m=>c("siteName",m.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Site Tagline"}),a.jsx("input",{className:"input-field",value:n.siteTagline,onChange:m=>c("siteTagline",m.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Favicon URL"}),a.jsx("input",{className:"input-field",value:n.faviconUrl,onChange:m=>c("faviconUrl",m.target.value),placeholder:"https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Logo (Light Mode)"}),a.jsx("input",{className:"input-field",value:n.logoLightUrl,onChange:m=>c("logoLightUrl",m.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Timezone"}),a.jsxs("select",{className:"input-field",value:n.timezone,onChange:m=>c("timezone",m.target.value),children:[a.jsx("option",{value:"Asia/Kolkata",children:"Asia/Kolkata (IST)"}),a.jsx("option",{value:"UTC",children:"UTC"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Currency Symbol"}),a.jsx("input",{className:"input-field",value:n.currencySymbol,onChange:m=>c("currencySymbol",m.target.value)})]})]}),a.jsxs("div",{className:"border-t border-gray-800 pt-6",children:[a.jsxs("h4",{className:"font-bold text-gray-200 mb-4 flex items-center gap-2",children:[a.jsx(Ei,{size:16})," SEO & Metadata"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Homepage Title (SEO)"}),a.jsx("input",{className:"input-field",value:n.seoTitle,onChange:m=>c("seoTitle",m.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Meta Keywords"}),a.jsx("input",{className:"input-field",value:n.seoKeywords,onChange:m=>c("seoKeywords",m.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Robots.txt Content"}),a.jsx("textarea",{className:"input-field h-24 font-mono text-xs",value:n.robotsTxt||"",onChange:m=>c("robotsTxt",m.target.value)})]})]})]}),a.jsxs("div",{className:"border-t border-gray-800 pt-6",children:[a.jsxs("h4",{className:"font-bold text-gray-200 mb-4 flex items-center gap-2",children:[a.jsx(jv,{size:16})," Maintenance Control"]}),a.jsxs("div",{className:"bg-gray-900 p-4 rounded-xl border border-gray-800 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold text-gray-200",children:'Global "Site Off" / Maintenance Mode'}),a.jsx("div",{className:"text-xs text-gray-500",children:"Enable this to prevent non-admin users from accessing the site."})]}),a.jsx("button",{onClick:()=>c("maintenanceMode",!n.maintenanceMode),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.maintenanceMode?"bg-red-600":"bg-gray-700"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.maintenanceMode?"translate-x-6":"translate-x-1"}`})})]}),n.maintenanceMode&&a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"label-sm",children:"Custom Maintenance Message"}),a.jsx("textarea",{className:"input-field h-20",value:n.maintenanceMessage,onChange:m=>c("maintenanceMessage",m.target.value)})]})]})]}),s==="payments"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-2xl border border-gray-800",children:[a.jsxs("h4",{className:"font-bold text-gray-200 mb-4 flex items-center gap-2",children:[a.jsx($o,{size:16})," Razorpay"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Key ID"}),a.jsx("input",{className:"input-field font-mono text-xs",value:n.razorpayKeyId,onChange:m=>c("razorpayKeyId",m.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Key Secret"}),a.jsx("input",{className:"input-field font-mono text-xs",type:"password",value:n.razorpaySecret,onChange:m=>c("razorpaySecret",m.target.value)})]})]})]}),a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-2xl border border-gray-800",children:[a.jsxs("h4",{className:"font-bold text-gray-200 mb-4 flex items-center gap-2",children:[a.jsx(an,{size:16})," Mode & UPI"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Payment Mode"}),a.jsxs("select",{className:"input-field",value:n.paymentMode,onChange:m=>c("paymentMode",m.target.value),children:[a.jsx("option",{value:"Sandbox",children:"Sandbox (Test Mode)"}),a.jsx("option",{value:"Live",children:"Live (Production Mode)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Manual UPI ID"}),a.jsx("input",{className:"input-field",value:n.upiId,onChange:m=>c("upiId",m.target.value),placeholder:"merchant@upi"})]})]})]})]}),a.jsxs("div",{className:"border-t border-gray-800 pt-6",children:[a.jsxs("h4",{className:"font-bold text-gray-200 mb-4 flex items-center gap-2",children:[a.jsx(xv,{size:16})," Invoicing System"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Invoice Prefix"}),a.jsx("input",{className:"input-field",value:n.invoicePrefix,onChange:m=>c("invoicePrefix",m.target.value),placeholder:"TN-2026-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Tax Rate (%)"}),a.jsx("input",{className:"input-field",type:"number",value:n.taxRate,onChange:m=>c("taxRate",Number(m.target.value))})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"label-sm",children:"Company Billing Address"}),a.jsx("textarea",{className:"input-field h-20",value:n.companyAddress,onChange:m=>c("companyAddress",m.target.value)})]})]})]})]}),s==="access"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-2xl border border-gray-800",children:[a.jsxs("h4",{className:"font-bold text-gray-200 mb-4 flex items-center gap-2",children:[a.jsx(Yh,{size:16})," Session Security"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Multi-Device Login Limit"}),a.jsx("input",{className:"input-field",type:"number",value:n.multiDeviceLimit,onChange:m=>c("multiDeviceLimit",Number(m.target.value))}),a.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"Number of screens a user can be logged into simultaneously."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Session Timeout (Hours)"}),a.jsx("input",{className:"input-field",type:"number",value:n.sessionTimeout,onChange:m=>c("sessionTimeout",Number(m.target.value))})]})]})]}),a.jsxs("div",{className:"bg-gray-800/30 p-6 rounded-2xl border border-gray-800",children:[a.jsxs("h4",{className:"font-bold text-gray-200 mb-4 flex items-center gap-2",children:[a.jsx(tv,{size:16})," Restricted Access"]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Global IP Ban List (Comma-separated)"}),a.jsx("textarea",{className:"input-field h-24 font-mono text-xs",value:((h=n.ipBanList)==null?void 0:h.join(", "))||"",onChange:m=>c("ipBanList",m.target.value.split(",").map(v=>v.trim())),placeholder:"1.2.3.4, 5.6.7.8"})]})]})]}),s==="comm"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-2xl border border-gray-800",children:[a.jsxs("h4",{className:"font-bold text-gray-200 mb-4 flex items-center gap-2",children:[a.jsx(Yf,{size:16})," SMTP / Email Server"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Host"}),a.jsx("input",{className:"input-field font-mono text-xs",value:n.smtpHost,onChange:m=>c("smtpHost",m.target.value),placeholder:"smtp.gmail.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Port"}),a.jsx("input",{className:"input-field font-mono text-xs",value:n.smtpPort,onChange:m=>c("smtpPort",Number(m.target.value)),placeholder:"587"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Username"}),a.jsx("input",{className:"input-field font-mono text-xs",value:n.smtpUser,onChange:m=>c("smtpUser",m.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Password"}),a.jsx("input",{className:"input-field font-mono text-xs",type:"password",value:n.smtpPass,onChange:m=>c("smtpPass",m.target.value)})]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-gray-200 mb-4 flex items-center gap-2",children:[a.jsx(mv,{size:16})," API Gateways"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"SMS Gateway API URL"}),a.jsx("input",{className:"input-field",value:n.smsApiUrl,onChange:m=>c("smsApiUrl",m.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"WhatsApp API Key"}),a.jsx("input",{className:"input-field",value:n.whatsappApiKey,onChange:m=>c("whatsappApiKey",m.target.value)})]})]})]})]}),s==="sales"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-2xl border border-gray-800",children:[a.jsxs("h4",{className:"font-bold text-gray-200 mb-4 flex items-center gap-2",children:[a.jsx(kv,{size:16})," Bulk Discount Rules"]}),a.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Set rules for multi-license or bulk package purchases."}),a.jsxs("div",{className:"space-y-3",children:[(n.bulkDiscounts||[]).map((m,v)=>a.jsxs("div",{className:"flex gap-4 items-end",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"label-sm",children:"Min Quantity"}),a.jsx("input",{className:"input-field",type:"number",value:m.minQty,onChange:w=>{const b=[...n.bulkDiscounts||[]];b[v].minQty=Number(w.target.value),c("bulkDiscounts",b)}})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"label-sm",children:"Discount %"}),a.jsx("input",{className:"input-field",type:"number",value:m.discount,onChange:w=>{const b=[...n.bulkDiscounts||[]];b[v].discount=Number(w.target.value),c("bulkDiscounts",b)}})]}),a.jsx("button",{onClick:()=>{const w=(n.bulkDiscounts||[]).filter((b,k)=>k!==v);c("bulkDiscounts",w)},className:"btn-secondary text-red-400 hover:text-red-300 h-[38px]",children:a.jsx(Lt,{size:16})})]},v)),a.jsxs("button",{onClick:()=>c("bulkDiscounts",[...n.bulkDiscounts||[],{minQty:10,discount:5}]),className:"btn-primary flex items-center gap-2 text-xs",children:[a.jsx(Gt,{size:14})," Add Rule"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsx("div",{className:"bg-gray-800/20 p-4 rounded-xl border border-gray-800",children:a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:n.contentDripEnabled,onChange:m=>c("contentDripEnabled",m.target.checked)}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-bold text-gray-200",children:"Scheduled Content Unlock"}),a.jsx("p",{className:"text-[10px] text-gray-500",children:"Enable drip content logic for courses."})]})]})}),a.jsxs("div",{className:"bg-gray-800/20 p-4 rounded-xl border border-gray-800",children:[a.jsx("label",{className:"label-sm",children:"Expiry Reminders (Days before)"}),a.jsx("input",{className:"input-field",value:((p=n.expiryReminders)==null?void 0:p.join(", "))||"",onChange:m=>c("expiryReminders",m.target.value.split(",").map(v=>parseInt(v.trim())))})]})]})]}),s==="content"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-gray-800/20 p-6 rounded-2xl border border-gray-800",children:[a.jsxs("h4",{className:"font-bold text-gray-200 mb-6 flex items-center gap-2",children:[a.jsx($o,{size:16})," Homepage Hero Section"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Hero Title"}),a.jsx("input",{className:"input-field",value:n.heroTitle,onChange:m=>c("heroTitle",m.target.value),placeholder:"India's #1 Platform for..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Hero Subtitle"}),a.jsx("textarea",{className:"input-field h-20",value:n.heroSubtitle,onChange:m=>c("heroSubtitle",m.target.value)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"CTA Button Text"}),a.jsx("input",{className:"input-field",value:n.heroCTAText,onChange:m=>c("heroCTAText",m.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"CTA Target Link"}),a.jsx("input",{className:"input-field font-mono text-xs",value:n.heroCTALink,onChange:m=>c("heroCTALink",m.target.value)})]})]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-gray-200 mb-4 flex items-center gap-2",children:[a.jsx(tc,{size:16})," Homepage Banners"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[(n.homeBanners||[]).map((m,v)=>a.jsxs("div",{className:"p-4 bg-gray-900 border border-gray-700 rounded-xl relative group",children:[a.jsx("button",{onClick:()=>{const w=(n.homeBanners||[]).filter((b,k)=>k!==v);c("homeBanners",w)},className:"absolute top-2 right-2 p-1.5 bg-gray-800 text-red-400 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Lt,{size:14})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Image URL"}),a.jsx("input",{className:"input-field",value:m.image,onChange:w=>{const b=[...n.homeBanners||[]];b[v].image=w.target.value,c("homeBanners",b)}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Target Link"}),a.jsx("input",{className:"input-field",value:m.link,onChange:w=>{const b=[...n.homeBanners||[]];b[v].link=w.target.value,c("homeBanners",b)}})]})]}),a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:m.active,onChange:w=>{const b=[...n.homeBanners||[]];b[v].active=w.target.checked,c("homeBanners",b)}}),a.jsx("span",{className:"text-xs text-gray-400",children:"Active"})]})]},v)),a.jsxs("div",{className:"p-4 bg-gray-900 border border-dashed border-gray-700 rounded-xl text-center hover:bg-gray-800/50 transition-colors cursor-pointer",onClick:()=>c("homeBanners",[...n.homeBanners||[],{id:Date.now(),image:"",link:"",active:!0}]),children:[a.jsxs("button",{className:"text-brand-purple text-sm font-bold flex items-center gap-2 mx-auto",children:[a.jsx(Gt,{size:16})," Add New Banner"]}),a.jsx("p",{className:"text-[10px] text-gray-500 mt-2",children:"Recommended size: 1920x600px"})]})]})]}),a.jsxs("div",{className:"border-t border-gray-800 pt-6",children:[a.jsxs("h4",{className:"font-bold text-gray-200 mb-4 flex items-center gap-2",children:[a.jsx($o,{size:16})," Live Exam Configuration"]}),a.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold text-gray-200",children:"Enable 24h Auto-Live Exam"}),a.jsx("div",{className:"text-xs text-gray-500",children:'Automatically rotates a random "Published" exam as the "Live" exam every 24 hours.'})]}),a.jsx("button",{onClick:()=>c("autoLiveExamEnabled",!n.autoLiveExamEnabled),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.autoLiveExamEnabled!==!1?"bg-brand-purple":"bg-gray-700"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.autoLiveExamEnabled!==!1?"translate-x-6":"translate-x-1"}`})})]})]}),a.jsxs("div",{className:"border-t border-gray-800 pt-6",children:[a.jsxs("h4",{className:"font-bold text-gray-200 mb-4 flex items-center gap-2",children:[a.jsx(Yh,{size:16})," Practice Lab (Exam Library)"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Practice Lab Title"}),a.jsx("input",{className:"input-field",value:n.practiceLabTitle||"Choose Your Exam",onChange:m=>c("practiceLabTitle",m.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Practice Lab Subtitle"}),a.jsx("input",{className:"input-field",value:n.practiceLabSubtitle||"Pick your target exam category and start mastering your typing speed today.",onChange:m=>c("practiceLabSubtitle",m.target.value)})]}),a.jsxs("div",{className:"bg-gray-800/20 p-4 rounded-xl border border-gray-800 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold text-gray-200",children:"Show Social Proof (Student Count)"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Displays a random (2000+) count on each exam category."})]}),a.jsx("button",{onClick:()=>c("showStudentCount",!n.showStudentCount),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.showStudentCount?"bg-green-600":"bg-gray-700"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.showStudentCount?"translate-x-6":"translate-x-1"}`})})]})]})]}),a.jsxs("div",{className:"border-t border-gray-800 pt-6",children:[a.jsxs("h4",{className:"font-bold text-gray-200 mb-4 flex items-center gap-2",children:[a.jsx(yv,{size:16})," Legal Page Editor"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Refund & Cancellation Policy"}),a.jsx("textarea",{className:"input-field h-32",value:n.legalRefund,onChange:m=>c("legalRefund",m.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Privacy Policy"}),a.jsx("textarea",{className:"input-field h-32",value:n.legalPrivacy,onChange:m=>c("legalPrivacy",m.target.value)})]})]})]})]}),s==="marketing"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-blue-900/10 p-6 rounded-2xl border border-blue-900/30",children:[a.jsxs("h4",{className:"font-bold text-blue-400 mb-4 flex items-center gap-2",children:[a.jsx(rv,{size:16})," Tracking & Scripts"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Google Analytics ID"}),a.jsx("input",{className:"input-field font-mono text-xs",value:n.googleAnalyticsId,onChange:m=>c("googleAnalyticsId",m.target.value),placeholder:"G-XXXXXXXXXX"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Facebook Pixel ID"}),a.jsx("input",{className:"input-field font-mono text-xs",value:n.facebookPixelId,onChange:m=>c("facebookPixelId",m.target.value)})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"label-sm",children:"Custom Header Scripts"}),a.jsx("textarea",{className:"input-field h-24 font-mono text-[10px]",value:n.customHeaderScripts,onChange:m=>c("customHeaderScripts",m.target.value),placeholder:"<script>...<\/script>"})]})]}),a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-2xl border border-gray-800",children:[a.jsxs("h4",{className:"font-bold text-gray-200 mb-4 flex items-center gap-2",children:[a.jsx(vv,{size:16})," Affiliate & Referral"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer bg-gray-900 p-3 rounded-xl border border-gray-800",children:[a.jsx("input",{type:"checkbox",checked:n.affiliateEnabled,onChange:m=>c("affiliateEnabled",m.target.checked)}),a.jsx("span",{className:"text-sm text-gray-300 font-bold uppercase",children:"Enable Affiliate System"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Commission Rate (%)"}),a.jsx("input",{className:"input-field",type:"number",value:n.affiliateCommission,onChange:m=>c("affiliateCommission",Number(m.target.value))})]})]})]})]}),s==="support"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-2xl border border-gray-800",children:[a.jsxs("h4",{className:"font-bold text-gray-200 mb-4 flex items-center gap-2",children:[a.jsx(lv,{size:16})," Helpdesk Rules"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Support Departments (Comma separated)"}),a.jsx("input",{className:"input-field",value:((g=n.supportDepartments)==null?void 0:g.join(", "))||"",onChange:m=>c("supportDepartments",m.target.value.split(",").map(v=>v.trim()))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Auto-Response Confirmation Message"}),a.jsx("textarea",{className:"input-field h-24",value:n.supportAutoReply,onChange:m=>c("supportAutoReply",m.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Escalation Threshold (Hours)"}),a.jsx("input",{className:"input-field w-32",type:"number",value:n.escalationHours,onChange:m=>c("escalationHours",Number(m.target.value))})]})]})]})}),s==="health"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:()=>alert("Cache cleared successfully!"),className:"flex flex-col items-center justify-center p-8 bg-gray-900 border border-gray-800 rounded-2xl hover:bg-gray-800 transition-all group",children:[a.jsx(fc,{size:32,className:"text-orange-500 mb-2 group-hover:rotate-180 transition-transform duration-500"}),a.jsx("span",{className:"font-bold text-white",children:"Clear System Cache"}),a.jsx("span",{className:"text-[10px] text-gray-500 uppercase mt-1",children:"Force update frontend stores"})]}),a.jsxs("button",{onClick:()=>alert("Manual backup initiated. Check your email when ready."),className:"flex flex-col items-center justify-center p-8 bg-gray-900 border border-gray-800 rounded-2xl hover:bg-gray-800 transition-all group",children:[a.jsx(ec,{size:32,className:"text-blue-500 mb-2 group-hover:scale-110 transition-transform"}),a.jsx("span",{className:"font-bold text-white",children:"Download DB Backup"}),a.jsx("span",{className:"text-[10px] text-gray-500 uppercase mt-1",children:"Full database dump (SQL/JSON)"})]})]}),a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-2xl border border-gray-800",children:[a.jsxs("h4",{className:"font-bold text-gray-200 mb-4 flex items-center gap-2",children:[a.jsx(Qh,{size:16})," Advanced Health Rules"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer bg-gray-950 p-3 rounded-xl border border-gray-800",children:[a.jsx("input",{type:"checkbox",checked:n.autoBackupEnabled,onChange:m=>c("autoBackupEnabled",m.target.checked)}),a.jsx("span",{className:"text-sm text-gray-300 font-bold uppercase",children:"Enable Auto Backups"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Backup Interval (Hours)"}),a.jsx("input",{className:"input-field",type:"number",value:n.backupIntervalHours,onChange:m=>c("backupIntervalHours",Number(m.target.value))})]})]})]})]})]})]})]})},zv=({ads:n,setAds:r})=>{const[s,l]=D.useState({imageUrl:"",linkUrl:"",position:"RightSidebar"}),c=()=>{r([...n,{id:Date.now(),...s,isActive:!0}]),l({imageUrl:"",linkUrl:"",position:"RightSidebar"})},u=h=>{r(n.filter(p=>p.id!==h))};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold font-display",children:"Ad Management"}),a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-xl border border-gray-800 shadow-sm space-y-4",children:[a.jsx("h3",{className:"font-bold text-gray-200",children:"Create New Ad Unit"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Image URL"}),a.jsx("input",{className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple",placeholder:"https://...",value:s.imageUrl,onChange:h=>l({...s,imageUrl:h.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Destination Link"}),a.jsx("input",{className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple",placeholder:"https://...",value:s.linkUrl,onChange:h=>l({...s,linkUrl:h.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Position"}),a.jsxs("select",{className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple",value:s.position,onChange:h=>l({...s,position:h.target.value}),children:[a.jsx("option",{value:"TopBanner",children:"Top Banner (Above Hero)"}),a.jsx("option",{value:"LeftSidebar",children:"Left Sidebar"}),a.jsx("option",{value:"RightSidebar",children:"Right Sidebar"}),a.jsx("option",{value:"Footer",children:"Footer (Above Copyright)"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:c,className:"btn-primary w-full",children:"Add Advertisement"})})]})]}),a.jsxs("div",{className:"grid gap-4",children:[n.map(h=>a.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-xl border border-gray-800 flex gap-4 items-center",children:[a.jsx("img",{src:h.imageUrl,alt:"Ad",className:"w-20 h-20 object-cover rounded bg-gray-100"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-sm bg-gray-100 px-2 py-1 rounded inline-block mb-1",children:h.position}),a.jsx("div",{className:"text-xs text-gray-500 truncate",children:h.linkUrl})]}),a.jsx("button",{onClick:()=>u(h.id),className:"p-2 text-red-500 hover:bg-red-50 p-2 rounded",children:a.jsx(Lt,{size:18})})]},h.id)),n.length===0&&a.jsx("div",{className:"text-center text-gray-400 py-8",children:"No active advertisements."})]})]})},Bv=n=>n?new Date().getTime()-new Date(n).getTime()<300*1e3:!1,Fv=({users:n,setUsers:r,toggleUserStatus:s,deleteUser:l})=>{const[c,u]=D.useState([]),[h,p]=D.useState(!0),[g,m]=D.useState(!1),[v,w]=D.useState(null),[b,k]=D.useState({name:"",email:"",plan:"Free",role:"User",status:"Active",purchasedPackIds:[],password:""}),[x,T]=D.useState([]),[N,R]=D.useState("All"),[_,P]=D.useState("All"),[M,V]=D.useState("All"),[q,ne]=D.useState("All"),[Z,be]=D.useState(""),Fe=$e(),ve=Fe.comboPacks||[],Se=Fe.plans||[];D.useEffect(()=>{Ae()},[]);const Ae=async()=>{p(!0);const{fetchAppUsers:C}=await ji(async()=>{const{fetchAppUsers:se}=await Promise.resolve().then(()=>Uo);return{fetchAppUsers:se}},void 0),ae=(await C()).map(se=>({...se,purchasedPackIds:se.purchasedPackIds||[]}));u(ae),p(!1)},me=c.filter(C=>{var ye,ie;const K=(((ye=C.name)==null?void 0:ye.toLowerCase())||"").includes(Z.toLowerCase())||(((ie=C.email)==null?void 0:ie.toLowerCase())||"").includes(Z.toLowerCase()),ae=N==="All"||C.role===N,se=_==="All"||(C.plan||"Free")===_,he=M==="All"||(C.status||"Active")===M,pe=q==="All"||C.purchasedPackIds&&C.purchasedPackIds.includes(q);return K&&ae&&se&&he&&pe}),G=C=>{C.target.checked?T(me.map(K=>K.id)):T([])},ge=C=>{x.includes(C)?T(x.filter(K=>K!==C)):T([...x,C])},fe=C=>{const K=C.toString();b.purchasedPackIds.includes(K)?k({...b,purchasedPackIds:b.purchasedPackIds.filter(ae=>ae!==K)}):k({...b,purchasedPackIds:[...b.purchasedPackIds,K]})},F=C=>{w(C.id),k({name:C.name,email:C.email,plan:C.plan,role:C.role,status:C.status,purchasedPackIds:C.purchasedPackIds||[],password:""}),m(!0)},W=async()=>{const{updateAppUser:C,sendPasswordReset:K}=await ji(async()=>{const{updateAppUser:se,sendPasswordReset:he}=await Promise.resolve().then(()=>Uo);return{updateAppUser:se,sendPasswordReset:he}},void 0),ae={name:b.name,plan:b.plan,role:b.role,status:b.status,purchasedPackIds:b.purchasedPackIds};v?await C(v,ae)?(ep({adminName:"Admin",action:"User Updated",details:`Updated ${b.email}: Role=${b.role}, Plan=${b.plan}`,type:"success"}),u(c.map(he=>he.id===v?{...he,...ae}:he)),m(!1)):alert("Failed to update user in database."):alert("Please ask user to Sign Up via the website. Admins can only edit existing users for security.")},S=async()=>{if(b.email&&confirm(`Send password reset email to ${b.email}?`)){const{sendPasswordReset:C}=await ji(async()=>{const{sendPasswordReset:se}=await Promise.resolve().then(()=>Uo);return{sendPasswordReset:se}},void 0),{success:K,msg:ae}=await C(b.email);alert(ae)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold font-display text-white",children:"User Management"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Manage students, assign plans, and control access."})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx("button",{onClick:Ae,className:"btn-secondary",children:a.jsx(fc,{size:16})})})]}),a.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 p-4 rounded-xl flex flex-wrap gap-4 items-center",children:[a.jsxs("div",{className:"flex-1 min-w-[200px] relative",children:[a.jsx(Qf,{size:16,className:"absolute left-3 top-2.5 text-gray-500"}),a.jsx("input",{className:"input-field pl-10 bg-gray-950 border-gray-700",placeholder:"Search by name or email...",value:Z,onChange:C=>be(C.target.value)})]}),a.jsxs("select",{className:"input-field w-32 bg-gray-950 border-gray-700",value:N,onChange:C=>R(C.target.value),children:[a.jsx("option",{value:"All",children:"All Roles"}),a.jsx("option",{value:"User",children:"User"}),a.jsx("option",{value:"Admin",children:"Admin"}),a.jsx("option",{value:"Moderator",children:"Moderator"}),a.jsx("option",{value:"Super Admin",children:"Super Admin"})]}),a.jsxs("select",{className:"input-field w-32 bg-gray-950 border-gray-700",value:_,onChange:C=>P(C.target.value),children:[a.jsx("option",{value:"All",children:"All Plans"}),a.jsx("option",{value:"Free",children:"Free"}),Se.map(C=>a.jsx("option",{value:C.name,children:C.name},C.id))]}),a.jsxs("select",{className:"input-field w-40 bg-gray-950 border-gray-700",value:q,onChange:C=>ne(C.target.value),children:[a.jsx("option",{value:"All",children:"All Combo Packs"}),ve.map(C=>a.jsx("option",{value:C.id,children:C.title},C.id))]})]}),g&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:a.jsxs("div",{className:"bg-gray-900 border border-gray-700 w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:v?"Edit User Access":"Add New User"}),a.jsx("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-white",children:a.jsx(hr,{size:20})})]}),a.jsxs("div",{className:"p-6 overflow-y-auto space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Full Name"}),a.jsx("input",{type:"text",value:b.name,onChange:C=>k({...b,name:C.target.value}),className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple",placeholder:"John Doe"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Email Address"}),a.jsx("input",{type:"email",value:b.email,onChange:C=>k({...b,email:C.target.value}),className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple",placeholder:"john@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Subscription Plan"}),a.jsxs("select",{value:b.plan,onChange:C=>k({...b,plan:C.target.value}),className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple font-bold",children:[a.jsx("option",{value:"Free",children:"Free Tier"}),a.jsx("option",{value:"Pro Monthly",children:"Pro Monthly (Paid)"}),a.jsx("option",{value:"Pro Yearly",children:"Pro Yearly (Paid)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"System Role"}),a.jsxs("select",{value:b.role,onChange:C=>k({...b,role:C.target.value}),className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple",children:[a.jsx("option",{value:"User",children:"Student"}),a.jsx("option",{value:"Moderator",children:"Moderator"}),a.jsx("option",{value:"Admin",children:"Administrator"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Account Status"}),a.jsxs("select",{value:b.status,onChange:C=>k({...b,status:C.target.value}),className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple font-bold",children:[a.jsx("option",{value:"Active",children:"Active"}),a.jsx("option",{value:"Inactive",children:"Inactive"}),a.jsx("option",{value:"Banned",children:"Banned"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Security"}),a.jsx("p",{className:"text-xs text-gray-400",children:'Use the "Send Reset Email" button below to allow the student to securely change their own password.'})]})]}),a.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-xl border border-gray-800 mb-4",children:[a.jsxs("h4",{className:"font-bold text-gray-200 mb-3 text-sm flex items-center gap-2",children:[a.jsx(Ti,{size:16,className:"text-brand-purple"})," Grant Combo Pack Access"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:[ve.length===0&&a.jsx("span",{className:"text-gray-500 text-xs italic",children:"No combo packs available. Create one in Combo Packs tab."}),ve.map(C=>a.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-gray-800 cursor-pointer border border-transparent hover:border-gray-700 transition-colors",children:[a.jsx("input",{type:"checkbox",className:"accent-brand-purple w-4 h-4 rounded",checked:b.purchasedPackIds.includes(C.id),onChange:()=>fe(C.id)}),a.jsxs("div",{className:"text-xs",children:[a.jsx("div",{className:"font-bold text-gray-300",children:C.title}),a.jsxs("div",{className:"text-gray-500",children:["",C.price]})]})]},C.id))]}),a.jsx("p",{className:"text-[10px] text-gray-400 mt-2 italic",children:"* Checked items will be accessible to this user immediately."})]}),a.jsxs("div",{className:"flex justify-between items-center mt-6",children:[a.jsx("div",{className:"flex gap-2",children:v&&a.jsxs("button",{onClick:S,className:"bg-orange-600/20 text-orange-500 border border-orange-600/50 px-3 py-2 rounded-lg text-xs font-bold hover:bg-orange-600/30 transition-colors flex items-center gap-2",children:[a.jsx(Jf,{size:14})," Send Reset Email"]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>m(!1),className:"btn-secondary",children:"Cancel"}),a.jsx("button",{onClick:W,className:"btn-primary",children:v?"Save Changes":"Create Account"})]})]})]})]})}),a.jsx("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl shadow-2xl overflow-hidden backdrop-blur-sm",children:h?a.jsx("div",{className:"p-8 text-center text-gray-400",children:"Loading users..."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-gray-800/50 text-gray-400 font-bold uppercase text-[10px] tracking-[0.2em] border-b border-gray-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 w-10",children:a.jsx("input",{type:"checkbox",checked:me.length>0&&x.length===me.length,onChange:G,className:"rounded border-gray-700 bg-gray-800 text-brand-purple focus:ring-0 focus:ring-offset-0"})}),a.jsx("th",{className:"px-6 py-4",children:"Student Profile"}),a.jsx("th",{className:"px-6 py-4",children:"Access Tier"}),a.jsx("th",{className:"px-6 py-4",children:"Combo Packs"}),a.jsx("th",{className:"px-6 py-4",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-800",children:me.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No users found matching filters."})}):me.map(C=>a.jsxs("tr",{className:`hover:bg-brand-purple/5 transition-all group ${x.includes(C.id)?"bg-brand-purple/10":""}`,children:[a.jsx("td",{className:"px-6 py-4 w-10",children:a.jsx("input",{type:"checkbox",checked:x.includes(C.id),onChange:K=>{K.stopPropagation(),ge(C.id)},className:"rounded border-gray-700 bg-gray-800 text-brand-purple focus:ring-0 focus:ring-offset-0"})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"font-bold text-gray-200 group-hover:text-white",children:C.name}),Bv(C.last_seen)&&a.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.6)]",title:"Online Now"})]}),a.jsx("div",{className:"text-[10px] text-gray-500 font-mono uppercase tracking-tight",children:C.email}),a.jsx("div",{className:"text-[10px] text-gray-600 mt-1 flex gap-2",children:a.jsxs("span",{children:["Joined: ",new Date(C.joined).toLocaleDateString()]})})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold border ${C.plan&&C.plan.includes("Pro")?"bg-brand-purple/20 text-brand-purple border-brand-purple/30":"bg-gray-800 text-gray-500 border-gray-700"}`,children:C.plan||"Free"})}),a.jsx("td",{className:"px-6 py-4",children:C.purchasedPackIds&&C.purchasedPackIds.length>0?a.jsxs("span",{className:"text-xs text-brand-purple font-bold",children:[C.purchasedPackIds.length," Packs Owned"]}):a.jsx("span",{className:"text-xs text-gray-600",children:"-"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold ${C.status==="Active"?"text-green-500 bg-green-900/10":"text-red-500 bg-red-900/10"}`,children:C.status})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("button",{onClick:()=>F(C),className:"text-brand-purple hover:text-white font-bold text-xs",children:"Edit"})})]},C.id))})]})})}),g&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:a.jsxs("div",{className:"bg-gray-900 border border-gray-700 w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit User Access"}),a.jsx("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-white",children:a.jsx(hr,{size:20})})]}),a.jsxs("div",{className:"p-6 overflow-y-auto space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Name"}),a.jsx("input",{className:"input-field",value:b.name,onChange:C=>k({...b,name:C.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Email (Read Only)"}),a.jsx("input",{className:"input-field opacity-50 cursor-not-allowed",value:b.email,disabled:!0})]})]}),a.jsxs("div",{className:"bg-gray-950/50 p-4 rounded-xl border border-gray-800 space-y-4",children:[a.jsxs("h4",{className:"font-bold text-brand-purple flex items-center gap-2",children:[a.jsx(an,{size:16})," Access Level"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Role"}),a.jsxs("select",{className:"input-field",value:b.role,onChange:C=>k({...b,role:C.target.value}),children:[a.jsx("option",{value:"User",children:"User"}),a.jsx("option",{value:"Moderator",children:"Moderator"}),a.jsx("option",{value:"Admin",children:"Admin"}),a.jsx("option",{value:"Super Admin",children:"Super Admin"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Account Status"}),a.jsxs("select",{className:"input-field",value:b.status,onChange:C=>k({...b,status:C.target.value}),children:[a.jsx("option",{value:"Active",children:"Active"}),a.jsx("option",{value:"Inactive",children:"Inactive"}),a.jsx("option",{value:"Banned",children:"Banned"})]})]})]})]}),a.jsxs("div",{className:"bg-gray-950/50 p-4 rounded-xl border border-gray-800 space-y-4",children:[a.jsxs("h4",{className:"font-bold text-green-500 flex items-center gap-2",children:[a.jsx(hc,{size:16})," Subscription & Packs"]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Primary Plan"}),a.jsxs("select",{className:"input-field",value:b.plan,onChange:C=>k({...b,plan:C.target.value}),children:[a.jsx("option",{value:"Free",children:"Free"}),Se.map(C=>a.jsx("option",{value:C.name,children:C.name},C.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm mb-2",children:"Grant Combo Packs"}),a.jsxs("div",{className:"max-h-32 overflow-y-auto bg-gray-900 border border-gray-700 rounded p-2 grid grid-cols-1 gap-1",children:[ve.map(C=>a.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-800 rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:b.purchasedPackIds.includes(C.id.toString()),onChange:()=>fe(C.id.toString()),className:"accent-brand-purple"}),a.jsx("span",{className:"text-sm text-gray-300",children:C.name})]},C.id)),ve.length===0&&a.jsx("span",{className:"text-xs text-gray-500",children:"No combo packs created yet."})]})]})]}),a.jsxs("div",{className:"border-t border-gray-800 pt-4 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-white text-sm",children:"Security"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Send a password reset link to user's email."})]}),a.jsx("button",{onClick:S,className:"text-xs font-bold bg-gray-800 hover:bg-gray-700 text-white px-3 py-2 rounded border border-gray-600",children:"Send Reset Email"})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-800 bg-gray-900 flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>m(!1),className:"btn-secondary",children:"Cancel"}),a.jsx("button",{onClick:W,className:"btn-primary shadow-lg shadow-purple-900/20",children:"Save Access Changes"})]})]})})]})},Hv=()=>a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsx("h2",{className:"text-2xl font-display font-bold text-white",children:"System Health & Analytics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-2xl border border-gray-800 backdrop-blur-sm shadow-xl",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Wf,{size:24,className:"text-blue-400"}),a.jsx("h3",{className:"font-bold text-gray-200",children:"Server Load"})]}),a.jsx("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden mb-3 border border-gray-700 shadow-inner",children:a.jsx("div",{className:"h-full bg-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.5)] w-[35%]"})}),a.jsxs("div",{className:"flex justify-between text-[10px] font-bold uppercase tracking-wider",children:[a.jsx("span",{className:"text-gray-500",children:"CPU Usage: 35%"}),a.jsx("span",{className:"text-green-400",children:"Optimal"})]})]}),a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-2xl border border-gray-800 backdrop-blur-sm shadow-xl",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(ec,{size:24,className:"text-brand-purple"}),a.jsx("h3",{className:"font-bold text-gray-200",children:"Database"})]}),a.jsx("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden mb-3 border border-gray-700 shadow-inner",children:a.jsx("div",{className:"h-full bg-brand-purple shadow-[0_0_10px_rgba(168,85,247,0.5)] w-[62%]"})}),a.jsxs("div",{className:"flex justify-between text-[10px] font-bold uppercase tracking-wider",children:[a.jsx("span",{className:"text-gray-500",children:"Storage: 62%"}),a.jsx("span",{className:"text-green-400",children:"Running Smooth"})]})]}),a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-2xl border border-gray-800 backdrop-blur-sm shadow-xl flex flex-col justify-center",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Bf,{size:24,className:"text-green-400"}),a.jsx("h3",{className:"font-bold text-gray-200",children:"API Gateway"})]}),a.jsxs("div",{className:"text-4xl font-mono font-bold text-white tracking-tighter",children:["14.2k ",a.jsx("span",{className:"text-xs text-gray-500 font-sans font-normal uppercase tracking-widest pl-2",children:"Hits / 24h"})]}),a.jsx("div",{className:"text-[10px] text-gray-500 mt-3 font-bold uppercase",children:"Avg Latency: 45ms"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-2xl p-6 backdrop-blur-sm",children:[a.jsxs("h3",{className:"font-bold text-brand-purple mb-6 flex items-center gap-2 uppercase tracking-widest text-sm",children:[a.jsx(Yf,{size:18})," Server Resources"]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2 uppercase tracking-wider text-gray-400",children:[a.jsx("span",{children:"Core CPU Load"}),a.jsx("span",{className:"text-white",children:"42%"})]}),a.jsx("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden border border-gray-700",children:a.jsx("div",{className:"h-full bg-brand-purple shadow-[0_0_10px_rgba(168,85,247,0.5)] transition-all duration-1000",style:{width:"42%"}})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2 uppercase tracking-wider text-gray-400",children:[a.jsx("span",{children:"Memory Allocation"}),a.jsx("span",{className:"text-white",children:"1.2 GB / 2.0 GB"})]}),a.jsx("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden border border-gray-700",children:a.jsx("div",{className:"h-full bg-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.5)] transition-all duration-1000",style:{width:"60%"}})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2 uppercase tracking-wider text-gray-400",children:[a.jsx("span",{children:"SSD Storage (NVMe)"}),a.jsx("span",{className:"text-white",children:"156 GB / 512 GB"})]}),a.jsx("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden border border-gray-700",children:a.jsx("div",{className:"h-full bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.5)] transition-all duration-1000",style:{width:"30%"}})})]})]})]}),a.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-2xl p-6 backdrop-blur-sm",children:[a.jsxs("h3",{className:"font-bold text-brand-purple mb-4 flex items-center gap-2 uppercase tracking-widest text-sm",children:[a.jsx(ec,{size:18})," Engine Health"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-gray-950 border border-gray-800 rounded-xl",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest mb-1",children:"Index Health"}),a.jsx("div",{className:"text-xl font-bold text-green-400 font-display",children:"OPTIMIZED"})]}),a.jsxs("div",{className:"p-4 bg-gray-950 border border-gray-800 rounded-xl",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest mb-1",children:"Latent Sync"}),a.jsx("div",{className:"text-xl font-bold text-blue-400 font-display",children:"ACTIVE"})]}),a.jsxs("div",{className:"p-4 bg-gray-950 border border-gray-800 rounded-xl",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest mb-1",children:"Backup Cycle"}),a.jsx("div",{className:"text-xs font-mono text-gray-400 mt-1",children:"EVERY 6H"})]}),a.jsxs("div",{className:"p-4 bg-gray-950 border border-gray-800 rounded-xl",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest mb-1",children:"Traffic Load"}),a.jsx("div",{className:"text-xs font-mono text-gray-400 mt-1",children:"NOMINAL (L2)"})]})]})]})]}),a.jsxs("div",{className:"bg-black text-green-400 p-6 rounded-xl font-mono text-xs overflow-hidden h-64 shadow-2xl relative",children:[a.jsx("div",{className:"absolute top-0 right-0 p-2 bg-gray-900 text-[10px] font-bold uppercase tracking-wider text-gray-500 rounded-bl-lg",children:"Live Logs"}),a.jsxs("div",{className:"space-y-1 opacity-80",children:[a.jsxs("p",{children:["[",new Date().toLocaleTimeString(),"] INFO: Server started on port 3000"]}),a.jsxs("p",{children:["[",new Date().toLocaleTimeString(),"] INFO: Database connection established (Latency: 12ms)"]}),a.jsxs("p",{children:["[",new Date().toLocaleTimeString(),"] WARN: High memory usage detected on Worker #4"]}),a.jsxs("p",{children:["[",new Date().toLocaleTimeString(),"] INFO: User 102 (Priya) authenticated via Google"]}),a.jsxs("p",{children:["[",new Date().toLocaleTimeString(),"] INFO: API /v1/exams returned 200 OK"]}),a.jsx("p",{className:"animate-pulse",children:"_"})]})]})]}),Vv=({templates:n,criteria:r,setCriteria:s})=>{var c;const l=$e();return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold font-display text-white",children:"Certificate Manager"}),a.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-6 backdrop-blur-sm",children:[a.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2 text-gray-200",children:[a.jsx(hc,{size:20,className:"text-brand-purple"})," Certificate Criteria"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Minimum WPM"}),a.jsx("input",{type:"number",className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple",value:(r==null?void 0:r.minWPM)||35,onChange:u=>s({...r,minWPM:parseInt(u.target.value)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Minimum Accuracy %"}),a.jsx("input",{type:"number",className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple",value:(r==null?void 0:r.minAccuracy)||95,onChange:u=>s({...r,minAccuracy:parseInt(u.target.value)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-sm",children:"Test Type"}),a.jsxs("select",{className:"input-field bg-gray-900 border-gray-700 text-gray-200 focus:border-brand-purple",value:(r==null?void 0:r.testType)||"Any",onChange:u=>s({...r,testType:u.target.value}),children:[a.jsx("option",{children:"Any"}),a.jsx("option",{children:"Exam"}),a.jsx("option",{children:"Practice"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>s({...r,enabled:!(r!=null&&r.enabled)}),className:`w-full py-2 rounded-lg font-bold transition-all ${r!=null&&r.enabled?"bg-green-600 text-white shadow-[0_0_10px_rgba(34,197,94,0.3)]":"bg-gray-800 text-gray-500 border border-gray-700"}`,children:r!=null&&r.enabled?" Enabled":" Disabled"})})]})]}),a.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-6 backdrop-blur-sm",children:[a.jsx("h3",{className:"font-bold mb-4 text-gray-200",children:"Certificate Templates"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(c=l.certificateTemplates)==null?void 0:c.map(u=>a.jsxs("div",{className:"bg-gray-950/50 border border-gray-800 rounded-2xl p-6 group hover:border-brand-purple transition-all relative overflow-hidden backdrop-blur-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-100 text-lg",children:u.name}),a.jsxs("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold mt-1",children:["Template Code: ",u.id]})]}),a.jsx("div",{className:`p-2 rounded-lg ${u.active?"bg-green-900/20 text-green-400 border border-green-800":"bg-gray-800 text-gray-500 border border-gray-700"}`,children:u.active?a.jsx(Zo,{size:20}):a.jsx(Sv,{size:20})})]}),a.jsx("div",{className:"aspect-video bg-gray-900 rounded-xl border border-gray-800 flex items-center justify-center mb-6 shadow-inner group-hover:border-brand-purple/30 transition-colors",children:a.jsx(tc,{size:48,className:"text-gray-800 group-hover:text-brand-purple/20 transition-colors"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"flex-1 btn-secondary text-xs uppercase tracking-widest font-bold",children:"Edit Design"}),a.jsx("button",{className:"flex-1 btn-primary text-xs uppercase tracking-widest font-bold border border-brand-purple/50",children:"Preview"})]})]},u.id))})]})]})},Wv=({announcements:n,setAnnouncements:r})=>{const[s,l]=D.useState({message:"",type:"Info",isActive:!0}),c=()=>{if(!s.message)return;const p={id:`ann-${Date.now()}`,...s,expiryDate:new Date(Date.now()+10080*60*1e3).toISOString()};r([p,...n]),l({message:"",type:"Info",isActive:!0}),ep({adminName:"Admin",action:"Announcement Created",details:`Created: ${s.message}`,type:"info"})},u=p=>{r(n.filter(g=>g.id!==p))},h=p=>{r(n.map(g=>g.id===p?{...g,isActive:!g.isActive}:g))};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsx("h2",{className:"text-2xl font-bold font-display text-white",children:"Announcement Bar"}),a.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[a.jsx("h3",{className:"font-bold text-gray-200 mb-4",children:"Create New Announcement"}),a.jsxs("div",{className:"flex gap-4 items-end",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"label-sm",children:"Message"}),a.jsx("input",{className:"input-field bg-gray-950 border-gray-700",value:s.message,onChange:p=>l({...s,message:p.target.value}),placeholder:"e.g., Server Maintenance tonight at 10 PM"})]}),a.jsxs("div",{className:"w-32",children:[a.jsx("label",{className:"label-sm",children:"Type"}),a.jsxs("select",{className:"input-field bg-gray-950 border-gray-700",value:s.type,onChange:p=>l({...s,type:p.target.value}),children:[a.jsx("option",{children:"Info"}),a.jsx("option",{children:"Warning"}),a.jsx("option",{children:"Success"}),a.jsx("option",{children:"Danger"})]})]}),a.jsxs("button",{onClick:c,className:"btn-primary h-[38px] flex items-center gap-2",children:[a.jsx(Gt,{size:16})," Publish"]})]})]}),a.jsx("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-gray-800 text-gray-400",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:"Message"}),a.jsx("th",{className:"p-4",children:"Type"}),a.jsx("th",{className:"p-4",children:"Status"}),a.jsx("th",{className:"p-4 text-right",children:"Action"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-800",children:[n.map(p=>a.jsxs("tr",{className:"hover:bg-gray-800/50",children:[a.jsx("td",{className:"p-4 font-bold text-gray-200",children:p.message}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold border ${p.type==="Info"?"bg-blue-900/20 text-blue-400 border-blue-800":p.type==="Warning"?"bg-yellow-900/20 text-yellow-400 border-yellow-800":p.type==="Success"?"bg-green-900/20 text-green-400 border-green-800":"bg-red-900/20 text-red-400 border-red-800"}`,children:p.type})}),a.jsx("td",{className:"p-4",children:a.jsx("button",{onClick:()=>h(p.id),className:`text-xs font-bold ${p.isActive?"text-green-400":"text-gray-500"}`,children:p.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"p-4 text-right",children:a.jsx("button",{onClick:()=>u(p.id),className:"text-red-400 hover:text-red-300",children:a.jsx(Lt,{size:16})})})]},p.id)),n.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"p-8 text-center text-gray-500",children:"No announcements."})})]})]})})]})},Nt=({id:n,activeTab:r,setActiveTab:s,icon:l,label:c})=>a.jsxs("button",{onClick:()=>s(n),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold transition-all text-sm group ${r===n?"bg-brand-purple text-white shadow-[0_0_15px_rgba(168,85,247,0.4)]":"text-gray-400 hover:bg-gray-800/50 hover:text-white"}`,children:[a.jsx(l,{size:20,className:`${r===n?"text-white":"text-gray-500 group-hover:text-brand-purple"} transition-colors`}),a.jsx("span",{children:c})]}),qv=()=>{var N,R;const[n,r]=D.useState("dashboard"),[s,l]=D.useState(null),[c,u]=D.useState(null),[h,p]=D.useState(!1),[g,m]=D.useState(0),v=cc();D.useEffect(()=>{(async()=>{try{const M=$e();M&&l(M),await Of();const V=$e();V&&l(V)}catch(M){console.error("Store Load Error:",M),u(M.message||"Failed to load persistence layer")}})();const P=()=>{try{l($e())}catch(M){console.error(M)}};return window.addEventListener("adminStoreUpdate",P),()=>window.removeEventListener("adminStoreUpdate",P)},[]),D.useEffect(()=>{(async()=>{const{count:P,error:M}=await Ue.from("profiles").select("*",{count:"exact",head:!0});!M&&P!==null&&m(P)})()},[]);const w=()=>{localStorage.removeItem("ar_typing_admin_store_v2"),window.location.reload()};if(c)return a.jsxs("div",{className:"p-10 text-red-600",children:["Error: ",c," ",a.jsx("button",{onClick:w,children:"Reset"})]});if(!s)return a.jsx("div",{className:"p-10",children:"Loading..."});const{currentUser:b,logout:k}=Xo(),x=((s==null?void 0:s.payments)||[]).reduce((_,P)=>{try{const M=(P==null?void 0:P.amount)!==void 0&&(P==null?void 0:P.amount)!==null?P.amount:0,V=parseFloat(M.toString().replace(/[^0-9.-]+/g,""));return _+(isNaN(V)?0:V)}catch{return _}},0),T=[{label:"Total Students",value:g||((N=s==null?void 0:s.users)==null?void 0:N.length)||0,change:"+0%",icon:a.jsx(nc,{size:20,className:"text-blue-600"})},{label:"Revenue",value:`${x.toLocaleString()}`,change:"+0%",icon:a.jsx(Kf,{size:20,className:"text-green-600"})},{label:"Active Plans",value:((s==null?void 0:s.users)||[]).filter(_=>(_==null?void 0:_.plan)!=="Basic").length,change:"Current",icon:a.jsx(qf,{size:20,className:"text-brand-purple"})}];return a.jsxs("div",{className:"flex h-screen bg-gray-950 overflow-hidden font-sans relative",children:[a.jsx("style",{children:".label-sm { font-size: 10px; font-weight: 700; color: #9CA3AF; text-transform: uppercase; display: block; margin-bottom: 4px; } .input-field { width: 100%; padding: 8px; border: 1px solid #374151; background-color: #111827; color: #e5e7eb; border-radius: 6px; font-size: 14px; outline: none; transition: border-color 0.2s; } .input-field:focus { border-color: #c026d3; } .btn-primary { background: #c026d3; color: white; padding: 8px 16px; border-radius: 8px; font-size: 14px; font-weight: 700; transition: background 0.2s; } .btn-primary:hover { background: #a21caf; } .btn-secondary { color: #9CA3AF; padding: 8px 16px; font-size: 14px; font-weight: 700; } .btn-secondary:hover { color: #e5e7eb; }"}),h&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden animate-in fade-in duration-200",onClick:()=>p(!1)}),a.jsxs("aside",{className:`fixed md:static inset-y-0 left-0 w-64 bg-gray-900 border-r border-gray-800 flex flex-col z-50 transition-transform duration-300 md:translate-x-0 ${h?"translate-x-0":"-translate-x-full"} shrink-0 shadow-2xl md:shadow-none`,children:[a.jsxs("div",{className:"p-6 border-b border-gray-800 flex items-center gap-3",children:[a.jsx("div",{className:"w-9 h-9 bg-gray-800 border border-gray-700 text-white rounded-xl flex items-center justify-center font-bold text-xl shadow-lg",children:"TN"}),a.jsxs("span",{className:"font-display font-bold text-xl tracking-tight text-white",children:["Admin",a.jsx("span",{className:"text-brand-purple",children:"Portal"})]})]}),a.jsxs("div",{className:"flex-grow overflow-y-auto py-6 px-3 space-y-1",children:[a.jsx("p",{className:"px-4 text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Modules"}),a.jsx(Nt,{id:"dashboard",activeTab:n,setActiveTab:_=>{r(_),p(!1)},icon:dv,label:"Dashboard"}),a.jsx(Nt,{id:"users",activeTab:n,setActiveTab:_=>{r(_),p(!1)},icon:nc,label:"Users"}),a.jsx(Nt,{id:"content",activeTab:n,setActiveTab:_=>{r(_),p(!1)},icon:Ks,label:"Exams & Content"}),a.jsx(Nt,{id:"exam-profiles",activeTab:n,setActiveTab:_=>{r(_),p(!1)},icon:Xf,label:"Master Rules (Profiles)"}),a.jsx(Nt,{id:"content-library",activeTab:n,setActiveTab:_=>{r(_),p(!1)},icon:Ff,label:"Paragraphs Library"}),a.jsx(Nt,{id:"cpt-tests",activeTab:n,setActiveTab:_=>{r(_),p(!1)},icon:Gf,label:"CPT Management"}),a.jsx(Nt,{id:"ads",activeTab:n,setActiveTab:_=>{r(_),p(!1)},icon:pv,label:"Ads Manager"}),(s==null?void 0:s.users)&&b&&((R=s.users.find(_=>_.id===(b==null?void 0:b.id)))==null?void 0:R.role)==="Super Admin"&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"px-4 text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-6 mb-2",children:"Super Admin"}),a.jsx(Nt,{id:"admins",activeTab:n,setActiveTab:_=>{r(_),p(!1)},icon:an,label:"Admin Management"})]}),a.jsx("p",{className:"px-4 text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-6 mb-2",children:"System Controls"}),a.jsx(Nt,{id:"course-manager",activeTab:n,setActiveTab:_=>{r(_),p(!1)},icon:uv,label:"Course Manager"}),a.jsx(Nt,{id:"certificates",activeTab:n,setActiveTab:_=>{r(_),p(!1)},icon:hc,label:"Certificates"}),a.jsx(Nt,{id:"system",activeTab:n,setActiveTab:_=>{r(_),p(!1)},icon:Wf,label:"System Health"}),a.jsx(Nt,{id:"settings",activeTab:n,setActiveTab:_=>{r(_),p(!1)},icon:pc,label:"Global Settings"}),a.jsx(Nt,{id:"logs",activeTab:n,setActiveTab:_=>{r(_),p(!1)},icon:Hf,label:"Activity Logs"})]}),a.jsxs("div",{className:"p-4 border-t border-gray-800 mt-auto bg-gray-900/50 space-y-2",children:[a.jsxs("a",{href:"https://typingnexus.in",target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-bold transition-all text-xs text-brand-purple hover:bg-brand-purple/10 bg-gray-800 border border-brand-purple/30 shadow-lg group",children:[a.jsx(sv,{size:16,className:"group-hover:scale-110 transition-transform"}),a.jsx("span",{children:"Visit Website"})]}),a.jsxs("button",{onClick:()=>{k(),v("/")},className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-bold transition-all text-xs text-red-400 hover:bg-red-900/20 bg-gray-800 border border-red-900/50 shadow-lg group",children:[a.jsx(fv,{size:16,className:"group-hover:rotate-12 transition-transform"}),a.jsx("span",{children:"Logout Securely"})]})]})]}),a.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[a.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-gray-900 border-b border-gray-800",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-brand-purple text-white rounded-lg flex items-center justify-center font-bold text-xs shadow-lg shadow-purple-900/20",children:"AR"}),a.jsx("span",{className:"font-display font-bold text-sm text-white",children:"Admin Portal"})]}),a.jsx("button",{onClick:()=>p(!0),className:"p-2 text-gray-400 hover:bg-gray-800 rounded-lg transition-colors",children:a.jsx(gv,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-10",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[n==="dashboard"&&a.jsx(Mv,{stats:T}),n==="users"&&a.jsx(Fv,{users:s.users,setUsers:_=>Te({...s,users:_}),toggleUserStatus:Df,deleteUser:Lf}),n==="content"&&a.jsx(Uv,{exams:s.exams,setExams:_=>Te({...s,exams:_}),rules:s.rules,categories:s.categories,setCategories:_=>Te({...s,categories:_}),examProfiles:s.examProfiles||[],setExamProfiles:_=>Te({...s,examProfiles:_})}),n==="ads"&&a.jsx(zv,{ads:s.ads,setAds:_=>Te({...s,ads:_})}),n==="announcements"&&a.jsx(Wv,{announcements:s.announcements,setAnnouncements:_=>Te({...s,announcements:_})}),n==="admins"&&a.jsx(Lv,{}),n==="system"&&a.jsx(Hv,{}),n==="settings"&&a.jsx($v,{settings:s.settings,setSettings:_=>Te({...s,settings:_})}),n==="logs"&&a.jsx(Dv,{}),n==="exam-profiles"&&a.jsx(Iv,{}),n==="content-library"&&a.jsx(Pv,{}),n==="cpt-tests"&&a.jsx(Av,{}),n==="course-manager"&&a.jsx(Ov,{}),n==="certificates"&&a.jsx(Vv,{templates:s.certificateTemplates,criteria:s.certificateCriteria,setCriteria:_=>Te({...s,certificateCriteria:_})})]})})]})]})},Kv=()=>a.jsx(Xx,{children:a.jsx(e0,{children:a.jsxs(Ym,{children:[a.jsx(vi,{path:"/",element:a.jsx(Cv,{})}),a.jsx(vi,{path:"/dashboard/*",element:a.jsx(qv,{})}),a.jsx(vi,{path:"*",element:a.jsx(Jm,{to:"/",replace:!0})})]})})}),tp=document.getElementById("root");if(!tp)throw new Error("Could not find root element to mount to");const Gv=om.createRoot(tp);Gv.render(a.jsx(Ms.StrictMode,{children:a.jsx(Kv,{})}));
